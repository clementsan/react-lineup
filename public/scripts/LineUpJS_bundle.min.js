!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LineUpJS=t():e.LineUpJS=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=142)}([function(e,t,n){"use strict";function r(...e){let t=null;for(const n of e){const e=Object.keys(n);if(null!==t)for(const i of e){const e=n[i];Object.prototype.toString.call(e)===h&&Object.getPrototypeOf(e)===Object.prototype?(void 0===t[i]&&(t[i]={}),t[i]=r(t[i],e)):Array.isArray(e)?(void 0===t[i]&&(t[i]=[]),t[i]=e.concat(t[i])):t[i]=e}else t=n}return t}function i(e){const t=e.getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:t.width,height:t.height}}function a(e,t){const n=e.dataTransfer.types;return"function"==typeof n.indexOf?t.some(e=>n.indexOf(e)>=0):"function"==typeof n.includes?t.some(e=>n.includes(e)):"function"==typeof n.contains&&t.some(e=>n.contains(e))}function o(e){return f.size>0&&a(e,["text/plain"])}function s(e){const t=e.dataTransfer;return e.ctrlKey&&null!=t.effectAllowed.match(/copy/gi)||null==t.effectAllowed.match(/move/gi)}function l(e,t){return void 0===t?e:(e.textContent!==t&&(e.textContent=t),e)}function u(e,t,n){Array.from(e.querySelectorAll(t)).forEach(n)}t.q=function(e,t=0){if(0===t)return Math.round(e);const n=Math.pow(10,t);return Math.round(e*n)/n},t.k=function(e){return(t,n)=>{if(t in e)return e[t];if(t.indexOf(".")>0){const n=t.substring(0,t.indexOf("."));if(t=t.substring(t.indexOf(".")+1),n in e&&t in e[n])return e[n][t]}return n}},t.t=function(e,t,n=.5){return e===t||Math.abs(e-t)<n},t.f=function(e,t=100,n){let r=-1,i=null;return function(...a){r>=0&&(clearTimeout(r),r=-1);const o={self:this,args:a};i=i&&n?n(i,o):o,r=setTimeout(()=>{console.assert(null!=i),e.call(i.self,...i.args),i=null},t)}},t.u=function(e,...t){return t.map(t=>`${t}${e}`)},t.p=r,t.h=function(e){return t=>{t.on("dragstart",t=>{const n=c.event,r=e(t);if(n.dataTransfer.effectAllowed=r.effectAllowed,Object.keys(r.data).every(e=>{try{return n.dataTransfer.setData(e,r.data[e]),!0}catch(e){return!1}}))return;const i=r.data["text/plain"]||"";n.dataTransfer.setData("text/plain",`${t.id}${i?`: ${i}`:""}`),f.set(t.id,r.data)}).on("dragend",e=>{f.size>0&&f.delete(e.id)})}},t.i=function(e,t){return n=>{n.on("dragenter",function(){const t=c.event;if(a(t,e)||o(t))return Object(c.select)(this).classed("drag_over",!0),!1;Object(c.select)(this).classed("drag_over",!1)}).on("dragover",function(){const t=c.event;if(a(t,e)||o(t))return t.preventDefault(),function(e){const t=e.dataTransfer;s(e)?t.dropEffect="copy":t.dropEffect="move"}(t),Object(c.select)(this).classed("drag_over",!0),!1}).on("dragleave",function(){Object(c.select)(this).classed("drag_over",!1)}).on("drop",function(n){const r=c.event;if(r.preventDefault(),Object(c.select)(this).classed("drag_over",!1),o(r)){const e=r.dataTransfer.getData("text/plain"),i=e.indexOf(":")>=0?e.substring(0,e.indexOf(":")):e;if(f.has(i)){const e=f.get(i);return f.delete(i),t(e,n,s(r))}}if(a(r,e)){const i={};return e.forEach(e=>{const t=r.dataTransfer.getData(e);""!==t&&(i[e]=t)}),t(i,n,s(r))}})}},t.c=function(e,t={},n={},r){return Object.keys(t).forEach(n=>{const r=String(t[n]);e.getAttribute(n)!==r&&e.setAttribute(n,r)}),Object.keys(n).forEach(t=>{const r=n[t];e.style.getPropertyValue(t)!==r&&e.style.setProperty(t,r)}),l(e,r)},t.r=l,t.l=u,t.m=function(e,t){Array.from(e.children).forEach(t)},t.e=function(e,t){const n=e.font,r=function(e){return e.font="10pt FontAwesome",e.measureText("").width}(e);e.font=t;const i="abcdefghijklmnopqrstuvwxyz",a=`${i}${i.toUpperCase()}0123456789`,o={maxLetterWidth:e.measureText("M").width,avgLetterWidth:e.measureText(a).width/a.length,ellipsisWidth:e.measureText(g).width,spinnerWidth:r};return e.font=n,o},t.d=function(e,t,n,r,i,a){const o=t=>e.fillText(t,n,r,i);if(a.maxLetterWidth*t.length<=i||i<=a.ellipsisWidth||0===t.length)return o(t);if(e.measureText(t).width<=i)return o(t);const s=i-a.ellipsisWidth;let l=0,u=t.length-1,c=Math.min(u,Math.floor(i/a.avgLetterWidth));for(;l<u;){const n=s-e.measureText(t.substring(0,c+1)).width;if(n<0)u=c-1;else{if(!(n>0))break;l=c+1}c=Math.floor((u+l)/2)}return o(t.substring(0,l+1)+g)},t.s=function(e,t,n,r){let i=e.querySelector(`div.lu-overlay#O${t}`);return i||((i=e.ownerDocument.createElement("div")).classList.add("lu-overlay"),i.id=`O${t}`,e.appendChild(i)),i.style.display="block",i.style.left=`${n}px`,i.style.top=`${r}px`,i},t.n=function(e){u(e,"div.lu-overlay",e=>e.style.display=null)},t.o=function(e,t,n,r="svg"){const i="detail"===n?e=>e.column.getRendererType():e=>e.column.getGroupRenderer();if(0===e.childElementCount)return e.innerHTML=t.map(e=>("detail"===n?e.renderer:e.groupRenderer).template).join(""),void t.forEach((t,n)=>{const r=e.childNodes[n];r.setAttribute("data-column-id",t.column.id),r.setAttribute("data-renderer",i(t))});if(t.every(function(t,n){const r=e.childElementCount<=n?null:e.childNodes[n];return null!=r&&r.getAttribute("data-column-id")===t.column.id&&r.getAttribute("data-renderer")===i(t)}))return;const a=new Set(t.map(e=>`${e.column.id}@${i(e)}`));Array.from(e.childNodes).forEach(t=>{const n=`${t.getAttribute("data-column-id")}@${t.getAttribute("data-renderer")}`;a.has(n)||e.removeChild(t)});const o="svg"===r?document.createElementNS("http://www.w3.org/2000/svg","g"):document.createElement("div");t.forEach(t=>{let r=e.querySelector(`[data-column-id="${t.column.id}"]`);r||(o.innerHTML=("detail"===n?t.renderer:t.groupRenderer).template,(r=o.childNodes[0]).setAttribute("data-column-id",t.column.id),r.setAttribute("data-renderer",i(t))),e.appendChild(r)})},t.j=function(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])},t.g=function(e){const t=c.scale.category10().range().slice();return e.forEach(e=>{switch(e.type){case"number":e.color=t.shift()}}),e};var c=n(3);n.n(c);class d{constructor(){this.listeners=Object(c.dispatch)(...this.createEventList());const e=this;this.forwarder=function(...t){e.fireImpl(this.type,this.primaryType,this.origin,...t)}}on(e,t){return void 0!==t?(Array.isArray(e)?e.forEach(e=>this.listeners.on(e,t)):this.listeners.on(e,t),this):this.listeners.on(e)}createEventList(){return[]}fire(e,...t){const n=Array.isArray(e)?e[0]:e;this.fireImpl(e,n,this,...t)}fireImpl(e,t,n,...r){const i=e=>{const i={source:this,origin:n,type:e,primaryType:t,args:r};this.listeners[e].apply(i,r)};Array.isArray(e)?e.forEach(i.bind(this)):i(e)}forward(e,...t){e.on(t,this.forwarder)}unforward(e,...t){e.on(t,null)}}t.a=d;const h="[object Object]";class p extends d{constructor(e,t,n={}){super(),this.container=e,this.options={pageSize:100,rowHeight:20,backupRows:5},this.prevScrollTop=0,this.shift=0,r(this.options,n),Object(c.select)(e).on("scroll.scroller",()=>this.onScroll()),this.prevScrollTop=e.scrollTop,this.shift=i(t).top-i(e).top}createEventList(){return super.createEventList().concat([p.EVENT_REDRAW,p.EVENT_SCROLL])}scrollIntoView(e,t,n,r){const i=this.selectImpl(e,t,r,0);if(i.from<=n&&n<=i.to)return;const a=r(n)-10,o=this.container.scrollHeight-this.container.clientHeight;this.container.scrollTop=Math.max(0,Math.min(o,a))}select(e,t,n){return this.selectImpl(e,t,n,this.options.backupRows)}selectImpl(e,t,n,r){const i=this.container.scrollTop-this.shift,a=i+this.container.clientHeight;let o,s=0;if(i>0){for(s=Math.round(i/this.options.rowHeight);s>=e&&n(s+1)>i;)s--;s-=r}for(o=Math.round(a/this.options.rowHeight);o<=t&&n(o-1)<a;)o++;return o+=r,{from:Math.max(s,e),to:Math.min(o,t)}}onScroll(){const e=this.container.scrollTop,t=this.container.scrollLeft;if(this.fire(p.EVENT_SCROLL,e,t),Math.abs(this.prevScrollTop-e)<this.options.pageSize)return;const n=this.prevScrollTop-e;this.prevScrollTop=e,this.fire(p.EVENT_REDRAW,n)}destroy(){Object(c.select)(this.container).on("scroll.scroller",null)}}t.b=p,p.EVENT_SCROLL="scroll",p.EVENT_REDRAW="redraw";const f=new Map,g="…"},function(e,t,n){"use strict";function r(e){return e.replace(/[\s!#$%&'()*+,.\/:;<=>?@\[\\\]\^`{|}~]/g,"_")}t.b=r;var i=n(0),a=n(24),o=n(5);class s extends i.a{constructor(e,t){super(),this.desc=t,this.width=100,this.parent=null,this.uid=r(e),this.rendererInfo={renderer:this.desc.rendererType||this.desc.type,groupRenderer:this.desc.groupRenderer||this.desc.type},this.cssClass=t.cssClass||"",this.metadata={label:t.label||this.id,description:t.description||"",color:t.color||(""!==this.cssClass?null:s.DEFAULT_COLOR)}}get id(){return this.uid}assignNewId(e){this.uid=r(e())}get label(){return this.metadata.label}get description(){return this.metadata.description}get color(){return this.metadata.color}get headerCssClass(){return this.desc.type}get fqid(){return this.parent?`${this.parent.fqid}_${this.id}`:this.id}get fqpath(){return this.parent?`${this.parent.fqpath}@${this.parent.indexOf(this)}`:""}createEventList(){return super.createEventList().concat([s.EVENT_WIDTH_CHANGED,s.EVENT_FILTER_CHANGED,s.EVENT_LABEL_CHANGED,s.EVENT_METADATA_CHANGED,s.EVENT_ADD_COLUMN,s.EVENT_REMOVE_COLUMN,s.EVENT_RENDERER_TYPE_CHANGED,s.EVENT_GROUP_RENDERER_TYPE_CHANGED,s.EVENT_SORTMETHOD_CHANGED,s.EVENT_MOVE_COLUMN,s.EVENT_DIRTY,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_GROUPING_CHANGED])}getWidth(){return this.width}isHidden(){return this.width<=0}hide(){return this.setWidth(0)}flatten(e,t,n=0,r=0){const i=this.getWidth();return e.push({col:this,offset:t,width:i}),i}setWidth(e){Object(i.t)(this.width,e,.5)||this.fire([s.EVENT_WIDTH_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.width,this.width=e)}setWidthImpl(e){this.width=e}setMetaData(e){if(e.label===this.label&&this.color===e.color&&this.description===e.description)return;const t=this.color===e.color?[s.EVENT_LABEL_CHANGED,s.EVENT_METADATA_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY]:[s.EVENT_LABEL_CHANGED,s.EVENT_METADATA_CHANGED,s.EVENT_DIRTY_HEADER,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],n=this.getMetaData();this.metadata={label:e.label,color:e.color,description:e.description},this.fire(t,n,this.getMetaData())}getMetaData(){return{label:this.label,color:this.color,description:this.description}}sortByMe(e=!1){const t=this.findMyRanker();return!!t&&t.sortBy(this,e)}groupByMe(){const e=this.findMyRanker();return!!e&&e.toggleGrouping(this)}isGroupedBy(){const e=this.findMyRanker();return e?e.getGroupCriteria().indexOf(this):-1}toggleMySorting(){const e=this.findMyRanker();return!!e&&e.toggleSorting(this)}isSortedByMeImpl(e){const t=this.findMyRanker();if(!t)return{asc:void 0,priority:void 0};const n=e(t),r=n.findIndex(e=>e.col===this);return r<0?{asc:void 0,priority:void 0}:{asc:n[r].asc?"asc":"desc",priority:r.toString()}}isSortedByMe(){return this.isSortedByMeImpl(e=>e.getSortCriterias())}groupSortByMe(e=!1){const t=this.findMyRanker();return!!t&&t.groupSortBy(this,e)}toggleMyGroupSorting(){const e=this.findMyRanker();return!!e&&e.toggleGroupSorting(this)}isGroupSortedByMe(){return this.isSortedByMeImpl(e=>e.getGroupSortCriteria())}removeMe(){return!!this.parent&&this.parent.remove(this)}insertAfterMe(e){return!!this.parent&&null!=this.parent.insertAfter(e,this)}findMyRanker(){return this.parent?this.parent.findMyRanker():null}dump(e){const t={id:this.id,desc:e(this.desc),width:this.width};return this.label!==(this.desc.label||this.id)&&(t.label=this.label),this.color!==(this.desc.color||s.DEFAULT_COLOR)&&this.color&&(t.color=this.color),this.getRendererType()!==this.desc.type&&(t.rendererType=this.getRendererType()),t}restore(e,t){this.width=e.width||this.width,this.metadata={label:e.label||this.label,color:e.color||this.color,description:this.description},e.rendererType&&(this.rendererInfo.renderer=e.rendererType),e.groupRenderer&&(this.rendererInfo.groupRenderer=e.groupRenderer)}getLabel(e,t){return String(this.getValue(e,t))}getValue(e,t){return""}isMissing(e,t){return Object(o.b)(this.getValue(e,t))}compare(e,t,n,r){return 0}group(e,t){return a.a}groupCompare(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}isFiltered(){return!1}filter(e,t){return null!==e}getRendererType(){return this.rendererInfo.renderer}getGroupRenderer(){return this.rendererInfo.groupRenderer}setRendererType(e){e!==this.rendererInfo.renderer&&this.fire([s.EVENT_RENDERER_TYPE_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.rendererInfo.renderer,this.rendererInfo.renderer=e)}setDefaultRenderer(e){if(this.rendererInfo.renderer===this.desc.type)return this.setRendererType(e)}setGroupRenderer(e){e!==this.rendererInfo.groupRenderer&&this.fire([s.EVENT_GROUP_RENDERER_TYPE_CHANGED,s.EVENT_DIRTY_VALUES,s.EVENT_DIRTY],this.rendererInfo.groupRenderer,this.rendererInfo.groupRenderer=e)}setDefaultGroupRenderer(e){if(this.rendererInfo.groupRenderer===this.desc.type)return this.setGroupRenderer(e)}toSortingDesc(e){return e(this.desc)}}t.a=s,s.DEFAULT_COLOR="#C1C1C1",s.FLAT_ALL_COLUMNS=-1,s.EVENT_WIDTH_CHANGED="widthChanged",s.EVENT_FILTER_CHANGED="filterChanged",s.EVENT_LABEL_CHANGED="labelChanged",s.EVENT_METADATA_CHANGED="metaDataChanged",s.EVENT_ADD_COLUMN="addColumn",s.EVENT_MOVE_COLUMN="moveColumn",s.EVENT_REMOVE_COLUMN="removeColumn",s.EVENT_DIRTY="dirty",s.EVENT_DIRTY_HEADER="dirtyHeader",s.EVENT_DIRTY_VALUES="dirtyValues",s.EVENT_RENDERER_TYPE_CHANGED="rendererTypeChanged",s.EVENT_GROUP_RENDERER_TYPE_CHANGED="groupRendererChanged",s.EVENT_SORTMETHOD_CHANGED="sortMethodChanged",s.EVENT_GROUPING_CHANGED="groupingChanged"},function(e,t,n){"use strict";function r(e){return e instanceof o.a&&"function"==typeof e.getNumber||!(e instanceof o.a)&&null!=e.type.match(/(number|stack|ordinal)/)}function i(e,t,n=!1,r=!1){return n=n||null===e||isNaN(e),r=r||null===t||isNaN(t),n?r?0:a.a:r?-1*a.a:e-t}t.h=r,t.e=function(e,t,n,r,o){const s=e.getBoxPlotData(t,r),l=e.getBoxPlotData(n,o);if(null===s)return null===l?0:a.a;if(null===l)return-1*a.a;const u=e.getSortMethod();return i(s[u],l[u])},t.f=function(e,t,n,r){const i="normalized"===r?e.getBoxPlotData(t,n):e.getRawBoxPlotData(t,n);return null===i?NaN:i[e.getSortMethod()]},t.i=function(e){return void 0!==e.getNumbers&&r(e)},t.m=i,t.k=function(e,t){const n=e.map((e,n)=>({i:n,v:t.getNumber(e.v,e.dataIndex),m:t.isMissing(e.v,e.dataIndex)})).filter(e=>!e.m).sort((e,t)=>i(e.v,t.v)),r=n[Math.floor(n.length/2)];return void 0===r?0:r.i},t.g=function(e,t,n,r){const a=new h(e.map(e=>n.getNumber(e.v,e.dataIndex))),o=new h(t.map(e=>n.getNumber(e.v,e.dataIndex)));return i(a[r],o[r])},t.l=function(){return{min:-1/0,max:1/0,filterMissing:!1}},t.j=function(e,t){return Object(l.t)(e.min,t.min,.001)&&Object(l.t)(e.max,t.max,.001)&&e.filterMissing===t.filterMissing},t.n=function(e){return{min:null!==e.min&&isFinite(e.min)?e.min:-1/0,max:null!==e.max&&isFinite(e.max)?e.max:1/0,filterMissing:e.filterMissing}};var a=n(5),o=n(1),s=n(3),l=(n.n(s),n(0));const u=Object(s.format)(".3n");t.b=u;const c={min:"min",max:"max",median:"median",q1:"q1",q3:"q3"};t.d=c;const d=Object.assign({mean:"mean"},c);t.a=d;class h{constructor(e,t){this.scale=t,this._sorted=null,this._outlier=null,this.values=e.filter(e=>!Object(a.b)(e))}get sorted(){return null===this._sorted&&(this._sorted=this.values.slice().sort(s.ascending)),this._sorted}map(e){return this.scale?this.scale.apply(e):e}get min(){return this.map(Math.min(...this.values))}get max(){return this.map(Math.max(...this.values))}get median(){return this.map(Object(s.median)(this.sorted))}get q1(){return this.map(Object(s.quantile)(this.sorted,.25))}get q3(){return this.map(Object(s.quantile)(this.sorted,.75))}get mean(){return this.map(Object(s.mean)(this.values))}get outlier(){if(this._outlier)return this._outlier;const e=Object(s.quantile)(this.sorted,.25),t=Object(s.quantile)(this.sorted,.75),n=t-e,r=e-1.5*n,i=t+1.5*n;return this._outlier=this.sorted.filter(e=>(e<r||e>i)&&!Object(a.b)(e)),this.scale&&(this._outlier=this._outlier.map(e=>this.scale.apply(e))),this._outlier}}t.c=h},function(e,t,n){var r,i;!function(){function a(e){return e&&(e.ownerDocument||e.document||e).documentElement}function o(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function s(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function l(e){return null===e?NaN:+e}function u(e){return!isNaN(e)}function c(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function d(e){return e.length}function h(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function p(){this._=Object.create(null)}function f(e){return(e+="")===ca||e[0]===da?da+e:e}function g(e){return(e+="")[0]===da?e.slice(1):e}function m(e){return f(e)in this._}function v(e){return(e=f(e))in this._&&delete this._[e]}function b(){var e=[];for(var t in this._)e.push(g(t));return e}function y(){var e=0;for(var t in this._)++e;return e}function E(){for(var e in this._)return!1;return!0}function x(){this._=Object.create(null)}function _(e){return e}function C(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=ha.length;n<r;++n){var i=ha[n]+t;if(i in e)return i}}function w(){}function N(){}function M(e){function t(){for(var t,r=n,i=-1,a=r.length;++i<a;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new p;return t.on=function(t,i){var a,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function T(){Qi.event.preventDefault()}function R(){for(var e,t=Qi.event;e=t.sourceEvent;)t=e;return t}function S(e){for(var t=new N,n=0,r=arguments.length;++n<r;)t[arguments[n]]=M(t);return t.of=function(n,r){return function(i){try{var a=i.sourceEvent=Qi.event;i.target=e,Qi.event=i,t[i.type].apply(n,r)}finally{Qi.event=a}}},t}function O(e){return fa(e,ba),e}function D(e){return"function"==typeof e?e:function(){return ga(e,this)}}function A(e){return"function"==typeof e?e:function(){return ma(e,this)}}function k(e,t){return e=Qi.ns.qualify(e),null==t?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof t?e.local?function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}:function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}:e.local?function(){this.setAttributeNS(e.space,e.local,t)}:function(){this.setAttribute(e,t)}}function L(e){return e.trim().replace(/\s+/g," ")}function I(e){return new RegExp("(?:^|\\s+)"+Qi.requote(e)+"(?:\\s+|$)","g")}function V(e){return(e+"").trim().split(/^|\s+/)}function $(e,t){var n=(e=V(e).map(H)).length;return"function"==typeof t?function(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}:function(){for(var r=-1;++r<n;)e[r](this,t)}}function H(e){var t=I(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",L(i+" "+e))):n.setAttribute("class",L(i.replace(t," ")))}}function j(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function P(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function F(e){return"function"==typeof e?e:(e=Qi.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ya&&t.documentElement.namespaceURI===ya?t.createElement(e):t.createElementNS(n,e)}}function G(){var e=this.parentNode;e&&e.removeChild(this)}function z(e){return{__data__:e}}function U(e){return function(){return va(this,e)}}function W(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,a=e[n],o=0,s=a.length;o<s;o++)(i=a[o])&&t(i,o,n);return e}function q(e){return fa(e,xa),e}function Y(e,t,n){function r(){var t=this[i];t&&(this.removeEventListener(e,t,t.$),delete this[i])}var i="__on"+e,a=e.indexOf("."),o=B;a>0&&(e=e.slice(0,a));var s=_a.get(e);return s&&(e=s,o=Z),a?t?function(){var a=o(t,ta(arguments));r.call(this),this.addEventListener(e,this[i]=a,a.$=n),a._=t}:r:t?w:function(){var t,n=new RegExp("^__on([^.]+)"+Qi.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}}function B(e,t){return function(n){var r=Qi.event;Qi.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{Qi.event=r}}}function Z(e,t){var n=B(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function J(e){var t=".dragsuppress-"+ ++wa,n="click"+t,r=Qi.select(o(e)).on("touchmove"+t,T).on("dragstart"+t,T).on("selectstart"+t,T);if(null==Ca&&(Ca=!("onselectstart"in e)&&C(e.style,"userSelect")),Ca){var i=a(e).style,s=i[Ca];i[Ca]="none"}return function(e){if(r.on(t,null),Ca&&(i[Ca]=s),e){var a=function(){r.on(n,null)};r.on(n,function(){T(),a()},!0),setTimeout(a,0)}}}function X(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Na<0){var i=o(e);if(i.scrollX||i.scrollY){var a=(n=Qi.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Na=!(a.f||a.e),n.remove()}}return Na?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function K(){return Qi.event.changedTouches[0].identifier}function Q(e){return e>0?1:e<0?-1:0}function ee(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function te(e){return e>1?0:e<-1?Ra:Math.acos(e)}function ne(e){return e>1?Da:e<-1?-Da:Math.asin(e)}function re(e){return((e=Math.exp(e))+1/e)/2}function ie(e){return(e=Math.sin(e/2))*e}function ae(){}function oe(e,t,n){return this instanceof oe?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof oe?new oe(e.h,e.s,e.l):Ee(""+e,xe,oe):new oe(e,t,n)}function se(e,t,n){function r(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(a-i)*e/60:e<180?a:e<240?i+(a-i)*(240-e)/60:i}(e))}var i,a;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,a=n<=.5?n*(1+t):n+t-n*t,i=2*n-a,new me(r(e+120),r(e),r(e-120))}function le(e,t,n){return this instanceof le?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof le?new le(e.h,e.c,e.l):e instanceof ce?he(e.l,e.a,e.b):he((e=_e((e=Qi.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new le(e,t,n)}function ue(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ce(n,Math.cos(e*=Aa)*t,Math.sin(e)*t)}function ce(e,t,n){return this instanceof ce?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof ce?new ce(e.l,e.a,e.b):e instanceof le?ue(e.h,e.c,e.l):_e((e=me(e)).r,e.g,e.b):new ce(e,t,n)}function de(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;return i=pe(i)*Fa,r=pe(r)*Ga,a=pe(a)*za,new me(ge(3.2404542*i-1.5371385*r-.4985314*a),ge(-.969266*i+1.8760108*r+.041556*a),ge(.0556434*i-.2040259*r+1.0572252*a))}function he(e,t,n){return e>0?new le(Math.atan2(n,t)*ka,Math.sqrt(t*t+n*n),e):new le(NaN,NaN,e)}function pe(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function fe(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ge(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function me(e,t,n){return this instanceof me?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof me?new me(e.r,e.g,e.b):Ee(""+e,me,se):new me(e,t,n)}function ve(e){return new me(e>>16,e>>8&255,255&e)}function be(e){return ve(e)+""}function ye(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Ee(e,t,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(we(i[0]),we(i[1]),we(i[2]))}return(a=qa.get(e))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,l=15&a,l|=l<<4):7===e.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),t(o,s,l))}function xe(e,t,n){var r,i,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-a,l=(o+a)/2;return s?(i=l<.5?s/(o+a):s/(2-o-a),r=e==o?(t-n)/s+(t<n?6:0):t==o?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new oe(r,i,l)}function _e(e,t,n){var r=fe((.4124564*(e=Ce(e))+.3575761*(t=Ce(t))+.1804375*(n=Ce(n)))/Fa),i=fe((.2126729*e+.7151522*t+.072175*n)/Ga);return ce(116*i-16,500*(r-i),200*(i-fe((.0193339*e+.119192*t+.9503041*n)/za)))}function Ce(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function we(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function Ne(e){return"function"==typeof e?e:function(){return e}}function Me(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Te(t,n,e,r)}}function Te(e,t,n,r){function i(){var e,t=l.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(l)||t>=200&&t<300||304===t){try{e=n.call(a,l)}catch(e){return void o.error.call(a,e)}o.load.call(a,e)}else o.error.call(a,l)}var a={},o=Qi.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(e){var t=Qi.event;Qi.event=e;try{o.progress.call(a,l)}finally{Qi.event=t}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",a):t},a.responseType=function(e){return arguments.length?(u=e,a):u},a.response=function(e){return n=e,a},["get","post"].forEach(function(e){a[e]=function(){return a.send.apply(a,[e].concat(ta(arguments)))}}),a.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=u&&(l.responseType=u),null!=i&&a.on("error",i).on("load",function(e){i(null,e)}),o.beforesend.call(a,l),l.send(null==r?null:r),a},a.abort=function(){return l.abort(),a},Qi.rebind(a,o,"on"),null==r?a:a.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(r))}function Re(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i={c:e,t:n+t,n:null};return Ba?Ba.n=i:Ya=i,Ba=i,Za||(Ja=clearTimeout(Ja),Za=1,Xa(Se)),i}function Se(){var e=Oe(),t=De()-e;t>24?(isFinite(t)&&(clearTimeout(Ja),Ja=setTimeout(Se,t)),Za=0):(Za=1,Xa(Se))}function Oe(){for(var e=Date.now(),t=Ya;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function De(){for(var e,t=Ya,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:Ya=t.n;return Ba=e,n}function Ae(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function ke(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Le(e,t,n){function r(t){var n=e(t),r=a(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new no(n-1)),1),n}function a(e,n){return t(e=new no(+e),n),e}function o(e,r,a){var o=i(e),s=[];if(a>1)for(;o<r;)n(o)%a||s.push(new Date(+o)),t(o,1);else for(;o<r;)s.push(new Date(+o)),t(o,1);return s}e.floor=e,e.round=r,e.ceil=i,e.offset=a,e.range=o;var s=e.utc=Ie(e);return s.floor=s,s.round=Ie(r),s.ceil=Ie(i),s.offset=Ie(a),s.range=function(e,t,n){try{no=ke;var r=new ke;return r._=e,o(r,t,n)}finally{no=Date}},e}function Ie(e){return function(t,n){try{no=ke;var r=new ke;return r._=t,e(r,n)._}finally{no=Date}}}function Ve(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function $e(e){return new RegExp("^(?:"+e.map(Qi.requote).join("|")+")","i")}function He(e){for(var t=new p,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function je(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Pe(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Fe(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Ge(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ze(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n,n+2));return r?(e.y=function(e){return e+(e>68?1900:2e3)}(+r[0]),n+r[0].length):-1}function Ue(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function We(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qe(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ye(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function Be(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ze(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Je(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Xe(e,t,n){ao.lastIndex=0;var r=ao.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ke(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=ua(t)/60|0,i=ua(t)%60;return n+Ve(r,"0",2)+Ve(i,"0",2)}function Qe(e,t,n){oo.lastIndex=0;var r=oo.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function et(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function tt(){}function nt(e,t,n){var r=n.s=e+t,i=r-e,a=r-i;n.t=e-a+(t-i)}function rt(e,t){e&&co.hasOwnProperty(e.type)&&co[e.type](e,t)}function it(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function at(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)it(e[n],t,1);t.polygonEnd()}function ot(){function e(e,t){t=t*Aa/2+Ra/4;var n=(e*=Aa)-r,o=n>=0?1:-1,s=o*n,l=Math.cos(t),u=Math.sin(t),c=a*u,d=i*l+c*Math.cos(s),h=c*o*Math.sin(s);po.add(Math.atan2(h,d)),r=e,i=l,a=u}var t,n,r,i,a;fo.point=function(o,s){fo.point=e,r=(t=o)*Aa,i=Math.cos(s=(n=s)*Aa/2+Ra/4),a=Math.sin(s)},fo.lineEnd=function(){e(t,n)}}function st(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function lt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ut(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ct(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function dt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ht(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function pt(e){return[Math.atan2(e[1],e[0]),ne(e[2])]}function ft(e,t){return ua(e[0]-t[0])<Ma&&ua(e[1]-t[1])<Ma}function gt(e,t){e*=Aa;var n=Math.cos(t*=Aa);mt(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function mt(e,t,n){vo+=(e-vo)/++go,bo+=(t-bo)/go,yo+=(n-yo)/go}function vt(){function e(e,i){e*=Aa;var a=Math.cos(i*=Aa),o=a*Math.cos(e),s=a*Math.sin(e),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*o-t*l)*u+(u=t*s-n*o)*u),t*o+n*s+r*l);mo+=u,Eo+=u*(t+(t=o)),xo+=u*(n+(n=s)),_o+=u*(r+(r=l)),mt(t,n,r)}var t,n,r;Mo.point=function(i,a){i*=Aa;var o=Math.cos(a*=Aa);t=o*Math.cos(i),n=o*Math.sin(i),r=Math.sin(a),Mo.point=e,mt(t,n,r)}}function bt(){Mo.point=gt}function yt(){function e(e,t){e*=Aa;var n=Math.cos(t*=Aa),o=n*Math.cos(e),s=n*Math.sin(e),l=Math.sin(t),u=i*l-a*s,c=a*o-r*l,d=r*s-i*o,h=Math.sqrt(u*u+c*c+d*d),p=r*o+i*s+a*l,f=h&&-te(p)/h,g=Math.atan2(h,p);Co+=f*u,wo+=f*c,No+=f*d,mo+=g,Eo+=g*(r+(r=o)),xo+=g*(i+(i=s)),_o+=g*(a+(a=l)),mt(r,i,a)}var t,n,r,i,a;Mo.point=function(o,s){t=o,n=s,Mo.point=e,o*=Aa;var l=Math.cos(s*=Aa);r=l*Math.cos(o),i=l*Math.sin(o),a=Math.sin(s),mt(r,i,a)},Mo.lineEnd=function(){e(t,n),Mo.lineEnd=bt,Mo.point=gt}}function Et(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function xt(){return!0}function _t(e,t,n,r,i){var a=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(ft(n,r)){i.lineStart();for(var s=0;s<t;++s)i.point((n=e[s])[0],n[1]);i.lineEnd()}else{var l=new wt(n,e,null,!0),u=new wt(n,null,l,!1);l.o=u,a.push(l),o.push(u),u=new wt(r,null,l=new wt(r,e,null,!1),!0),l.o=u,a.push(l),o.push(u)}}}),o.sort(t),Ct(a),Ct(o),a.length){for(var s=0,l=n,u=o.length;s<u;++s)o[s].e=l=!l;for(var c,d,h=a[0];;){for(var p=h,f=!0;p.v;)if((p=p.n)===h)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(var s=0,u=c.length;s<u;++s)i.point((d=c[s])[0],d[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(f)for(s=(c=p.p.z).length-1;s>=0;--s)i.point((d=c[s])[0],d[1]);else r(p.x,p.p.x,-1,i);p=p.p}c=(p=p.o).z,f=!f}while(!p.v);i.lineEnd()}}}function Ct(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function wt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Nt(e,t,n,r){return function(i,a){function o(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&a.point(t,n)}function s(e,t){var n=i(e,t);m.point(n[0],n[1])}function l(){b.point=s,m.lineStart()}function u(){b.point=o,m.lineEnd()}function c(e,t){g.push([e,t]);var n=i(e,t);E.point(n[0],n[1])}function d(){E.lineStart(),g=[]}function h(){c(g[0][0],g[0][1]),E.lineEnd();var e,t=E.clean(),n=y.buffer(),r=n.length;if(g.pop(),f.push(g),g=null,r)if(1&t){var i,o=-1;if((r=(e=n[0]).length-1)>0){for(x||(a.polygonStart(),x=!0),a.lineStart();++o<r;)a.point((i=e[o])[0],i[1]);a.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),p.push(n.filter(Mt))}var p,f,g,m=t(a),v=i.invert(r[0],r[1]),b={point:o,lineStart:l,lineEnd:u,polygonStart:function(){b.point=c,b.lineStart=d,b.lineEnd=h,p=[],f=[]},polygonEnd:function(){b.point=o,b.lineStart=l,b.lineEnd=u,p=Qi.merge(p);var e=function(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;po.reset();for(var s=0,l=t.length;s<l;++s){var u=t[s],c=u.length;if(c)for(var d=u[0],h=d[0],p=d[1]/2+Ra/4,f=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0);var v=(e=u[m])[0],b=e[1]/2+Ra/4,y=Math.sin(b),E=Math.cos(b),x=v-h,_=x>=0?1:-1,C=_*x,w=C>Ra,N=f*y;if(po.add(Math.atan2(N*_*Math.sin(C),g*E+N*Math.cos(C))),a+=w?x+_*Sa:x,w^h>=n^v>=n){var M=ut(st(d),st(e));ht(M);var T=ut(i,M);ht(T);var R=(w^x>=0?-1:1)*ne(T[2]);(r>R||r===R&&(M[0]||M[1]))&&(o+=w^x>=0?1:-1)}if(!m++)break;h=v,f=y,g=E,d=e}}return(a<-Ma||a<Ma&&po<-Ma)^1&o}(v,f);p.length?(x||(a.polygonStart(),x=!0),_t(p,Rt,e,n,a)):e&&(x||(a.polygonStart(),x=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),p=f=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},y=Tt(),E=t(y),x=!1;return b}}function Mt(e){return e.length>1}function Tt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:w,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Rt(e,t){return((e=e.x)[0]<0?e[1]-Da-Ma:Da-e[1])-((t=t.x)[0]<0?t[1]-Da-Ma:Da-t[1])}function St(e,t,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,u=o.y,c=0,d=1,h=s.x-l,p=s.y-u;if(a=e-l,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<d&&(d=a)}else if(h>0){if(a>d)return;a>c&&(c=a)}if(a=n-l,h||!(a<0)){if(a/=h,h<0){if(a>d)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<d&&(d=a)}if(a=t-u,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<d&&(d=a)}else if(p>0){if(a>d)return;a>c&&(c=a)}if(a=r-u,p||!(a<0)){if(a/=p,p<0){if(a>d)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<d&&(d=a)}return c>0&&(i.a={x:l+c*h,y:u+c*p}),d<1&&(i.b={x:l+d*h,y:u+d*p}),i}}}}}}function Ot(e,t,n,r){function i(r,i){return ua(r[0]-e)<Ma?i>0?0:3:ua(r[0]-n)<Ma?i>0?2:1:ua(r[1]-t)<Ma?i>0?1:0:i>0?3:2}function a(e,t){return o(e.x,t.x)}function o(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function l(a,s,l,u){var c=0,d=0;if(null==a||(c=i(a,l))!==(d=i(s,l))||o(a,s)<0^l>0)do{u.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+l+4)%4)!==d);else u.point(s[0],s[1])}function u(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function c(e,t){u(e,t)&&s.point(e,t)}function d(e,t){var n=u(e=Math.max(-Ro,Math.min(Ro,e)),t=Math.max(-Ro,Math.min(Ro,t)));if(p&&f.push([e,t]),x)g=e,m=t,v=n,x=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&E)s.point(e,t);else{var r={a:{x:b,y},b:{x:e,y:t}};N(r)?(E||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),_=!1):n&&(s.lineStart(),s.point(e,t),_=!1)}b=e,y=t,E=n}var h,p,f,g,m,v,b,y,E,x,_,C=s,w=Tt(),N=St(e,t,n,r),M={point:c,lineStart:function(){M.point=d,p&&p.push(f=[]),x=!0,E=!1,b=y=NaN},lineEnd:function(){h&&(d(g,m),v&&E&&w.rejoin(),h.push(w.buffer())),M.point=c,E&&s.lineEnd()},polygonStart:function(){s=w,h=[],p=[],_=!0},polygonEnd:function(){s=C,h=Qi.merge(h);var t=function(e){for(var t=0,n=p.length,r=e[1],i=0;i<n;++i)for(var a,o=1,s=p[i],l=s.length,u=s[0];o<l;++o)a=s[o],u[1]<=r?a[1]>r&&ee(u,a,e)>0&&++t:a[1]<=r&&ee(u,a,e)<0&&--t,u=a;return 0!==t}([e,r]),n=_&&t,i=h.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&_t(h,a,t,l,s),s.polygonEnd()),h=p=f=null}};return M}}function Dt(e){var t=0,n=Ra/3,r=zt(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Ra/180,n=e[1]*Ra/180):[t/Ra*180,n/Ra*180]},i}function At(e,t){function n(e,t){var n=Math.sqrt(a-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,a=1+r*(2*i-r),o=Math.sqrt(a)/i;return n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,ne((a-(e*e+n*n)*i*i)/(2*i))]},n}function kt(){function e(e,t){Oo+=i*e-r*t,r=e,i=t}var t,n,r,i;Io.point=function(a,o){Io.point=e,t=r=a,n=i=o},Io.lineEnd=function(){e(t,n)}}function Lt(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function It(e,t){vo+=e,bo+=t,++yo}function Vt(){function e(e,r){var i=e-t,a=r-n,o=Math.sqrt(i*i+a*a);Eo+=o*(t+e)/2,xo+=o*(n+r)/2,_o+=o,It(t=e,n=r)}var t,n;$o.point=function(r,i){$o.point=e,It(t=r,n=i)}}function $t(){$o.point=It}function Ht(){function e(e,t){var n=e-r,a=t-i,o=Math.sqrt(n*n+a*a);Eo+=o*(r+e)/2,xo+=o*(i+t)/2,_o+=o,Co+=(o=i*e-r*t)*(r+e),wo+=o*(i+t),No+=3*o,It(r=e,i=t)}var t,n,r,i;$o.point=function(a,o){$o.point=e,It(t=r=a,n=i=o)},$o.lineEnd=function(){e(t,n)}}function jt(e){function t(t){return(a?function(t){function r(n,r){n=e(n,r),t.point(n[0],n[1])}function i(){y=NaN,w.point=o,t.lineStart()}function o(r,i){var o=st([r,i]),s=e(r,i);n(y,E,b,x,_,C,y=s[0],E=s[1],b=r,x=o[0],_=o[1],C=o[2],a,t),t.point(y,E)}function s(){w.point=r,t.lineEnd()}function l(){i(),w.point=u,w.lineEnd=c}function u(e,t){o(d=e,h=t),p=y,f=E,g=x,m=_,v=C,w.point=o}function c(){n(y,E,b,x,_,C,p,f,d,g,m,v,a,t),w.lineEnd=s,s()}var d,h,p,f,g,m,v,b,y,E,x,_,C,w={point:r,lineStart:i,lineEnd:s,polygonStart:function(){t.polygonStart(),w.lineStart=l},polygonEnd:function(){t.polygonEnd(),w.lineStart=i}};return w}:function(t){return Ft(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})})(t)}function n(t,a,o,s,l,u,c,d,h,p,f,g,m,v){var b=c-t,y=d-a,E=b*b+y*y;if(E>4*r&&m--){var x=s+p,_=l+f,C=u+g,w=Math.sqrt(x*x+_*_+C*C),N=Math.asin(C/=w),M=ua(ua(C)-1)<Ma||ua(o-h)<Ma?(o+h)/2:Math.atan2(_,x),T=e(M,N),R=T[0],S=T[1],O=R-t,D=S-a,A=y*O-b*D;(A*A/E>r||ua((b*O+y*D)/E-.5)>.3||s*p+l*f+u*g<i)&&(n(t,a,o,s,l,u,R,S,M,x/=w,_/=w,C,m,v),v.point(R,S),n(R,S,M,x,_,C,c,d,h,p,f,g,m,v))}}var r=.5,i=Math.cos(30*Aa),a=16;return t.precision=function(e){return arguments.length?(a=(r=e*e)>0&&16,t):Math.sqrt(r)},t}function Pt(e){this.stream=e}function Ft(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Gt(e){return zt(function(){return e})()}function zt(e){function t(e){return e=o(e[0]*Aa,e[1]*Aa),[e[0]*d+s,l-e[1]*d]}function n(){o=Et(a=Yt(m,v,b),i);var e=i(f,g);return s=h-e[0]*d,l=p+e[1]*d,r()}function r(){return u&&(u.valid=!1,u=null),t}var i,a,o,s,l,u,c=jt(function(e,t){return e=i(e,t),[e[0]*d+s,l-e[1]*d]}),d=150,h=480,p=250,f=0,g=0,m=0,v=0,b=0,y=To,E=_,x=null,C=null;return t.stream=function(e){return u&&(u.valid=!1),u=Ut(y(a,c(E(e)))),u.valid=!0,u},t.clipAngle=function(e){return arguments.length?(y=null==e?(x=e,To):function(e){function t(e,t){return Math.cos(e)*Math.cos(t)>i}function n(e,t,n){var r=[1,0,0],a=ut(st(e),st(t)),o=lt(a,a),s=a[0],l=o-s*s;if(!l)return!n&&e;var u=i*o/l,c=-i*s/l,d=ut(r,a),h=dt(r,u);ct(h,dt(a,c));var p=d,f=lt(h,p),g=lt(p,p),m=f*f-g*(lt(h,h)-1);if(!(m<0)){var v=Math.sqrt(m),b=dt(p,(-f-v)/g);if(ct(b,h),b=pt(b),!n)return b;var y,E=e[0],x=t[0],_=e[1],C=t[1];x<E&&(y=E,E=x,x=y);var w=x-E,N=ua(w-Ra)<Ma;if(!N&&C<_&&(y=_,_=C,C=y),N||w<Ma?N?_+C>0^b[1]<(ua(b[0]-E)<Ma?_:C):_<=b[1]&&b[1]<=C:w>Ra^(E<=b[0]&&b[0]<=x)){var M=dt(p,(-f+v)/g);return ct(M,h),[b,pt(M)]}}}function r(t,n){var r=a?e:Ra-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var i=Math.cos(e),a=i>0,o=ua(i)>Ma;return Nt(t,function(e){var i,s,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,h){var p,f=[d,h],g=t(d,h),m=a?g?0:r(d,h):g?r(d+(d<0?Ra:-Ra),h):0;if(!i&&(u=l=g)&&e.lineStart(),g!==l&&(p=n(i,f),(ft(i,p)||ft(f,p))&&(f[0]+=Ma,f[1]+=Ma,g=t(f[0],f[1]))),g!==l)c=0,g?(e.lineStart(),p=n(f,i),e.point(p[0],p[1])):(p=n(i,f),e.point(p[0],p[1]),e.lineEnd()),i=p;else if(o&&i&&a^g){var v;m&s||!(v=n(f,i,!0))||(c=0,a?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!g||i&&ft(i,f)||e.point(f[0],f[1]),i=f,l=g,s=m},lineEnd:function(){l&&e.lineEnd(),i=null},clean:function(){return c|(u&&l)<<1}}},Xt(e,6*Aa),a?[0,-e]:[-Ra,e-Ra])}((x=+e)*Aa),r()):x},t.clipExtent=function(e){return arguments.length?(C=e,E=e?Ot(e[0][0],e[0][1],e[1][0],e[1][1]):_,r()):C},t.scale=function(e){return arguments.length?(d=+e,n()):d},t.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],n()):[h,p]},t.center=function(e){return arguments.length?(f=e[0]%360*Aa,g=e[1]%360*Aa,n()):[f*ka,g*ka]},t.rotate=function(e){return arguments.length?(m=e[0]%360*Aa,v=e[1]%360*Aa,b=e.length>2?e[2]%360*Aa:0,n()):[m*ka,v*ka,b*ka]},Qi.rebind(t,c,"precision"),function(){return i=e.apply(this,arguments),t.invert=i.invert&&function(e){return(e=o.invert((e[0]-s)/d,(l-e[1])/d))&&[e[0]*ka,e[1]*ka]},n()}}function Ut(e){return Ft(e,function(t,n){e.point(t*Aa,n*Aa)})}function Wt(e,t){return[e,t]}function qt(e,t){return[e>Ra?e-Sa:e<-Ra?e+Sa:e,t]}function Yt(e,t,n){return e?t||n?Et(Zt(e),Jt(t,n)):Zt(e):t||n?Jt(t,n):qt}function Bt(e){return function(t,n){return t+=e,[t>Ra?t-Sa:t<-Ra?t+Sa:t,n]}}function Zt(e){var t=Bt(e);return t.invert=Bt(-e),t}function Jt(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*r+s*i;return[Math.atan2(l*a-c*o,s*r-u*i),ne(c*a+l*o)]}var r=Math.cos(e),i=Math.sin(e),a=Math.cos(t),o=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),c=u*a-l*o;return[Math.atan2(l*a+u*o,s*r+c*i),ne(c*r-s*i)]},n}function Xt(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,a,o,s){var l=o*t;null!=i?(i=Kt(n,i),a=Kt(n,a),(o>0?i<a:i>a)&&(i+=o*Sa)):(i=e+o*Sa,a=e-.5*l);for(var u,c=i;o>0?c>a:c<a;c-=l)s.point((u=pt([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function Kt(e,t){var n=st(t);n[0]-=e,ht(n);var r=te(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ma)%(2*Math.PI)}function Qt(e,t,n){var r=Qi.range(e,t-Ma,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function en(e,t,n){var r=Qi.range(e,t-Ma,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function tn(e){return e.source}function nn(e){return e.target}function rn(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),a=e(r*i);return[a*i*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*a,r*o),Math.asin(r&&n*a/r)]},n}function an(e,t){function n(e,t){o>0?t<-Da+Ma&&(t=-Da+Ma):t>Da-Ma&&(t=Da-Ma);var n=o/Math.pow(i(t),a);return[n*Math.sin(a*e),o-n*Math.cos(a*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Ra/4+e/2)},a=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),o=r*Math.pow(i(e),a)/a;return a?(n.invert=function(e,t){var n=o-t,r=Q(a)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/a,2*Math.atan(Math.pow(o/r,1/a))-Da]},n):sn}function on(e,t){function n(e,t){var n=a-t;return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),a=r/i+e;return ua(i)<Ma?Wt:(n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,a-Q(i)*Math.sqrt(e*e+n*n)]},n)}function sn(e,t){return[e,Math.log(Math.tan(Ra/4+t/2))]}function ln(e){var t,n=Gt(e),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=a.apply(n,arguments);if(o===n){if(t=null==e){var s=Ra*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(o=null);return o},n.clipExtent(null)}function un(e,t){return[Math.log(Math.tan(Ra/4+t/2)),-e]}function cn(e){return e[0]}function dn(e){return e[1]}function hn(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&ee(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function pn(e,t){return e[0]-t[0]||e[1]-t[1]}function fn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function gn(e,t,n,r){var i=e[0],a=n[0],o=t[0]-i,s=r[0]-a,l=e[1],u=n[1],c=t[1]-l,d=r[1]-u,h=(s*(l-u)-d*(i-a))/(d*o-s*c);return[i+h*o,l+h*c]}function mn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function vn(e){var t=Xo.pop()||new function(){An(this),this.edge=this.site=this.circle=null};return t.site=e,t}function bn(e){Mn(e),Bo.remove(e),Xo.push(e),An(e)}function yn(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},a=e.P,o=e.N,s=[e];bn(e);for(var l=a;l.circle&&ua(n-l.circle.x)<Ma&&ua(r-l.circle.cy)<Ma;)a=l.P,s.unshift(l),bn(l),l=a;s.unshift(l),Mn(l);for(var u=o;u.circle&&ua(n-u.circle.x)<Ma&&ua(r-u.circle.cy)<Ma;)o=u.N,s.push(u),bn(u),u=o;s.push(u),Mn(u);var c,d=s.length;for(c=1;c<d;++c)u=s[c],l=s[c-1],Sn(u.edge,l.site,u.site,i);l=s[0],(u=s[d-1]).edge=Rn(l.site,u.site,null,i),Nn(l),Nn(u)}function En(e){for(var t,n,r,i,a=e.x,o=e.y,s=Bo._;s;)if((r=xn(s,o)-a)>Ma)s=s.L;else{if(!((i=a-function(e,t){var n=e.N;if(n)return xn(n,t);var r=e.site;return r.y===t?r.x:1/0}(s,o))>Ma)){r>-Ma?(t=s.P,n=s):i>-Ma?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=vn(e);if(Bo.insert(t,l),t||n){if(t===n)return Mn(t),n=vn(t.site),Bo.insert(l,n),l.edge=n.edge=Rn(t.site,l.site),Nn(t),void Nn(n);if(n){Mn(t),Mn(n);var u=t.site,c=u.x,d=u.y,h=e.x-c,p=e.y-d,f=n.site,g=f.x-c,m=f.y-d,v=2*(h*m-p*g),b=h*h+p*p,y=g*g+m*m,E={x:(m*b-p*y)/v+c,y:(h*y-g*b)/v+d};Sn(n.edge,u,f,E),l.edge=Rn(u,e,null,E),n.edge=Rn(e,f,null,E),Nn(t),Nn(n)}else l.edge=Rn(t.site,l.site)}}function xn(e,t){var n=e.site,r=n.x,i=n.y,a=i-t;if(!a)return r;var o=e.P;if(!o)return-1/0;var s=(n=o.site).x,l=n.y,u=l-t;if(!u)return s;var c=s-r,d=1/a-1/u,h=c/u;return d?(-h+Math.sqrt(h*h-2*d*(c*c/(-2*u)-l+u/2+i-a/2)))/d+r:(r+s)/2}function _n(e){this.site=e,this.edges=[]}function Cn(e){for(var t,n,r,i,a,o,s,l,u,c,d=e[0][0],h=e[1][0],p=e[0][1],f=e[1][1],g=Yo,m=g.length;m--;)if((a=g[m])&&a.prepare())for(l=(s=a.edges).length,o=0;o<l;)r=(c=s[o].end()).x,i=c.y,t=(u=s[++o%l].start()).x,n=u.y,(ua(r-t)>Ma||ua(i-n)>Ma)&&(s.splice(o,0,new On(function(e,t,n){var r=new Tn(e,null);return r.a=t,r.b=n,qo.push(r),r}(a.site,c,ua(r-d)<Ma&&f-i>Ma?{x:d,y:ua(t-d)<Ma?n:f}:ua(i-f)<Ma&&h-r>Ma?{x:ua(n-f)<Ma?t:h,y:f}:ua(r-h)<Ma&&i-p>Ma?{x:h,y:ua(t-h)<Ma?n:p}:ua(i-p)<Ma&&r-d>Ma?{x:ua(n-p)<Ma?t:d,y:p}:null),a.site,null)),++l)}function wn(e,t){return t.angle-e.angle}function Nn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,u=r.y-s,c=a.x-o,d=2*(l*(m=a.y-s)-u*c);if(!(d>=-Ta)){var h=l*l+u*u,p=c*c+m*m,f=(m*h-u*p)/d,g=(l*p-c*h)/d,m=g+s,v=Ko.pop()||new function(){An(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=e,v.site=i,v.x=f+o,v.y=m+Math.sqrt(f*f+g*g),v.cy=m,e.circle=v;for(var b=null,y=Jo._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}Jo.insert(b,v),b||(Zo=v)}}}}function Mn(e){var t=e.circle;t&&(t.P||(Zo=t.N),Jo.remove(t),Ko.push(t),An(t),e.circle=null)}function Tn(e,t){this.l=e,this.r=t,this.a=this.b=null}function Rn(e,t,n,r){var i=new Tn(e,t);return qo.push(i),n&&Sn(i,e,t,n),r&&Sn(i,t,e,r),Yo[e.i].edges.push(new On(i,e,t)),Yo[t.i].edges.push(new On(i,t,e)),i}function Sn(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function On(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Dn(){this._=null}function An(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function kn(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ln(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function In(e){for(;e.L;)e=e.L;return e}function Vn(e,t){var n,r,i,a=e.sort($n).pop();for(qo=[],Yo=new Array(e.length),Bo=new Dn,Jo=new Dn;;)if(i=Zo,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(Yo[a.i]=new _n(a),En(a),n=a.x,r=a.y),a=e.pop();else{if(!i)break;yn(i.arc)}t&&(function(e){for(var t,n=qo,r=St(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)(!function(e,t){var n=e.b;if(n)return!0;var r,i,a=e.a,o=t[0][0],s=t[1][0],l=t[0][1],u=t[1][1],c=e.l,d=e.r,h=c.x,p=c.y,f=d.x,g=d.y,m=(h+f)/2,v=(p+g)/2;if(g===p){if(m<o||m>=s)return;if(h>f){if(a){if(a.y>=u)return}else a={x:m,y:l};n={x:m,y:u}}else{if(a){if(a.y<l)return}else a={x:m,y:u};n={x:m,y:l}}}else if(r=(h-f)/(g-p),i=v-r*m,r<-1||r>1)if(h>f){if(a){if(a.y>=u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(p<g){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return e.a=a,e.b=n,!0}(t=n[i],e)||!r(t)||ua(t.a.x-t.b.x)<Ma&&ua(t.a.y-t.b.y)<Ma)&&(t.a=t.b=null,n.splice(i,1))}(t),Cn(t));var o={cells:Yo,edges:qo};return Bo=Jo=qo=Yo=null,o}function $n(e,t){return t.y-e.y||t.x-e.x}function Hn(e){return e.x}function jn(e){return e.y}function Pn(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=t.nodes;l[0]&&Pn(e,l[0],n,r,o,s),l[1]&&Pn(e,l[1],o,r,i,s),l[2]&&Pn(e,l[2],n,s,o,a),l[3]&&Pn(e,l[3],o,s,i,a)}}function Fn(e,t){e=Qi.rgb(e),t=Qi.rgb(t);var n=e.r,r=e.g,i=e.b,a=t.r-n,o=t.g-r,s=t.b-i;return function(e){return"#"+ye(Math.round(n+a*e))+ye(Math.round(r+o*e))+ye(Math.round(i+s*e))}}function Gn(e,t){var n,r={},i={};for(n in e)n in t?r[n]=Wn(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function zn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Un(e,t){var n,r,i,a=es.lastIndex=ts.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=es.exec(e))&&(r=ts.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:zn(n,r)})),a=ts.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function Wn(e,t){for(var n,r=Qi.interpolators.length;--r>=0&&!(n=Qi.interpolators[r](e,t)););return n}function qn(e,t){var n,r=[],i=[],a=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(Wn(e[n],t[n]));for(;n<a;++n)i[n]=e[n];for(;n<o;++n)i[n]=t[n];return function(e){for(n=0;n<s;++n)i[n]=r[n](e);return i}}function Yn(e){return function(t){return 1-e(1-t)}}function Bn(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Zn(e){return e*e}function Jn(e){return e*e*e}function Xn(e){return 1-Math.cos(e*Da)}function Kn(e){return Math.pow(2,10*(e-1))}function Qn(e){return 1-Math.sqrt(1-e*e)}function er(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function tr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function nr(e){var t=[e.a,e.b],n=[e.c,e.d],r=ir(t),i=rr(t,n),a=ir(function(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*ka,this.translate=[e.e,e.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*ka:0}function rr(e,t){return e[0]*t[0]+e[1]*t[1]}function ir(e){var t=Math.sqrt(rr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function ar(e){return e.length?e.pop()+",":""}function or(e,t){var n=[],r=[];return e=Qi.transform(e),t=Qi.transform(t),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:zn(e[0],t[0])},{i:i-2,x:zn(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(e.translate,t.translate,n,r),function(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(ar(n)+"rotate(",null,")")-2,x:zn(e,t)})):t&&n.push(ar(n)+"rotate("+t+")")}(e.rotate,t.rotate,n,r),function(e,t,n,r){e!==t?r.push({i:n.push(ar(n)+"skewX(",null,")")-2,x:zn(e,t)}):t&&n.push(ar(n)+"skewX("+t+")")}(e.skew,t.skew,n,r),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(ar(n)+"scale(",null,",",null,")");r.push({i:i-4,x:zn(e[0],t[0])},{i:i-2,x:zn(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(ar(n)+"scale("+t+")")}(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,i=-1,a=r.length;++i<a;)n[(t=r[i]).i]=t.x(e);return n.join("")}}function sr(e){for(var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;var n=lr(e),r=lr(t),i=n.pop(),a=r.pop(),o=null;for(;i===a;)o=i,i=n.pop(),a=r.pop();return o}(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function lr(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function ur(e){e.fixed|=2}function cr(e){e.fixed&=-7}function dr(e){e.fixed|=4,e.px=e.x,e.py=e.y}function hr(e){e.fixed&=-5}function pr(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var a,o=e.nodes,s=o.length,l=-1;++l<s;)null!=(a=o[l])&&(pr(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,i+=u*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function fr(e,t){return Qi.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Er,e}function gr(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function mr(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(a=e.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(e=r.pop());)t(e)}function vr(e){return e.children}function br(e){return e.value}function yr(e,t){return t.value-e.value}function Er(e){return Qi.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function xr(e){return e.x}function _r(e){return e.y}function Cr(e,t,n){e.y0=t,e.y=n}function wr(e){return Qi.range(e.length)}function Nr(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Mr(e){for(var t,n=1,r=0,i=e[0][1],a=e.length;n<a;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function Tr(e){return e.reduce(Rr,0)}function Rr(e,t){return e+t[1]}function Sr(e,t){return Or(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Or(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];++n<=t;)a[n]=i*n+r;return a}function Dr(e){return[Qi.min(e),Qi.max(e)]}function Ar(e,t){return e.value-t.value}function kr(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Lr(e,t){e._pack_next=t,t._pack_prev=e}function Ir(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function Vr(e){function t(e){c=Math.min(e.x-e.r,c),d=Math.max(e.x+e.r,d),h=Math.min(e.y-e.r,h),p=Math.max(e.y+e.r,p)}if((n=e.children)&&(u=n.length)){var n,r,i,a,o,s,l,u,c=1/0,d=-1/0,h=1/0,p=-1/0;if(n.forEach($r),r=n[0],r.x=-r.r,r.y=0,t(r),u>1&&(i=n[1],i.x=i.r,i.y=0,t(i),u>2))for(Pr(r,i,a=n[2]),t(a),kr(r,a),r._pack_prev=a,kr(a,i),i=r._pack_next,o=3;o<u;o++){Pr(r,i,a=n[o]);var f=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(Ir(s,a)){f=1;break}if(1==f)for(l=r._pack_prev;l!==s._pack_prev&&!Ir(l,a);l=l._pack_prev,m++);f?(g<m||g==m&&i.r<r.r?Lr(r,i=s):Lr(r=l,i),o--):(kr(r,a),i=a,t(a))}var v=(c+d)/2,b=(h+p)/2,y=0;for(o=0;o<u;o++)(a=n[o]).x-=v,a.y-=b,y=Math.max(y,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=y,n.forEach(Hr)}}function $r(e){e._pack_next=e._pack_prev=e}function Hr(e){delete e._pack_next,delete e._pack_prev}function jr(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var a=-1,o=i.length;++a<o;)jr(i[a],t,n,r)}function Pr(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,s=i*i+a*a,l=.5+((r*=r)-(o*=o))/(2*s),u=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+l*i+u*a,n.y=e.y+l*a-u*i}else n.x=e.x+r,n.y=e.y}function Fr(e,t){return e.parent==t.parent?1:2}function Gr(e){var t=e.children;return t.length?t[0]:e.t}function zr(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ur(e){var t=e.children;return t&&t.length?Ur(t[0]):e}function Wr(e){var t,n=e.children;return n&&(t=n.length)?Wr(n[t-1]):e}function qr(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Yr(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function Br(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Zr(e){return e.rangeExtent?e.rangeExtent():Br(e.range())}function Jr(e,t){var n,r=0,i=e.length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function Xr(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:hs}function Kr(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?function(e,t,n,r){var i=[],a=[],o=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=s;)i.push(n(e[o-1],e[o])),a.push(r(t[o-1],t[o]));return function(t){var n=Qi.bisect(e,t,1,s)-1;return a[n](i[n](t))}}:function(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}},l=r?function(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}:function(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}};return o=i(e,t,l,n),s=i(t,e,l,Wn),a}function a(e){return o(e)}var o,s;return a.invert=function(e){return s(e)},a.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},a.range=function(e){return arguments.length?(t=e,i()):t},a.rangeRound=function(e){return a.range(e).interpolate(tr)},a.clamp=function(e){return arguments.length?(r=e,i()):r},a.interpolate=function(e){return arguments.length?(n=e,i()):n},a.ticks=function(t){return ni(e,t)},a.tickFormat=function(t,n){return ri(e,t,n)},a.nice=function(t){return ei(e,t),i()},a.copy=function(){return Kr(e,t,n,r)},i()}function Qr(e,t){return Qi.rebind(e,t,"range","rangeRound","interpolate","clamp")}function ei(e,t){return Jr(e,Xr(ti(e,t)[2])),Jr(e,Xr(ti(e,t)[2])),e}function ti(e,t){null==t&&(t=10);var n=Br(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function ni(e,t){return Qi.range.apply(Qi,ti(e,t))}function ri(e,t,n){var r=ti(e,t);if(n){var i=Qa.exec(n);if(i.shift(),"s"===i[8]){var a=Qi.formatPrefix(Math.max(ua(r[0]),ua(r[1])));return i[7]||(i[7]="."+ii(a.scale(r[2]))),i[8]="f",n=Qi.format(i.join("")),function(e){return n(a.scale(e))+a.symbol}}i[7]||(i[7]="."+function(e,t){var n=ii(t[2]);return e in ps?Math.abs(n-ii(Math.max(ua(t[0]),ua(t[1]))))+ +("e"!==e):n-2*("%"===e)}(i[8],r)),n=i.join("")}else n=",."+ii(r[2])+"f";return Qi.format(n)}function ii(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function ai(e,t,n,r){function i(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function a(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function o(t){return e(i(t))}return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),o):t},o.nice=function(){var t=Jr(r.map(i),n?Math:gs);return e.domain(t),r=t.map(a),o},o.ticks=function(){var e=Br(r),o=[],s=e[0],l=e[1],u=Math.floor(i(s)),c=Math.ceil(i(l)),d=t%1?2:t;if(isFinite(c-u)){if(n){for(;u<c;u++)for(h=1;h<d;h++)o.push(a(u)*h);o.push(a(u))}else for(o.push(a(u));u++<c;)for(var h=d-1;h>0;h--)o.push(a(u)*h);for(u=0;o[u]<s;u++);for(c=o.length;o[c-1]>l;c--);o=o.slice(u,c)}return o},o.tickFormat=function(e,n){if(!arguments.length)return fs;arguments.length<2?n=fs:"function"!=typeof n&&(n=Qi.format(n));var r=Math.max(1,t*e/o.ticks().length);return function(e){var o=e/a(Math.round(i(e)));return o*t<t-.5&&(o*=t),o<=r?n(e):""}},o.copy=function(){return ai(e.copy(),t,n,r)},Qr(o,e)}function oi(e,t,n){function r(t){return e(i(t))}var i=si(t),a=si(1/t);return r.invert=function(t){return a(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return ni(n,e)},r.tickFormat=function(e,t){return ri(n,e,t)},r.nice=function(e){return r.domain(ei(n,e))},r.exponent=function(o){return arguments.length?(i=si(t=o),a=si(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return oi(e.copy(),t,n)},Qr(r,e)}function si(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function li(e,t){function n(n){return a[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):NaN))-1)%a.length]}function r(t,n){return Qi.range(e.length).map(function(e){return t+n*e})}var i,a,o;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new p;for(var a,o=-1,s=r.length;++o<s;)i.has(a=r[o])||i.set(a,e.push(a));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(a=e,o=0,t={t:"range",a:arguments},n):a},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=e.length<2?(l=(l+u)/2,0):(u-l)/(e.length-1+s);return a=r(l+c*s/2,c),o=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=e.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(e.length-1+s)|0;return a=r(l+Math.round(c*s/2+(u-l-(e.length-1+s)*c)/2),c),o=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],d=(i[1-u]-c)/(e.length-s+2*l);return a=r(c+d*l,d),u&&a.reverse(),o=d*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],d=i[1-u],h=Math.floor((d-c)/(e.length-s+2*l));return a=r(c+Math.round((d-c-(e.length-s)*h)/2),h),u&&a.reverse(),o=Math.round(h*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Br(t.a[0])},n.copy=function(){return li(e,t)},n.domain(e)}function ui(e,t){function n(){var n=0,a=t.length;for(i=[];++n<a;)i[n-1]=Qi.quantile(e,n/a);return r}function r(e){if(!isNaN(e=+e))return t[Qi.bisect(i,e)]}var i;return r.domain=function(t){return arguments.length?(e=t.map(l).filter(u).sort(s),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return i},r.invertExtent=function(n){return(n=t.indexOf(n))<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},r.copy=function(){return ui(e,t)},n()}function ci(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(a*(t-e))))]}function i(){return a=n.length/(t-e),o=n.length-1,r}var a,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/a+e,[t,t+1/a]},r.copy=function(){return ci(e,t,n)},i()}function di(e,t){function n(n){if(n<=n)return t[Qi.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return di(e,t)},n}function hi(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return ni(e,t)},t.tickFormat=function(t,n){return ri(e,t,n)},t.copy=function(){return hi(e)},t}function pi(){return 0}function fi(e){return e.innerRadius}function gi(e){return e.outerRadius}function mi(e){return e.startAngle}function vi(e){return e.endAngle}function bi(e){return e&&e.padAngle}function yi(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function Ei(e,t,n,r,i){var a=e[0]-t[0],o=e[1]-t[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,u=-s*a,c=e[0]+l,d=e[1]+u,h=t[0]+l,p=t[1]+u,f=(c+h)/2,g=(d+p)/2,m=h-c,v=p-d,b=m*m+v*v,y=n-r,E=c*p-h*d,x=(v<0?-1:1)*Math.sqrt(Math.max(0,y*y*b-E*E)),_=(E*v-m*x)/b,C=(-E*m-v*x)/b,w=(E*v+m*x)/b,N=(-E*m+v*x)/b,M=_-f,T=C-g,R=w-f,S=N-g;return M*M+T*T>R*R+S*S&&(_=w,C=N),[[_-l,C-u],[_*n/y,C*n/y]]}function xi(e){function t(t){function o(){u.push("M",a(e(c),s))}for(var l,u=[],c=[],d=-1,h=t.length,p=Ne(n),f=Ne(r);++d<h;)i.call(this,l=t[d],d)?c.push([+p.call(this,l,d),+f.call(this,l,d)]):c.length&&(o(),c=[]);return c.length&&o(),u.length?u.join(""):null}var n=cn,r=dn,i=xt,a=_i,o=a.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?a=e:(a=xs.get(e)||_i).key,t):o},t.tension=function(e){return arguments.length?(s=e,t):s},t}function _i(e){return e.length>1?e.join("L"):e+"Z"}function Ci(e){return e.join("L")+"Z"}function wi(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function Ni(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function Mi(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return _i(e);var n=e.length!=t.length,r="",i=e[0],a=e[1],o=t[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=e[1],l=2),t.length>1){s=t[1],a=e[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<t.length;u++,l++)a=e[l],s=t[u],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=e[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Ti(e,t){for(var n,r=[],i=(1-t)/2,a=e[0],o=e[1],s=1,l=e.length;++s<l;)n=a,a=o,o=e[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function Ri(e){if(e.length<3)return _i(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",Si(ws,o),",",Si(ws,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),Oi(l,o,s);return e.pop(),l.push("L",r),l.join("")}function Si(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Oi(e,t,n){e.push("C",Si(_s,t),",",Si(_s,n),",",Si(Cs,t),",",Si(Cs,n),",",Si(ws,t),",",Si(ws,n))}function Di(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Ai(e){for(var t,n,r,i,a=[],o=function(e){for(var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=Di(i,a);++t<n;)r[t]=(o+(o=Di(i=a,a=e[t+1])))/2;return r[t]=o,r}(e),s=-1,l=e.length-1;++s<l;)t=Di(e[s],e[s+1]),ua(t)<Ma?o[s]=o[s+1]=0:(i=(n=o[s]/t)*n+(r=o[s+1]/t)*r)>9&&(i=3*t/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r);for(s=-1;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function ki(e){for(var t,n,r,i=-1,a=e.length;++i<a;)n=(t=e[i])[0],r=t[1]-Da,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Li(e){function t(t){function l(){g.push("M",s(e(v),d),c,u(e(m.reverse()),d),"Z")}for(var h,p,f,g=[],m=[],v=[],b=-1,y=t.length,E=Ne(n),x=Ne(i),_=n===r?function(){return p}:Ne(r),C=i===a?function(){return f}:Ne(a);++b<y;)o.call(this,h=t[b],b)?(m.push([p=+E.call(this,h,b),f=+x.call(this,h,b)]),v.push([+_.call(this,h,b),+C.call(this,h,b)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=cn,r=cn,i=0,a=dn,o=xt,s=_i,l=s.key,u=s,c="L",d=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=a=e,t):a},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(a=e,t):a},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?s=e:(s=xs.get(e)||_i).key,u=s.reverse||s,c=s.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(d=e,t):d},t}function Ii(e){return e.radius}function Vi(e){return[e.x,e.y]}function $i(){return 64}function Hi(){return"circle"}function ji(e){var t=Math.sqrt(e/Ra);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Pi(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Fi(e,t,n){return fa(e,Ds),e.namespace=t,e.id=n,e}function Gi(e,t,n,r){var i=e.id,a=e.namespace;return W(e,"function"==typeof n?function(e,o,s){e[a][i].tween.set(t,r(n.call(e,e.__data__,o,s)))}:(n=r(n),function(e){e[a][i].tween.set(t,n)}))}function zi(e){return null==e&&(e=""),function(){this.textContent=e}}function Ui(e){return null==e?"__transition__":"__transition_"+e+"__"}function Wi(e,t,n,r,i){function a(e){var t=g.delay;if(u.t=t+l,t<=e)return o(e-t);u.c=o}function o(n){var i=f.active,a=f[i];a&&(a.timer.c=null,a.timer.t=NaN,--f.count,delete f[i],a.event&&a.event.interrupt.call(e,e.__data__,a.index));for(var o in f)if(+o<r){var p=f[o];p.timer.c=null,p.timer.t=NaN,--f.count,delete f[o]}u.c=s,Re(function(){return u.c&&s(n||1)&&(u.c=null,u.t=NaN),1},0,l),f.active=r,g.event&&g.event.start.call(e,e.__data__,t),h=[],g.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&h.push(r)}),d=g.ease,c=g.duration}function s(i){for(var a=i/c,o=d(a),s=h.length;s>0;)h[--s].call(e,o);if(a>=1)return g.event&&g.event.end.call(e,e.__data__,t),--f.count?delete f[r]:delete e[n],1}var l,u,c,d,h,f=e[n]||(e[n]={active:0,count:0}),g=f[r];g||(l=i.time,u=Re(a,0,l),g=f[r]={tween:new p,time:l,timer:u,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++f.count)}function qi(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function Yi(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function Bi(e){return e.toISOString()}function Zi(e,t,n){function r(t){return e(t)}function i(e,n){var r=(e[1]-e[0])/n,i=Qi.bisect(Ps,r);return i==Ps.length?[t.year,ti(e.map(function(e){return e/31536e6}),n)[2]]:i?t[r/Ps[i-1]<Ps[i]/r?i-1:i]:[zs,ti(e,n)[2]]}return r.invert=function(t){return Ji(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(Ji)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,Ji(+n+1),t).length}var a=r.domain(),o=Br(a),s=null==e?i(o,10):"number"==typeof e&&i(o,e);return s&&(e=s[0],t=s[1]),r.domain(Jr(a,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=Ji(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=Ji(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Br(r.domain()),a=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return a&&(e=a[0],t=a[1]),e.range(n[0],Ji(+n[1]+1),t<1?1:t)},r.tickFormat=function(){return n},r.copy=function(){return Zi(e.copy(),t,n)},Qr(r,e)}function Ji(e){return new Date(e)}function Xi(e){return JSON.parse(e.responseText)}function Ki(e){var t=na.createRange();return t.selectNode(na.body),t.createContextualFragment(e.responseText)}var Qi={version:"3.5.17"},ea=[].slice,ta=function(e){return ea.call(e)},na=this.document;if(na)try{ta(na.documentElement.childNodes)[0].nodeType}catch(e){ta=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),na)try{na.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var ra=this.Element.prototype,ia=ra.setAttribute,aa=ra.setAttributeNS,oa=this.CSSStyleDeclaration.prototype,sa=oa.setProperty;ra.setAttribute=function(e,t){ia.call(this,e,t+"")},ra.setAttributeNS=function(e,t,n){aa.call(this,e,t,n+"")},oa.setProperty=function(e,t,n){sa.call(this,e,t+"",n)}}Qi.ascending=s,Qi.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},Qi.min=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},Qi.max=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},Qi.extent=function(e,t){var n,r,i,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=e[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t.call(e,e[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},Qi.sum=function(e,t){var n,r=0,i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)u(n=+e[a])&&(r+=n);else for(;++a<i;)u(n=+t.call(e,e[a],a))&&(r+=n);return r},Qi.mean=function(e,t){var n,r=0,i=e.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)u(n=l(e[a]))?r+=n:--o;else for(;++a<i;)u(n=l(t.call(e,e[a],a)))?r+=n:--o;if(o)return r/o},Qi.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i},Qi.median=function(e,t){var n,r=[],i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)u(n=l(e[a]))&&r.push(n);else for(;++a<i;)u(n=l(t.call(e,e[a],a)))&&r.push(n);if(r.length)return Qi.quantile(r.sort(s),.5)},Qi.variance=function(e,t){var n,r,i=e.length,a=0,o=0,s=-1,c=0;if(1===arguments.length)for(;++s<i;)u(n=l(e[s]))&&(o+=(r=n-a)*(n-(a+=r/++c)));else for(;++s<i;)u(n=l(t.call(e,e[s],s)))&&(o+=(r=n-a)*(n-(a+=r/++c)));if(c>1)return o/(c-1)},Qi.deviation=function(){var e=Qi.variance.apply(this,arguments);return e?Math.sqrt(e):e};var la=c(s);Qi.bisectLeft=la.left,Qi.bisect=Qi.bisectRight=la.right,Qi.bisector=function(e){return c(1===e.length?function(t,n){return s(e(t),n)}:e)},Qi.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,a<2&&(t=0));for(var r,i,a=n-t;a;)i=Math.random()*a--|0,r=e[a+t],e[a+t]=e[i+t],e[i+t]=r;return e},Qi.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},Qi.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},Qi.transpose=function(e){if(!(i=e.length))return[];for(var t=-1,n=Qi.min(e,d),r=new Array(n);++t<n;)for(var i,a=-1,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r},Qi.zip=function(){return Qi.transpose(arguments)},Qi.keys=function(e){var t=[];for(var n in e)t.push(n);return t},Qi.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Qi.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},Qi.merge=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--o]=r[t];return n};var ua=Math.abs;Qi.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,i=[],a=function(e){for(var t=1;e*t%1;)t*=10;return t}(ua(n)),o=-1;if(e*=a,t*=a,(n*=a)<0)for(;(r=e+n*++o)>t;)i.push(r/a);else for(;(r=e+n*++o)<t;)i.push(r/a);return i},Qi.map=function(e,t){var n=new p;if(e instanceof p)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,i=-1,a=e.length;if(1===arguments.length)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t.call(e,r=e[i],i),r)}else for(var o in e)n.set(o,e[o]);return n};var ca="__proto__",da="\0";h(p,{has:m,get:function(e){return this._[f(e)]},set:function(e,t){return this._[f(e)]=t},remove:v,keys:b,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:g(t),value:this._[t]});return e},size:y,empty:E,forEach:function(e){for(var t in this._)e.call(this,g(t),this._[t])}}),Qi.nest=function(){function e(t,o,s){if(s>=a.length)return r?r.call(i,o):n?o.sort(n):o;for(var l,u,c,d,h=-1,f=o.length,g=a[s++],m=new p;++h<f;)(d=m.get(l=g(u=o[h])))?d.push(u):m.set(l,[u]);return t?(u=t(),c=function(n,r){u.set(n,e(t,r,s))}):(u={},c=function(n,r){u[n]=e(t,r,s)}),m.forEach(c),u}function t(e,n){if(n>=a.length)return e;var r=[],i=o[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},a=[],o=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(Qi.map,n,0),0)},i.key=function(e){return a.push(e),i},i.sortKeys=function(e){return o[a.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},Qi.set=function(e){var t=new x;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},h(x,{has:m,add:function(e){return this._[f(e+="")]=!0,e},remove:v,values:b,size:y,empty:E,forEach:function(e){for(var t in this._)e.call(this,g(t))}}),Qi.behavior={},Qi.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=function(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}(e,t,t[n]);return e};var ha=["webkit","ms","moz","Moz","o","O"];Qi.dispatch=function(){for(var e=new N,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=M(e);return e},N.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},Qi.event=null,Qi.requote=function(e){return e.replace(pa,"\\$&")};var pa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,fa={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},ga=function(e,t){return t.querySelector(e)},ma=function(e,t){return t.querySelectorAll(e)},va=function(e,t){var n=e.matches||e[C(e,"matchesSelector")];return(va=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(ga=function(e,t){return Sizzle(e,t)[0]||null},ma=Sizzle,va=Sizzle.matchesSelector),Qi.selection=function(){return Qi.select(na.documentElement)};var ba=Qi.selection.prototype=[];ba.select=function(e){var t,n,r,i,a=[];e=D(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return O(a)},ba.selectAll=function(e){var t,n,r=[];e=A(e);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],s=-1,l=o.length;++s<l;)(n=o[s])&&(r.push(t=ta(e.call(n,n.__data__,s,i))),t.parentNode=n);return O(r)};var ya="http://www.w3.org/1999/xhtml",Ea={svg:"http://www.w3.org/2000/svg",xhtml:ya,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Qi.ns={prefix:Ea,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Ea.hasOwnProperty(n)?{space:Ea[n],local:e}:e}},ba.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=Qi.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(k(t,e[t]));return this}return this.each(k(e,t))},ba.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=V(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!I(e[i]).test(t))return!1;return!0}for(t in e)this.each($(t,e[t]));return this}return this.each($(e,t))},ba.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t="");for(n in e)this.each(j(n,e[n],t));return this}if(r<2){var i=this.node();return o(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(j(e,t,n))},ba.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(P(t,e[t]));return this}return this.each(P(e,t))},ba.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},ba.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},ba.append=function(e){return e=F(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},ba.insert=function(e,t){return e=F(e),t=D(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},ba.remove=function(){return this.each(G)},ba.data=function(e,t){function n(e,n){var r,i,a,o=e.length,c=n.length,d=Math.min(o,c),h=new Array(c),f=new Array(c),g=new Array(o);if(t){var m,v=new p,b=new Array(o);for(r=-1;++r<o;)(i=e[r])&&(v.has(m=t.call(i,i.__data__,r))?g[r]=i:v.set(m,i),b[r]=m);for(r=-1;++r<c;)(i=v.get(m=t.call(n,a=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=a):f[r]=z(a),v.set(m,!0);for(r=-1;++r<o;)r in b&&!0!==v.get(b[r])&&(g[r]=e[r])}else{for(r=-1;++r<d;)i=e[r],a=n[r],i?(i.__data__=a,h[r]=i):f[r]=z(a);for(;r<c;++r)f[r]=z(n[r]);for(;r<o;++r)g[r]=e[r]}f.update=h,f.parentNode=h.parentNode=g.parentNode=e.parentNode,s.push(f),l.push(h),u.push(g)}var r,i,a=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(r=this[0]).length);++a<o;)(i=r[a])&&(e[a]=i.__data__);return e}var s=q([]),l=O([]),u=O([]);if("function"==typeof e)for(;++a<o;)n(r=this[a],e.call(r,r.parentNode.__data__,a));else for(;++a<o;)n(r=this[a],e);return l.enter=function(){return s},l.exit=function(){return u},l},ba.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},ba.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=U(e));for(var a=0,o=this.length;a<o;a++){i.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,a)&&t.push(r)}return O(i)},ba.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},ba.sort=function(e){e=function(e){return arguments.length||(e=s),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},ba.each=function(e){return W(this,function(t,n,r){e.call(t,t.__data__,n,r)})},ba.call=function(e){var t=ta(arguments);return e.apply(t[0]=this,t),this},ba.empty=function(){return!this.node()},ba.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},ba.size=function(){var e=0;return W(this,function(){++e}),e};var xa=[];Qi.selection.enter=q,Qi.selection.enter.prototype=xa,xa.append=ba.append,xa.empty=ba.empty,xa.node=ba.node,xa.call=ba.call,xa.size=ba.size,xa.select=function(e){for(var t,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(a=i[u])?(t.push(r[u]=n=e.call(i.parentNode,a.__data__,u,s)),n.__data__=a.__data__):t.push(null)}return O(o)},xa.insert=function(e,t){return arguments.length<2&&(t=function(e){var t,n;return function(r,i,a){var o,s=e[a].update,l=s.length;for(a!=n&&(n=a,t=0),i>=t&&(t=i+1);!(o=s[t])&&++t<l;);return o}}(this)),ba.insert.call(this,e,t)},Qi.select=function(e){var t;return"string"==typeof e?(t=[ga(e,na)]).parentNode=na.documentElement:(t=[e]).parentNode=a(e),O([t])},Qi.selectAll=function(e){var t;return"string"==typeof e?(t=ta(ma(e,na))).parentNode=na.documentElement:(t=ta(e)).parentNode=null,O([t])},ba.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t=!1);for(n in e)this.each(Y(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(Y(e,t,n))};var _a=Qi.map({mouseenter:"mouseover",mouseleave:"mouseout"});na&&_a.forEach(function(e){"on"+e in na&&_a.remove(e)});var Ca,wa=0;Qi.mouse=function(e){return X(e,R())};var Na=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;Qi.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=R().changedTouches),t)for(var r,i=0,a=t.length;i<a;++i)if((r=t[i]).identifier===n)return X(e,r)},Qi.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function t(e,t,i,a,o){return function(){var s,l=this,u=Qi.event.target.correspondingElement||Qi.event.target,c=l.parentNode,d=n.of(l,arguments),h=0,p=e(),f=".drag"+(null==p?"":"-"+p),g=Qi.select(i(u)).on(a+f,function(){var e,n,r=t(c,p);r&&(e=r[0]-v[0],n=r[1]-v[1],h|=e|n,v=r,d({type:"drag",x:r[0]+s[0],y:r[1]+s[1],dx:e,dy:n}))}).on(o+f,function(){t(c,p)&&(g.on(a+f,null).on(o+f,null),m(h),d({type:"dragend"}))}),m=J(u),v=t(c,p);s=r?[(s=r.apply(l,arguments)).x-v[0],s.y-v[1]]:[0,0],d({type:"dragstart"})}}var n=S(e,"drag","dragstart","dragend"),r=null,i=t(w,Qi.mouse,o,"mousemove","mouseup"),a=t(K,Qi.touch,_,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},Qi.rebind(e,n,"on")},Qi.touches=function(e,t){return arguments.length<2&&(t=R().touches),t?ta(t).map(function(t){var n=X(e,t);return n.identifier=t.identifier,n}):[]};var Ma=1e-6,Ta=Ma*Ma,Ra=Math.PI,Sa=2*Ra,Oa=Sa-Ma,Da=Ra/2,Aa=Ra/180,ka=180/Ra,La=Math.SQRT2;Qi.interpolateZoom=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],l=t[1],u=t[2],c=s-i,d=l-a,h=c*c+d*d;if(h<Ta)r=Math.log(u/o)/La,n=function(e){return[i+e*c,a+e*d,o*Math.exp(La*e*r)]};else{var p=Math.sqrt(h),f=(u*u-o*o+4*h)/(2*o*2*p),g=(u*u-o*o-4*h)/(2*u*2*p),m=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/La,n=function(e){var t=e*r,n=re(m),s=o/(2*p)*(n*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(La*t+m)-function(e){return((e=Math.exp(e))-1/e)/2}(m));return[i+s*c,a+s*d,o*n/re(La*t+m)]}}return n.duration=1e3*r,n},Qi.behavior.zoom=function(){function e(e){e.on(O,c).on(Va+".zoom",h).on("dblclick.zoom",p).on(k,d)}function t(e){return[(e[0]-C.x)/C.k,(e[1]-C.y)/C.k]}function n(e){C.k=Math.max(N[0],Math.min(N[1],e))}function r(e,t){t=function(e){return[e[0]*C.k+C.x,e[1]*C.k+C.y]}(t),C.x+=e[0]-t[0],C.y+=e[1]-t[1]}function i(t,i,a,o){t.__chart__={x:C.x,y:C.y,k:C.k},n(Math.pow(2,o)),r(g=i,a),t=Qi.select(t),M>0&&(t=t.transition().duration(M)),t.call(e.event)}function a(){E&&E.domain(y.range().map(function(e){return(e-C.x)/C.k}).map(y.invert)),_&&_.domain(x.range().map(function(e){return(e-C.y)/C.k}).map(x.invert))}function s(e){R++||e({type:"zoomstart"})}function l(e){a(),e({type:"zoom",scale:C.k,translate:[C.x,C.y]})}function u(e){--R||(e({type:"zoomend"}),g=null)}function c(){var e=this,n=L.of(e,arguments),i=0,a=Qi.select(o(e)).on(D,function(){i=1,r(Qi.mouse(e),c),l(n)}).on(A,function(){a.on(D,null).on(A,null),d(i),u(n)}),c=t(Qi.mouse(e)),d=J(e);Os.call(e),s(n)}function d(){function e(){var e=Qi.touches(f);return p=C.k,e.forEach(function(e){e.identifier in m&&(m[e.identifier]=t(e))}),e}function a(){var t=Qi.event.target;Qi.select(t).on(E,o).on(x,h),_.push(t);for(var n=Qi.event.changedTouches,r=0,a=n.length;r<a;++r)m[n[r].identifier]=null;var s=e(),l=Date.now();if(1===s.length){if(l-b<500){u=s[0];i(f,u,m[u.identifier],Math.floor(Math.log(C.k)/Math.LN2)+1),T()}b=l}else if(s.length>1){var u=s[0],c=s[1],d=u[0]-c[0],p=u[1]-c[1];v=d*d+p*p}}function o(){var e,t,i,a,o=Qi.touches(f);Os.call(f);for(var s=0,u=o.length;s<u;++s,a=null)if(i=o[s],a=m[i.identifier]){if(t)break;e=i,t=a}if(a){var c=(c=i[0]-e[0])*c+(c=i[1]-e[1])*c,d=v&&Math.sqrt(c/v);e=[(e[0]+i[0])/2,(e[1]+i[1])/2],t=[(t[0]+a[0])/2,(t[1]+a[1])/2],n(d*p)}b=null,r(e,t),l(g)}function h(){if(Qi.event.touches.length){for(var t=Qi.event.changedTouches,n=0,r=t.length;n<r;++n)delete m[t[n].identifier];for(var i in m)return void e()}Qi.selectAll(_).on(y,null),w.on(O,c).on(k,d),N(),u(g)}var p,f=this,g=L.of(f,arguments),m={},v=0,y=".zoom-"+Qi.event.changedTouches[0].identifier,E="touchmove"+y,x="touchend"+y,_=[],w=Qi.select(f),N=J(f);a(),s(g),w.on(O,null).on(k,a)}function h(){var e=L.of(this,arguments);v?clearTimeout(v):(Os.call(this),f=t(g=m||Qi.mouse(this)),s(e)),v=setTimeout(function(){v=null,u(e)},50),T(),n(Math.pow(2,.002*Ia())*C.k),r(g,f),l(e)}function p(){var e=Qi.mouse(this),n=Math.log(C.k)/Math.LN2;i(this,e,t(e),Qi.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var f,g,m,v,b,y,E,x,_,C={x:0,y:0,k:1},w=[960,500],N=$a,M=250,R=0,O="mousedown.zoom",D="mousemove.zoom",A="mouseup.zoom",k="touchstart.zoom",L=S(e,"zoomstart","zoom","zoomend");return Va||(Va="onwheel"in na?(Ia=function(){return-Qi.event.deltaY*(Qi.event.deltaMode?120:1)},"wheel"):"onmousewheel"in na?(Ia=function(){return Qi.event.wheelDelta},"mousewheel"):(Ia=function(){return-Qi.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=L.of(this,arguments),t=C;Rs?Qi.select(this).transition().each("start.zoom",function(){C=this.__chart__||{x:0,y:0,k:1},s(e)}).tween("zoom:zoom",function(){var n=w[0],r=w[1],i=g?g[0]:n/2,a=g?g[1]:r/2,o=Qi.interpolateZoom([(i-C.x)/C.k,(a-C.y)/C.k,n/C.k],[(i-t.x)/t.k,(a-t.y)/t.k,n/t.k]);return function(t){var r=o(t),s=n/r[2];this.__chart__=C={x:i-r[0]*s,y:a-r[1]*s,k:s},l(e)}}).each("interrupt.zoom",function(){u(e)}).each("end.zoom",function(){u(e)}):(this.__chart__=C,s(e),l(e),u(e))})},e.translate=function(t){return arguments.length?(C={x:+t[0],y:+t[1],k:C.k},a(),e):[C.x,C.y]},e.scale=function(t){return arguments.length?(C={x:C.x,y:C.y,k:null},n(+t),a(),e):C.k},e.scaleExtent=function(t){return arguments.length?(N=null==t?$a:[+t[0],+t[1]],e):N},e.center=function(t){return arguments.length?(m=t&&[+t[0],+t[1]],e):m},e.size=function(t){return arguments.length?(w=t&&[+t[0],+t[1]],e):w},e.duration=function(t){return arguments.length?(M=+t,e):M},e.x=function(t){return arguments.length?(E=t,y=t.copy(),C={x:0,y:0,k:1},e):E},e.y=function(t){return arguments.length?(_=t,x=t.copy(),C={x:0,y:0,k:1},e):_},Qi.rebind(e,L,"on")};var Ia,Va,$a=[0,1/0];Qi.color=ae,ae.prototype.toString=function(){return this.rgb()+""},Qi.hsl=oe;var Ha=oe.prototype=new ae;Ha.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new oe(this.h,this.s,this.l/e)},Ha.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new oe(this.h,this.s,e*this.l)},Ha.rgb=function(){return se(this.h,this.s,this.l)},Qi.hcl=le;var ja=le.prototype=new ae;ja.brighter=function(e){return new le(this.h,this.c,Math.min(100,this.l+Pa*(arguments.length?e:1)))},ja.darker=function(e){return new le(this.h,this.c,Math.max(0,this.l-Pa*(arguments.length?e:1)))},ja.rgb=function(){return ue(this.h,this.c,this.l).rgb()},Qi.lab=ce;var Pa=18,Fa=.95047,Ga=1,za=1.08883,Ua=ce.prototype=new ae;Ua.brighter=function(e){return new ce(Math.min(100,this.l+Pa*(arguments.length?e:1)),this.a,this.b)},Ua.darker=function(e){return new ce(Math.max(0,this.l-Pa*(arguments.length?e:1)),this.a,this.b)},Ua.rgb=function(){return de(this.l,this.a,this.b)},Qi.rgb=me;var Wa=me.prototype=new ae;Wa.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b;return t||n||r?(t&&t<30&&(t=30),n&&n<30&&(n=30),r&&r<30&&(r=30),new me(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new me(30,30,30)},Wa.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new me(e*this.r,e*this.g,e*this.b)},Wa.hsl=function(){return xe(this.r,this.g,this.b)},Wa.toString=function(){return"#"+ye(this.r)+ye(this.g)+ye(this.b)};var qa=Qi.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});qa.forEach(function(e,t){qa.set(e,ve(t))}),Qi.functor=Ne,Qi.xhr=Me(_),Qi.dsv=function(e,t){function n(e,n,a){arguments.length<3&&(a=n,n=null);var o=Te(e,t,null==n?r:i(n),a);return o.row=function(e){return arguments.length?o.response(null==(n=e)?r:i(e)):n},o}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function a(t){return t.map(o).join(e)}function o(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(c>=u)return o;if(i)return i=!1,a;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<u;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}c=n+2;return 13===(r=e.charCodeAt(n+1))?(i=!0,10===e.charCodeAt(n+2)&&++c):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c<u;){var r=e.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return e.slice(t,c-s)}return e.slice(t)}for(var r,i,a={},o={},s=[],u=e.length,c=0,d=0;(r=n())!==o;){for(var h=[];r!==a&&r!==o;)h.push(r),r=n();t&&null==(h=t(h,d++))||s.push(h)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new x,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(o).join(e)].concat(t.map(function(t){return i.map(function(e){return o(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(a).join("\n")},n},Qi.csv=Qi.dsv(",","text/csv"),Qi.tsv=Qi.dsv("\t","text/tab-separated-values");var Ya,Ba,Za,Ja,Xa=this[C(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};Qi.timer=function(){Re.apply(this,arguments)},Qi.timer.flush=function(){Oe(),De()},Qi.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Ka=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*ua(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}});Qi.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=Qi.round(e,Ae(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Ka[8+n/3]};var Qa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,eo=Qi.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=Qi.round(e,Ae(e,t))).toFixed(Math.max(0,Math.min(20,Ae(e*(1+1e-15),t))))}}),to=Qi.time={},no=Date;ke.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ro.setUTCDate.apply(this._,arguments)},setDay:function(){ro.setUTCDay.apply(this._,arguments)},setFullYear:function(){ro.setUTCFullYear.apply(this._,arguments)},setHours:function(){ro.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ro.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ro.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ro.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ro.setUTCSeconds.apply(this._,arguments)},setTime:function(){ro.setTime.apply(this._,arguments)}};var ro=Date.prototype;to.year=Le(function(e){return(e=to.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),to.years=to.year.range,to.years.utc=to.year.utc.range,to.day=Le(function(e){var t=new no(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),to.days=to.day.range,to.days.utc=to.day.utc.range,to.dayOfYear=function(e){var t=to.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=to[e]=Le(function(e){return(e=to.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=to.year(e).getDay();return Math.floor((to.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});to[e+"s"]=n.range,to[e+"s"].utc=n.utc.range,to[e+"OfYear"]=function(e){var n=to.year(e).getDay();return Math.floor((to.dayOfYear(e)+(n+t)%7)/7)}}),to.week=to.sunday,to.weeks=to.sunday.range,to.weeks.utc=to.sunday.utc.range,to.weekOfYear=to.sundayOfYear;var io={"-":"",_:" ",0:"0"},ao=/^\s*\d+/,oo=/^%/;Qi.locale=function(e){return{numberFormat:function(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,a=r&&n?function(e,t){for(var i=e.length,a=[],o=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>t));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:_;return function(e){var n=Qa.exec(e),r=n[1]||" ",o=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],d=n[7],h=n[8],p=n[9],f=1,g="",m="",v=!1,b=!0;switch(h&&(h=+h.substring(1)),(u||"0"===r&&"="===o)&&(u=r="0",o="="),p){case"n":d=!0,p="g";break;case"%":f=100,m="%",p="f";break;case"p":f=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+p.toLowerCase());case"c":b=!1;case"d":v=!0,h=0;break;case"s":f=-1,p="r"}"$"===l&&(g=i[0],m=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=eo.get(p)||function(e){return e+""};var y=u&&d;return function(e){var n=m;if(v&&e%1)return"";var i=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===s?"":s;if(f<0){var l=Qi.formatPrefix(e,h);e=l.scale(e),n=l.symbol+m}else e*=f;var E,x,_=(e=p(e,h)).lastIndexOf(".");if(_<0){var C=b?e.lastIndexOf("e"):-1;C<0?(E=e,x=""):(E=e.substring(0,C),x=e.substring(C))}else E=e.substring(0,_),x=t+e.substring(_+1);!u&&d&&(E=a(E,1/0));var w=g.length+E.length+x.length+(y?0:i.length),N=w<c?new Array(w=c-w+1).join(r):"";return y&&(E=a(N+E,N.length?c-x.length:1/0)),i+=g,e=E+x,("<"===o?i+e+N:">"===o?N+i+e:"^"===o?N.substring(0,w>>=1)+i+e+N.substring(w):i+(y?e:N+e))+n}}}(e),timeFormat:function(e){function t(e){function t(t){for(var n,i,a,o=[],s=-1,l=0;++s<r;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=io[n=e.charAt(++s)])&&(n=e.charAt(++s)),(a=E[n])&&(n=a(t,null==i?"e"===n?" ":"0":i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,e,t,0)!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var i=null!=r.Z&&no!==ke,a=new(i?ke:no);return"j"in r?a.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),i?a._:a},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,a,o,s=0,l=t.length,u=n.length;s<l;){if(r>=u)return-1;if(37===(i=t.charCodeAt(s++))){if(o=t.charAt(s++),!(a=x[o in io?t.charAt(s++):o])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var r=e.dateTime,i=e.date,a=e.time,o=e.periods,s=e.days,l=e.shortDays,u=e.months,c=e.shortMonths;t.multi=(t.utc=function(e){function n(e){try{var t=new(no=ke);return t._=e,r(t)}finally{no=Date}}var r=t(e);return n.parse=function(e){try{no=ke;var t=r.parse(e);return t&&t._}finally{no=Date}},n.toString=r.toString,n}).multi=et;var d=Qi.map(),h=$e(s),p=He(s),f=$e(l),g=He(l),m=$e(u),v=He(u),b=$e(c),y=He(c);o.forEach(function(e,t){d.set(e.toLowerCase(),t)});var E={a:function(e){return l[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:t(r),d:function(e,t){return Ve(e.getDate(),t,2)},e:function(e,t){return Ve(e.getDate(),t,2)},H:function(e,t){return Ve(e.getHours(),t,2)},I:function(e,t){return Ve(e.getHours()%12||12,t,2)},j:function(e,t){return Ve(1+to.dayOfYear(e),t,3)},L:function(e,t){return Ve(e.getMilliseconds(),t,3)},m:function(e,t){return Ve(e.getMonth()+1,t,2)},M:function(e,t){return Ve(e.getMinutes(),t,2)},p:function(e){return o[+(e.getHours()>=12)]},S:function(e,t){return Ve(e.getSeconds(),t,2)},U:function(e,t){return Ve(to.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ve(to.mondayOfYear(e),t,2)},x:t(i),X:t(a),y:function(e,t){return Ve(e.getFullYear()%100,t,2)},Y:function(e,t){return Ve(e.getFullYear()%1e4,t,4)},Z:Ke,"%":function(){return"%"}},x={a:function(e,t,n){f.lastIndex=0;var r=f.exec(t.slice(n));return r?(e.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){h.lastIndex=0;var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){m.lastIndex=0;var r=m.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,t,r){return n(e,E.c.toString(),t,r)},d:qe,e:qe,H:Be,I:Be,j:Ye,L:Xe,m:We,M:Ze,p:function(e,t,n){var r=d.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)},S:Je,U:Pe,w:je,W:Fe,x:function(e,t,r){return n(e,E.x.toString(),t,r)},X:function(e,t,r){return n(e,E.X.toString(),t,r)},y:ze,Y:Ge,Z:Ue,"%":Qe};return t}(e)}};var so=Qi.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Qi.format=so.numberFormat,Qi.geo={},tt.prototype={s:0,t:0,add:function(e){nt(e,this.t,lo),nt(lo.s,this.s,this),this.s?this.t+=lo.t:this.s=lo.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var lo=new tt;Qi.geo.stream=function(e,t){e&&uo.hasOwnProperty(e.type)?uo[e.type](e,t):rt(e,t)};var uo={Feature:function(e,t){rt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)rt(n[r].geometry,t)}},co={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){it(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)it(n[r],t,0)},Polygon:function(e,t){at(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)at(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)rt(n[r],t)}};Qi.geo.area=function(e){return ho=0,Qi.geo.stream(e,fo),ho};var ho,po=new tt,fo={sphere:function(){ho+=4*Ra},point:w,lineStart:w,lineEnd:w,polygonStart:function(){po.reset(),fo.lineStart=ot},polygonEnd:function(){var e=2*po;ho+=e<0?4*Ra+e:e,fo.lineStart=fo.lineEnd=fo.point=w}};Qi.geo.bounds=function(){function e(e,t){y.push(E=[c=e,h=e]),t<d&&(d=t),t>p&&(p=t)}function t(t,n){var r=st([t*Aa,n*Aa]);if(v){var i=ut(v,r),a=ut([i[1],-i[0],0],i);ht(a),a=pt(a);var o=t-f,l=o>0?1:-1,u=a[0]*ka*l,g=ua(o)>180;if(g^(l*f<u&&u<l*t)){(m=a[1]*ka)>p&&(p=m)}else if(u=(u+360)%360-180,g^(l*f<u&&u<l*t)){var m=-a[1]*ka;m<d&&(d=m)}else n<d&&(d=n),n>p&&(p=n);g?t<f?s(c,t)>s(c,h)&&(h=t):s(t,h)>s(c,h)&&(c=t):h>=c?(t<c&&(c=t),t>h&&(h=t)):t>f?s(c,t)>s(c,h)&&(h=t):s(t,h)>s(c,h)&&(c=t)}else e(t,n);v=r,f=t}function n(){x.point=t}function r(){E[0]=c,E[1]=h,x.point=e,v=null}function i(e,n){if(v){var r=e-f;b+=ua(r)>180?r+(r>0?360:-360):r}else g=e,m=n;fo.point(e,n),t(e,n)}function a(){fo.lineStart()}function o(){i(g,m),fo.lineEnd(),ua(b)>Ma&&(c=-(h=180)),E[0]=c,E[1]=h,v=null}function s(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function u(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var c,d,h,p,f,g,m,v,b,y,E,x={point:e,lineStart:n,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=a,x.lineEnd=o,b=0,fo.polygonStart()},polygonEnd:function(){fo.polygonEnd(),x.point=e,x.lineStart=n,x.lineEnd=r,po<0?(c=-(h=180),d=-(p=90)):b>Ma?p=90:b<-Ma&&(d=-90),E[0]=c,E[1]=h}};return function(e){p=h=-(c=d=1/0),y=[],Qi.geo.stream(e,x);i=y.length;if(i){y.sort(l);for(var t=1,n=[f=y[0]];t<i;++t)u((a=y[t])[0],f)||u(a[1],f)?(s(f[0],a[1])>s(f[0],f[1])&&(f[1]=a[1]),s(a[0],f[1])>s(f[0],f[1])&&(f[0]=a[0])):n.push(f=a);for(var r,i,a,o=-1/0,t=0,f=n[i=n.length-1];t<=i;f=a,++t)a=n[t],(r=s(f[1],a[0]))>o&&(o=r,c=a[0],h=f[1])}return y=E=null,c===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,d],[h,p]]}}(),Qi.geo.centroid=function(e){go=mo=vo=bo=yo=Eo=xo=_o=Co=wo=No=0,Qi.geo.stream(e,Mo);var t=Co,n=wo,r=No,i=t*t+n*n+r*r;return i<Ta&&(t=Eo,n=xo,r=_o,mo<Ma&&(t=vo,n=bo,r=yo),(i=t*t+n*n+r*r)<Ta)?[NaN,NaN]:[Math.atan2(n,t)*ka,ne(r/Math.sqrt(i))*ka]};var go,mo,vo,bo,yo,Eo,xo,_o,Co,wo,No,Mo={sphere:w,point:gt,lineStart:vt,lineEnd:bt,polygonStart:function(){Mo.lineStart=yt},polygonEnd:function(){Mo.lineStart=vt}},To=Nt(xt,function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?Ra:-Ra,l=ua(a-n);ua(l-Ra)<Ma?(e.point(n,r=(r+o)/2>0?Da:-Da),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&l>=Ra&&(ua(n-i)<Ma&&(n-=i*Ma),ua(a-s)<Ma&&(a-=s*Ma),r=function(e,t,n,r){var i,a,o=Math.sin(e-n);return ua(o)>Ma?Math.atan((Math.sin(t)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*a*o)):(t+r)/2}(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}},function(e,t,n,r){var i;if(null==e)i=n*Da,r.point(-Ra,i),r.point(0,i),r.point(Ra,i),r.point(Ra,0),r.point(Ra,-i),r.point(0,-i),r.point(-Ra,-i),r.point(-Ra,0),r.point(-Ra,i);else if(ua(e[0]-t[0])>Ma){var a=e[0]<t[0]?Ra:-Ra;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])},[-Ra,-Ra/2]),Ro=1e9;Qi.geo.clipExtent=function(){var e,t,n,r,i,a,o={stream:function(e){return i&&(i.valid=!1),i=a(e),i.valid=!0,i},extent:function(s){return arguments.length?(a=Ot(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(Qi.geo.conicEqualArea=function(){return Dt(At)}).raw=At,Qi.geo.albers=function(){return Qi.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Qi.geo.albersUsa=function(){function e(e){var a=e[0],o=e[1];return t=null,n(a,o),t||(r(a,o),t)||i(a,o),t}var t,n,r,i,a=Qi.geo.albers(),o=Qi.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Qi.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(e)},e.stream=function(e){var t=a.stream(e),n=o.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(a.precision(t),o.precision(t),s.precision(t),e):a.precision()},e.scale=function(t){return arguments.length?(a.scale(t),o.scale(.35*t),s.scale(t),e.translate(a.translate())):a.scale()},e.translate=function(t){if(!arguments.length)return a.translate();var u=a.scale(),c=+t[0],d=+t[1];return n=a.translate(t).clipExtent([[c-.455*u,d-.238*u],[c+.455*u,d+.238*u]]).stream(l).point,r=o.translate([c-.307*u,d+.201*u]).clipExtent([[c-.425*u+Ma,d+.12*u+Ma],[c-.214*u-Ma,d+.234*u-Ma]]).stream(l).point,i=s.translate([c-.205*u,d+.212*u]).clipExtent([[c-.214*u+Ma,d+.166*u+Ma],[c-.115*u-Ma,d+.234*u-Ma]]).stream(l).point,e},e.scale(1070)};var So,Oo,Do,Ao,ko,Lo,Io={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Oo=0,Io.lineStart=kt},polygonEnd:function(){Io.lineStart=Io.lineEnd=Io.point=w,So+=ua(Oo/2)}},Vo={point:function(e,t){e<Do&&(Do=e),e>ko&&(ko=e),t<Ao&&(Ao=t),t>Lo&&(Lo=t)},lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},$o={point:It,lineStart:Vt,lineEnd:$t,polygonStart:function(){$o.lineStart=Ht},polygonEnd:function(){$o.point=It,$o.lineStart=Vt,$o.lineEnd=$t}};Qi.geo.path=function(){function e(e){return e&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=i(a)),Qi.geo.stream(e,o)),a.result()}function t(){return o=null,e}var n,r,i,a,o,s=4.5;return e.area=function(e){return So=0,Qi.geo.stream(e,i(Io)),So},e.centroid=function(e){return vo=bo=yo=Eo=xo=_o=Co=wo=No=0,Qi.geo.stream(e,i($o)),No?[Co/No,wo/No]:_o?[Eo/_o,xo/_o]:yo?[vo/yo,bo/yo]:[NaN,NaN]},e.bounds=function(e){return ko=Lo=-(Do=Ao=1/0),Qi.geo.stream(e,i(Vo)),[[Do,Ao],[ko,Lo]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||function(e){var t=jt(function(t,n){return e([t*ka,n*ka])});return function(e){return Ut(t(e))}}(e):_,t()):n},e.context=function(e){return arguments.length?(a=null==(r=e)?new function(){function e(e,t){o.push("M",e,",",t,a)}function t(e,t){o.push("M",e,",",t),s.point=n}function n(e,t){o.push("L",e,",",t)}function r(){s.point=e}function i(){o.push("Z")}var a=Lt(4.5),o=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return a=Lt(e),s},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return s}:new function(e){function t(t,n){e.moveTo(t+o,n),e.arc(t,n,o,0,Sa)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function i(){s.point=t}function a(){e.closePath()}var o=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return o=e,s},result:w};return s}(e),"function"!=typeof s&&a.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(a.pointRadius(+t),+t),e):s},e.projection(Qi.geo.albersUsa()).context(null)},Qi.geo.transform=function(e){return{stream:function(t){var n=new Pt(t);for(var r in e)n[r]=e[r];return n}}},Pt.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Qi.geo.projection=Gt,Qi.geo.projectionMutator=zt,(Qi.geo.equirectangular=function(){return Gt(Wt)}).raw=Wt.invert=Wt,Qi.geo.rotation=function(e){function t(t){return t=e(t[0]*Aa,t[1]*Aa),t[0]*=ka,t[1]*=ka,t}return e=Yt(e[0]%360*Aa,e[1]*Aa,e.length>2?e[2]*Aa:0),t.invert=function(t){return t=e.invert(t[0]*Aa,t[1]*Aa),t[0]*=ka,t[1]*=ka,t},t},qt.invert=Wt,Qi.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=Yt(-e[0]*Aa,-e[1]*Aa,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=ka,e[1]*=ka}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=Xt((t=+r)*Aa,i*Aa),e):t},e.precision=function(r){return arguments.length?(n=Xt(t*Aa,(i=+r)*Aa),e):i},e.angle(90)},Qi.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Aa,i=e[1]*Aa,a=t[1]*Aa,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},Qi.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Qi.range(Math.ceil(a/m)*m,i,m).map(h).concat(Qi.range(Math.ceil(u/v)*v,l,v).map(p)).concat(Qi.range(Math.ceil(r/f)*f,n,f).filter(function(e){return ua(e%m)>Ma}).map(c)).concat(Qi.range(Math.ceil(s/g)*g,o,g).filter(function(e){return ua(e%v)>Ma}).map(d))}var n,r,i,a,o,s,l,u,c,d,h,p,f=10,g=f,m=90,v=360,b=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[h(a).concat(p(l).slice(1),h(i).reverse().slice(1),p(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(a=+t[0][0],i=+t[1][0],u=+t[0][1],l=+t[1][1],a>i&&(t=a,a=i,i=t),u>l&&(t=u,u=l,l=t),e.precision(b)):[[a,u],[i,l]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),e.precision(b)):[[r,s],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],v=+t[1],e):[m,v]},e.minorStep=function(t){return arguments.length?(f=+t[0],g=+t[1],e):[f,g]},e.precision=function(t){return arguments.length?(b=+t,c=Qt(s,o,90),d=en(r,n,b),h=Qt(u,l,90),p=en(a,i,b),e):b},e.majorExtent([[-180,-90+Ma],[180,90-Ma]]).minorExtent([[-180,-80-Ma],[180,80+Ma]])},Qi.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=tn,i=nn;return e.distance=function(){return Qi.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},Qi.geo.interpolate=function(e,t){return function(e,t,n,r){var i=Math.cos(t),a=Math.sin(t),o=Math.cos(r),s=Math.sin(r),l=i*Math.cos(e),u=i*Math.sin(e),c=o*Math.cos(n),d=o*Math.sin(n),h=2*Math.asin(Math.sqrt(ie(r-t)+i*o*ie(n-e))),p=1/Math.sin(h),f=h?function(e){var t=Math.sin(e*=h)*p,n=Math.sin(h-e)*p,r=n*l+t*c,i=n*u+t*d,o=n*a+t*s;return[Math.atan2(i,r)*ka,Math.atan2(o,Math.sqrt(r*r+i*i))*ka]}:function(){return[e*ka,t*ka]};return f.distance=h,f}(e[0]*Aa,e[1]*Aa,t[0]*Aa,t[1]*Aa)},Qi.geo.length=function(e){return Ho=0,Qi.geo.stream(e,jo),Ho};var Ho,jo={sphere:w,point:w,lineStart:function(){function e(e,i){var a=Math.sin(i*=Aa),o=Math.cos(i),s=ua((e*=Aa)-t),l=Math.cos(s);Ho+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=r*a-n*o*l)*s),n*a+r*o*l),t=e,n=a,r=o}var t,n,r;jo.point=function(i,a){t=i*Aa,n=Math.sin(a*=Aa),r=Math.cos(a),jo.point=e},jo.lineEnd=function(){jo.point=jo.lineEnd=w}},lineEnd:w,polygonStart:w,polygonEnd:w},Po=rn(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(Qi.geo.azimuthalEqualArea=function(){return Gt(Po)}).raw=Po;var Fo=rn(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},_);(Qi.geo.azimuthalEquidistant=function(){return Gt(Fo)}).raw=Fo,(Qi.geo.conicConformal=function(){return Dt(an)}).raw=an,(Qi.geo.conicEquidistant=function(){return Dt(on)}).raw=on;var Go=rn(function(e){return 1/e},Math.atan);(Qi.geo.gnomonic=function(){return Gt(Go)}).raw=Go,sn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Da]},(Qi.geo.mercator=function(){return ln(sn)}).raw=sn;var zo=rn(function(){return 1},Math.asin);(Qi.geo.orthographic=function(){return Gt(zo)}).raw=zo;var Uo=rn(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(Qi.geo.stereographic=function(){return Gt(Uo)}).raw=Uo,un.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Da]},(Qi.geo.transverseMercator=function(){var e=ln(un),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=un,Qi.geom={},Qi.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=Ne(n),a=Ne(r),o=e.length,s=[],l=[];for(t=0;t<o;t++)s.push([+i.call(this,e[t],t),+a.call(this,e[t],t),t]);for(s.sort(pn),t=0;t<o;t++)l.push([s[t][0],-s[t][1]]);var u=hn(s),c=hn(l),d=c[0]===u[0],h=c[c.length-1]===u[u.length-1],p=[];for(t=u.length-1;t>=0;--t)p.push(e[s[u[t]][2]]);for(t=+d;t<c.length-h;++t)p.push(e[s[c[t]][2]]);return p}var n=cn,r=dn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},Qi.geom.polygon=function(e){return fa(e,Wo),e};var Wo=Qi.geom.polygon.prototype=[];Wo.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Wo.centroid=function(e){var t,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a*e,o*e]},Wo.clip=function(e){for(var t,n,r,i,a,o,s=mn(e),l=-1,u=this.length-mn(this),c=this[u-1];++l<u;){for(t=e.slice(),e.length=0,i=this[l],a=t[(r=t.length-s)-1],n=-1;++n<r;)fn(o=t[n],c,i)?(fn(a,c,i)||e.push(gn(a,o,c,i)),e.push(o)):fn(a,c,i)&&e.push(gn(a,o,c,i)),a=o;s&&e.push(e[0]),c=i}return e};var qo,Yo,Bo,Zo,Jo,Xo=[],Ko=[];_n.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(wn),t.length},On.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Dn.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=In(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(kn(this,n),n=(e=n).U),n.C=!1,r.C=!0,Ln(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Ln(this,n),n=(e=n).U),n.C=!1,r.C=!0,kn(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?In(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,kn(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Ln(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,kn(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,Ln(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,kn(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Ln(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},Qi.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],i=s[0][1],a=s[1][0],o=s[1][1];return Vn(n(e),s).cells.forEach(function(n,s){var l=n.edges,u=n.site;(t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):u.x>=r&&u.x<=a&&u.y>=i&&u.y<=o?[[r,o],[a,o],[a,i],[r,i]]:[]).point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(a(e,t)/Ma)*Ma,y:Math.round(o(e,t)/Ma)*Ma,i:t}})}var r=cn,i=dn,a=r,o=i,s=Qo;return e?t(e):(t.links=function(e){return Vn(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return Vn(n(e)).cells.forEach(function(n,r){for(var i,a=n.site,o=n.edges.sort(wn),s=-1,l=o.length,u=o[l-1].edge,c=u.l===a?u.r:u.l;++s<l;)u,i=c,c=(u=o[s].edge).l===a?u.r:u.l,r<i.i&&r<c.i&&function(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}(a,i,c)<0&&t.push([e[r],e[i.i],e[c.i]])}),t},t.x=function(e){return arguments.length?(a=Ne(r=e),t):r},t.y=function(e){return arguments.length?(o=Ne(i=e),t):i},t.clipExtent=function(e){return arguments.length?(s=null==e?Qo:e,t):s===Qo?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===Qo?null:s&&s[1]},t)};var Qo=[[-1e6,-1e6],[1e6,1e6]];Qi.geom.delaunay=function(e){return Qi.geom.voronoi().triangles(e)},Qi.geom.quadtree=function(e,t,n,r,i){function a(e){function a(e,t,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(ua(l-n)+ua(c-r)<.01)u(e,t,n,r,i,a,o,s);else{var d=e.point;e.x=e.y=e.point=null,u(e,d,l,c,i,a,o,s),u(e,t,n,r,i,a,o,s)}else e.x=n,e.y=r,e.point=t}else u(e,t,n,r,i,a,o,s)}function u(e,t,n,r,i,o,s,l){var u=.5*(i+s),c=.5*(o+l),d=n>=u,h=r>=c,p=h<<1|d;e.leaf=!1,e=e.nodes[p]||(e.nodes[p]={leaf:!0,nodes:[],point:null,x:null,y:null}),d?i=u:s=u,h?o=c:l=c,a(e,t,n,r,i,o,s,l)}var c,d,h,p,f,g,m,v,b,y=Ne(s),E=Ne(l);if(null!=t)g=t,m=n,v=r,b=i;else if(v=b=-(g=m=1/0),d=[],h=[],f=e.length,o)for(p=0;p<f;++p)(c=e[p]).x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>b&&(b=c.y),d.push(c.x),h.push(c.y);else for(p=0;p<f;++p){var x=+y(c=e[p],p),_=+E(c,p);x<g&&(g=x),_<m&&(m=_),x>v&&(v=x),_>b&&(b=_),d.push(x),h.push(_)}var C=v-g,w=b-m;C>w?b=m+C:v=g+w;var N={leaf:!0,nodes:[],point:null,x:null,y:null};if(N.add=function(e){a(N,e,+y(e,++p),+E(e,p),g,m,v,b)},N.visit=function(e){Pn(e,N,g,m,v,b)},N.find=function(e){return function(e,t,n,r,i,a,o){var s,l=1/0;return function e(u,c,d,h,p){if(!(c>a||d>o||h<r||p<i)){if(f=u.point){var f,g=t-u.x,m=n-u.y,v=g*g+m*m;if(v<l){var b=Math.sqrt(l=v);r=t-b,i=n-b,a=t+b,o=n+b,s=f}}for(var y=u.nodes,E=.5*(c+h),x=.5*(d+p),_=(n>=x)<<1|t>=E,C=_+4;_<C;++_)if(u=y[3&_])switch(3&_){case 0:e(u,c,d,E,x);break;case 1:e(u,E,d,h,x);break;case 2:e(u,c,x,E,p);break;case 3:e(u,E,x,h,p)}}}(e,r,i,a,o),s}(N,e[0],e[1],g,m,v,b)},p=-1,null==t){for(;++p<f;)a(N,e[p],d[p],h[p],g,m,v,b);--p}else e.forEach(N.add);return d=h=e=c=null,N}var o,s=cn,l=dn;return(o=arguments.length)?(s=Hn,l=jn,3===o&&(i=n,r=t,n=t=0),a(e)):(a.x=function(e){return arguments.length?(s=e,a):s},a.y=function(e){return arguments.length?(l=e,a):l},a.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),a):null==t?null:[[t,n],[r,i]]},a.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),a):null==t?null:[r-t,i-n]},a)},Qi.interpolateRgb=Fn,Qi.interpolateObject=Gn,Qi.interpolateNumber=zn,Qi.interpolateString=Un;var es=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ts=new RegExp(es.source,"g");Qi.interpolate=Wn,Qi.interpolators=[function(e,t){var n=typeof t;return("string"===n?qa.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Fn:Un:t instanceof ae?Fn:Array.isArray(t)?qn:"object"===n&&isNaN(t)?Gn:zn)(e,t)}],Qi.interpolateArray=qn;var ns=function(){return _},rs=Qi.map({linear:ns,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return Zn},cubic:function(){return Jn},sin:function(){return Xn},exp:function(){return Kn},circle:function(){return Qn},elastic:function(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Sa*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Sa/t)}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},bounce:function(){return er}}),is=Qi.map({in:_,out:Yn,"in-out":Bn,"out-in":function(e){return Bn(Yn(e))}});Qi.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=rs.get(n)||ns,r=is.get(r)||_,function(e){return function(t){return t<=0?0:t>=1?1:e(t)}}(r(n.apply(null,ea.call(arguments,1))))},Qi.interpolateHcl=function(e,t){e=Qi.hcl(e),t=Qi.hcl(t);var n=e.h,r=e.c,i=e.l,a=t.h-n,o=t.c-r,s=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:a<-180&&(a+=360),function(e){return ue(n+a*e,r+o*e,i+s*e)+""}},Qi.interpolateHsl=function(e,t){e=Qi.hsl(e),t=Qi.hsl(t);var n=e.h,r=e.s,i=e.l,a=t.h-n,o=t.s-r,s=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:a<-180&&(a+=360),function(e){return se(n+a*e,r+o*e,i+s*e)+""}},Qi.interpolateLab=function(e,t){e=Qi.lab(e),t=Qi.lab(t);var n=e.l,r=e.a,i=e.b,a=t.l-n,o=t.a-r,s=t.b-i;return function(e){return de(n+a*e,r+o*e,i+s*e)+""}},Qi.interpolateRound=tr,Qi.transform=function(e){var t=na.createElementNS(Qi.ns.prefix.svg,"g");return(Qi.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new nr(n?n.matrix:as)})(e)},nr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var as={a:1,b:0,c:0,d:1,e:0,f:0};Qi.interpolateTransform=or,Qi.layout={},Qi.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(sr(e[n]));return t}},Qi.layout.chord=function(){function e(){var e,u,d,h,p,f={},g=[],m=Qi.range(a),v=[];for(n=[],r=[],e=0,h=-1;++h<a;){for(u=0,p=-1;++p<a;)u+=i[h][p];g.push(u),v.push(Qi.range(a)),e+=u}for(o&&m.sort(function(e,t){return o(g[e],g[t])}),s&&v.forEach(function(e,t){e.sort(function(e,n){return s(i[t][e],i[t][n])})}),e=(Sa-c*a)/e,u=0,h=-1;++h<a;){for(d=u,p=-1;++p<a;){var b=m[h],y=v[b][p],E=i[b][y],x=u,_=u+=E*e;f[b+"-"+y]={index:b,subindex:y,startAngle:x,endAngle:_,value:E}}r[b]={index:b,startAngle:d,endAngle:u,value:g[b]},u+=c}for(h=-1;++h<a;)for(p=h-1;++p<a;){var C=f[h+"-"+p],w=f[p+"-"+h];(C.value||w.value)&&n.push(C.value<w.value?{source:w,target:C}:{source:C,target:w})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,a,o,s,l,u={},c=0;return u.matrix=function(e){return arguments.length?(a=(i=e)&&i.length,n=r=null,u):i},u.padding=function(e){return arguments.length?(c=e,n=r=null,u):c},u.sortGroups=function(e){return arguments.length?(o=e,n=r=null,u):o},u.sortSubgroups=function(e){return arguments.length?(s=e,n=null,u):s},u.sortChords=function(e){return arguments.length?(l=e,n&&t(),u):l},u.chords=function(){return n||e(),n},u.groups=function(){return r||e(),r},u},Qi.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=i-n,l=a*a+o*o;if(s*s/v<l){if(l<g){u=t.charge/l;e.px-=a*u,e.py-=o*u}return!0}if(t.point&&l&&l<g){var u=t.pointCharge/l;e.px-=a*u,e.py-=o*u}}return!t.charge}}function t(e){e.px=Qi.event.x,e.py=Qi.event.y,l.resume()}var n,r,i,a,o,s,l={},u=Qi.dispatch("start","tick","end"),c=[1,1],d=.9,h=os,p=ss,f=-30,g=ls,m=.1,v=.64,b=[],y=[];return l.tick=function(){if((i*=.99)<.005)return n=null,u.end({type:"end",alpha:i=0}),!0;var t,r,l,h,p,g,v,E,x,_=b.length,C=y.length;for(r=0;r<C;++r)h=(l=y[r]).source,(g=(E=(p=l.target).x-h.x)*E+(x=p.y-h.y)*x)&&(E*=g=i*o[r]*((g=Math.sqrt(g))-a[r])/g,x*=g,p.x-=E*(v=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=x*v,h.x+=E*(v=1-v),h.y+=x*v);if((v=i*m)&&(E=c[0]/2,x=c[1]/2,r=-1,v))for(;++r<_;)(l=b[r]).x+=(E-l.x)*v,l.y+=(x-l.y)*v;if(f)for(pr(t=Qi.geom.quadtree(b),i,s),r=-1;++r<_;)(l=b[r]).fixed||t.visit(e(l));for(r=-1;++r<_;)(l=b[r]).fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*d,l.y-=(l.py-(l.py=l.y))*d);u.tick({type:"tick",alpha:i})},l.nodes=function(e){return arguments.length?(b=e,l):b},l.links=function(e){return arguments.length?(y=e,l):y},l.size=function(e){return arguments.length?(c=e,l):c},l.linkDistance=function(e){return arguments.length?(h="function"==typeof e?e:+e,l):h},l.distance=l.linkDistance,l.linkStrength=function(e){return arguments.length?(p="function"==typeof e?e:+e,l):p},l.friction=function(e){return arguments.length?(d=+e,l):d},l.charge=function(e){return arguments.length?(f="function"==typeof e?e:+e,l):f},l.chargeDistance=function(e){return arguments.length?(g=e*e,l):Math.sqrt(g)},l.gravity=function(e){return arguments.length?(m=+e,l):m},l.theta=function(e){return arguments.length?(v=e*e,l):Math.sqrt(v)},l.alpha=function(e){return arguments.length?(e=+e,i?e>0?i=e:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:i=0})):e>0&&(u.start({type:"start",alpha:i=e}),n=Re(l.tick)),l):i},l.start=function(){function e(e,r){if(!n){for(n=new Array(i),l=0;l<i;++l)n[l]=[];for(l=0;l<u;++l){var a=y[l];n[a.source.index].push(a.target),n[a.target.index].push(a.source)}}for(var o,s=n[t],l=-1,c=s.length;++l<c;)if(!isNaN(o=s[l][e]))return o;return Math.random()*r}var t,n,r,i=b.length,u=y.length,d=c[0],g=c[1];for(t=0;t<i;++t)(r=b[t]).index=t,r.weight=0;for(t=0;t<u;++t)"number"==typeof(r=y[t]).source&&(r.source=b[r.source]),"number"==typeof r.target&&(r.target=b[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<i;++t)r=b[t],isNaN(r.x)&&(r.x=e("x",d)),isNaN(r.y)&&(r.y=e("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(a=[],"function"==typeof h)for(t=0;t<u;++t)a[t]=+h.call(this,y[t],t);else for(t=0;t<u;++t)a[t]=h;if(o=[],"function"==typeof p)for(t=0;t<u;++t)o[t]=+p.call(this,y[t],t);else for(t=0;t<u;++t)o[t]=p;if(s=[],"function"==typeof f)for(t=0;t<i;++t)s[t]=+f.call(this,b[t],t);else for(t=0;t<i;++t)s[t]=f;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(r||(r=Qi.behavior.drag().origin(_).on("dragstart.force",ur).on("drag.force",t).on("dragend.force",cr)),!arguments.length)return r;this.on("mouseover.force",dr).on("mouseout.force",hr).call(r)},Qi.rebind(l,u,"on")};var os=20,ss=1,ls=1/0;Qi.layout.hierarchy=function(){function e(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(u=n.call(e,a,a.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)o.push(c=u[l]),c.parent=a,c.depth=a.depth+1;r&&(a.value=0),a.children=u}else r&&(a.value=+r.call(e,a,a.depth)||0),delete a.children;return mr(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}var t=yr,n=vr,r=br;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(gr(t,function(e){e.children&&(e.value=0)}),mr(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},Qi.layout.partition=function(){function e(t,n,r,i){var a=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,a&&(o=a.length)){var o,s,l,u=-1;for(r=t.value?r/t.value:0;++u<o;)e(s=a[u],n,l=s.value*r,i),n+=l}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,a=-1;++a<i;)r=Math.max(r,t(n[a]));return 1+r}function n(n,a){var o=r.call(this,n,a);return e(o[0],0,i[0],i[1]/t(o[0])),o}var r=Qi.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},fr(n,r)},Qi.layout.pie=function(){function e(o){var s,l=o.length,u=o.map(function(n,r){return+t.call(e,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-c,h=Math.min(Math.abs(d)/l,+("function"==typeof a?a.apply(this,arguments):a)),p=h*(d<0?-1:1),f=Qi.sum(u),g=f?(d-l*p)/f:0,m=Qi.range(l),v=[];return null!=n&&m.sort(n===us?function(e,t){return u[t]-u[e]}:function(e,t){return n(o[e],o[t])}),m.forEach(function(e){v[e]={data:o[e],value:s=u[e],startAngle:c,endAngle:c+=s*g+p,padAngle:h}}),v}var t=Number,n=us,r=0,i=Sa,a=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e.padAngle=function(t){return arguments.length?(a=t,e):a},e};var us={};Qi.layout.stack=function(){function e(s,l){if(!(h=s.length))return s;var u=s.map(function(n,r){return t.call(e,n,r)}),c=u.map(function(t){return t.map(function(t,n){return[a.call(e,t,n),o.call(e,t,n)]})}),d=n.call(e,c,l);u=Qi.permute(u,d),c=Qi.permute(c,d);var h,p,f,g,m=r.call(e,c,l),v=u[0].length;for(f=0;f<v;++f)for(i.call(e,u[0][f],g=m[f],c[0][f][1]),p=1;p<h;++p)i.call(e,u[p][f],g+=c[p-1][f][1],c[p][f][1]);return s}var t=_,n=wr,r=Nr,i=Cr,a=xr,o=_r;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:cs.get(t)||wr,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:ds.get(t)||Nr,e):r},e.x=function(t){return arguments.length?(a=t,e):a},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(i=t,e):i},e};var cs=Qi.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(Mr),a=e.map(Tr),o=Qi.range(r).sort(function(e,t){return i[e]-i[t]}),s=0,l=0,u=[],c=[];for(t=0;t<r;++t)n=o[t],s<l?(s+=a[n],u.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(u)},reverse:function(e){return Qi.range(e.length).reverse()},default:wr}),ds=Qi.map({silhouette:function(e){var t,n,r,i=e.length,a=e[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(e){var t,n,r,i,a,o,s,l,u,c=e.length,d=e[0],h=d.length,p=[];for(p[0]=l=u=0,n=1;n<h;++n){for(t=0,i=0;t<c;++t)i+=e[t][n][1];for(t=0,a=0,s=d[n][0]-d[n-1][0];t<c;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)o+=(e[r][n][1]-e[r][n-1][1])/s;a+=o*e[t][n][1]}p[n]=l-=i?a/i*s:0,l<u&&(u=l)}for(n=0;n<h;++n)p[n]-=u;return p},expand:function(e){var t,n,r,i=e.length,a=e[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:Nr});Qi.layout.histogram=function(){function e(e,a){for(var o,s,l=[],u=e.map(n,this),c=r.call(this,u,a),d=i.call(this,c,u,a),a=-1,h=u.length,p=d.length-1,f=t?1:1/h;++a<p;)(o=l[a]=[]).dx=d[a+1]-(o.x=d[a]),o.y=0;if(p>0)for(a=-1;++a<h;)(s=u[a])>=c[0]&&s<=c[1]&&((o=l[Qi.bisect(d,s,1,p)-1]).y+=f,o.push(e[a]));return l}var t=!0,n=Number,r=Dr,i=Sr;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=Ne(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return Or(e,t)}:Ne(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},Qi.layout.pack=function(){function e(e,a){var o=n.call(this,e,a),s=o[0],l=i[0],u=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,mr(s,function(e){e.r=+c(e.value)}),mr(s,Vr),r){var d=r*(t?1:Math.max(2*s.r/l,2*s.r/u))/2;mr(s,function(e){e.r+=d}),mr(s,Vr),mr(s,function(e){e.r-=d})}return jr(s,l/2,u/2,t?1:1/Math.max(2*s.r/l,2*s.r/u)),o}var t,n=Qi.layout.hierarchy().sort(Ar),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},fr(e,n)},Qi.layout.tree=function(){function e(e,l){var u=i.call(this,e,l),c=u[0],d=function(e){var t,n={A:null,children:[e]},r=[n];for(;null!=(t=r.pop());)for(var i,a=t.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:t,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}(c);if(mr(d,t),d.parent.m=-d.z,gr(d,n),s)gr(c,r);else{var h=c,p=c,f=c;gr(c,function(e){e.x<h.x&&(h=e),e.x>p.x&&(p=e),e.depth>f.depth&&(f=e)});var g=a(h,p)/2-h.x,m=o[0]/(p.x+a(p,h)/2+g),v=o[1]/(f.depth||1);gr(c,function(e){e.x=(e.x+g)*m,e.y=e.depth*v})}return u}function t(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(e);var i=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+a(e._,r._),e.m=e.z-i):e.z=i}else r&&(e.z=r.z+a(e._,r._));e.parent.A=function(e,t,n){if(t){for(var r,i=e,o=e,s=t,l=i.parent.children[0],u=i.m,c=o.m,d=s.m,h=l.m;s=zr(s),i=Gr(i),s&&i;)l=Gr(l),(o=zr(o)).a=e,(r=s.z+d-i.z-u+a(s._,i._))>0&&(!function(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}(function(e,t,n){return e.a.parent===t.parent?e.a:n}(s,e,n),e,r),u+=r,c+=r),d+=s.m,u+=i.m,h+=l.m,c+=o.m;s&&!zr(o)&&(o.t=s,o.m+=d-c),i&&!Gr(l)&&(l.t=i,l.m+=u-h,n=e)}return n}(e,r,e.parent.A||n[0])}function n(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function r(e){e.x*=o[0],e.y=e.depth*o[1]}var i=Qi.layout.hierarchy().sort(null).value(null),a=Fr,o=[1,1],s=null;return e.separation=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(s=null==(o=t)?r:null,e):s?null:o},e.nodeSize=function(t){return arguments.length?(s=null==(o=t)?null:r,e):s?o:null},fr(e,i)},Qi.layout.cluster=function(){function e(e,a){var o,s=t.call(this,e,a),l=s[0],u=0;mr(l,function(e){var t=e.children;t&&t.length?(e.x=function(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}(t),e.y=function(e){return 1+Qi.max(e,function(e){return e.y})}(t)):(e.x=o?u+=n(e,o):0,e.y=0,o=e)});var c=Ur(l),d=Wr(l),h=c.x-n(c,d)/2,p=d.x+n(d,c)/2;return mr(l,i?function(e){e.x=(e.x-l.x)*r[0],e.y=(l.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(p-h)*r[0],e.y=(1-(l.y?e.y/l.y:1))*r[1]}),s}var t=Qi.layout.hierarchy().sort(null).value(null),n=Fr,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},fr(e,t)},Qi.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,a=e.length;++i<a;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function t(n){var i=n.children;if(i&&i.length){var a,o,s,l=c(n),u=[],d=i.slice(),f=1/0,g="slice"===h?l.dx:"dice"===h?l.dy:"slice-dice"===h?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(e(d,l.dx*l.dy/n.value),u.area=0;(s=d.length)>0;)u.push(a=d[s-1]),u.area+=a.area,"squarify"!==h||(o=function(e,t){var n,r=e.area,i=0,a=1/0,o=-1,s=e.length;for(;++o<s;)(n=e[o].area)&&(n<a&&(a=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*p/r,r/(t*a*p)):1/0}(u,g))<=f?(d.pop(),f=o):(u.area-=u.pop().area,r(u,g,l,!1),g=Math.min(l.dx,l.dy),u.length=u.area=0,f=1/0);u.length&&(r(u,g,l,!0),u.length=u.area=0),i.forEach(t)}}function n(t){var i=t.children;if(i&&i.length){var a,o=c(t),s=i.slice(),l=[];for(e(s,o.dx*o.dy/t.value),l.area=0;a=s.pop();)l.push(a),l.area+=a.area,null!=a.z&&(r(l,a.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);i.forEach(n)}}function r(e,t,n,r){var i,a=-1,o=e.length,l=n.x,u=n.y,c=t?s(e.area/t):0;if(t==n.dx){for((r||c>n.dy)&&(c=n.dy);++a<o;)(i=e[a]).x=l,i.y=u,i.dy=c,l+=i.dx=Math.min(n.x+n.dx-l,c?s(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++a<o;)(i=e[a]).x=l,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?s(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function i(r){var i=a||o(r),s=i[0];return s.x=s.y=0,s.value?(s.dx=l[0],s.dy=l[1]):s.dx=s.dy=0,a&&o.revalue(s),e([s],s.dx*s.dy/s.value),(a?n:t)(s),d&&(a=i),i}var a,o=Qi.layout.hierarchy(),s=Math.round,l=[1,1],u=null,c=qr,d=!1,h="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(e){return arguments.length?(l=e,i):l},i.padding=function(e){function t(t){return Yr(t,e)}if(!arguments.length)return u;var n;return c=null==(u=e)?qr:"function"==(n=typeof e)?function(t){var n=e.call(i,t,t.depth);return null==n?qr(t):Yr(t,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(e=[e,e,e,e],t):t,i},i.round=function(e){return arguments.length?(s=e?Math.round:Number,i):s!=Number},i.sticky=function(e){return arguments.length?(d=e,a=null,i):d},i.ratio=function(e){return arguments.length?(p=e,i):p},i.mode=function(e){return arguments.length?(h=e+"",i):h},fr(i,o)},Qi.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=Qi.random.normal.apply(Qi,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=Qi.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},Qi.scale={};var hs={floor:_,ceil:_};Qi.scale.linear=function(){return Kr([0,1],[0,1],Wn,!1)};var ps={s:1,g:1,p:1,r:1,e:1};Qi.scale.log=function(){return ai(Qi.scale.linear().domain([0,1]),10,!0,[1,10])};var fs=Qi.format(".0e"),gs={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};Qi.scale.pow=function(){return oi(Qi.scale.linear(),1,[0,1])},Qi.scale.sqrt=function(){return Qi.scale.pow().exponent(.5)},Qi.scale.ordinal=function(){return li([],{t:"range",a:[[]]})},Qi.scale.category10=function(){return Qi.scale.ordinal().range(ms)},Qi.scale.category20=function(){return Qi.scale.ordinal().range(vs)},Qi.scale.category20b=function(){return Qi.scale.ordinal().range(bs)},Qi.scale.category20c=function(){return Qi.scale.ordinal().range(ys)};var ms=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(be),vs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(be),bs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(be),ys=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(be);Qi.scale.quantile=function(){return ui([],[])},Qi.scale.quantize=function(){return ci(0,1,[0,1])},Qi.scale.threshold=function(){return di([.5],[0,1])},Qi.scale.identity=function(){return hi([0,1])},Qi.svg={},Qi.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=o.apply(this,arguments)-Da,d=s.apply(this,arguments)-Da,h=Math.abs(d-c),p=c>d?0:1;if(u<e&&(f=u,u=e,e=f),h>=Oa)return t(u,p)+(e?t(e,1-p):"")+"Z";var f,g,m,v,b,y,E,x,_,C,w,N,M=0,T=0,R=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=a===Es?Math.sqrt(e*e+u*u):+a.apply(this,arguments),p||(T*=-1),u&&(T=ne(m/u*Math.sin(v))),e&&(M=ne(m/e*Math.sin(v)))),u){b=u*Math.cos(c+T),y=u*Math.sin(c+T),E=u*Math.cos(d-T),x=u*Math.sin(d-T);var S=Math.abs(d-c-2*T)<=Ra?0:1;if(T&&yi(b,y,E,x)===p^S){var O=(c+d)/2;b=u*Math.cos(O),y=u*Math.sin(O),E=x=null}}else b=y=0;if(e){_=e*Math.cos(d-M),C=e*Math.sin(d-M),w=e*Math.cos(c+M),N=e*Math.sin(c+M);var D=Math.abs(c-d+2*M)<=Ra?0:1;if(M&&yi(_,C,w,N)===1-p^D){var A=(c+d)/2;_=e*Math.cos(A),C=e*Math.sin(A),w=N=null}}else _=C=0;if(h>Ma&&(f=Math.min(Math.abs(u-e)/2,+i.apply(this,arguments)))>.001){g=e<u^p?0:1;var k=f,L=f;if(h<Ra){var I=null==w?[_,C]:null==E?[b,y]:gn([b,y],[w,N],[E,x],[_,C]),V=b-I[0],$=y-I[1],H=E-I[0],j=x-I[1],P=1/Math.sin(Math.acos((V*H+$*j)/(Math.sqrt(V*V+$*$)*Math.sqrt(H*H+j*j)))/2),F=Math.sqrt(I[0]*I[0]+I[1]*I[1]);L=Math.min(f,(e-F)/(P-1)),k=Math.min(f,(u-F)/(P+1))}if(null!=E){var G=Ei(null==w?[_,C]:[w,N],[b,y],u,k,p),z=Ei([E,x],[_,C],u,k,p);f===k?R.push("M",G[0],"A",k,",",k," 0 0,",g," ",G[1],"A",u,",",u," 0 ",1-p^yi(G[1][0],G[1][1],z[1][0],z[1][1]),",",p," ",z[1],"A",k,",",k," 0 0,",g," ",z[0]):R.push("M",G[0],"A",k,",",k," 0 1,",g," ",z[0])}else R.push("M",b,",",y);if(null!=w){var U=Ei([b,y],[w,N],e,-L,p),W=Ei([_,C],null==E?[b,y]:[E,x],e,-L,p);f===L?R.push("L",W[0],"A",L,",",L," 0 0,",g," ",W[1],"A",e,",",e," 0 ",p^yi(W[1][0],W[1][1],U[1][0],U[1][1]),",",1-p," ",U[1],"A",L,",",L," 0 0,",g," ",U[0]):R.push("L",W[0],"A",L,",",L," 0 0,",g," ",U[0])}else R.push("L",_,",",C)}else R.push("M",b,",",y),null!=E&&R.push("A",u,",",u," 0 ",S,",",p," ",E,",",x),R.push("L",_,",",C),null!=w&&R.push("A",e,",",e," 0 ",D,",",1-p," ",w,",",N);return R.push("Z"),R.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=fi,r=gi,i=pi,a=Es,o=mi,s=vi,l=bi;return e.innerRadius=function(t){return arguments.length?(n=Ne(t),e):n},e.outerRadius=function(t){return arguments.length?(r=Ne(t),e):r},e.cornerRadius=function(t){return arguments.length?(i=Ne(t),e):i},e.padRadius=function(t){return arguments.length?(a=t==Es?Es:Ne(t),e):a},e.startAngle=function(t){return arguments.length?(o=Ne(t),e):o},e.endAngle=function(t){return arguments.length?(s=Ne(t),e):s},e.padAngle=function(t){return arguments.length?(l=Ne(t),e):l},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Da;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Es="auto";Qi.svg.line=function(){return xi(_)};var xs=Qi.map({linear:_i,"linear-closed":Ci,step:function(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":wi,"step-after":Ni,basis:Ri,"basis-open":function(e){if(e.length<4)return _i(e);for(var t,n=[],r=-1,i=e.length,a=[0],o=[0];++r<3;)t=e[r],a.push(t[0]),o.push(t[1]);for(n.push(Si(ws,a)+","+Si(ws,o)),--r;++r<i;)t=e[r],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),Oi(n,a,o);return n.join("")},"basis-closed":function(e){for(var t,n,r=-1,i=e.length,a=i+4,o=[],s=[];++r<4;)n=e[r%i],o.push(n[0]),s.push(n[1]);for(t=[Si(ws,o),",",Si(ws,s)],--r;++r<a;)n=e[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Oi(t,o,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var r,i,a=e[0][0],o=e[0][1],s=e[n][0]-a,l=e[n][1]-o,u=-1;++u<=n;)i=u/n,(r=e[u])[0]=t*r[0]+(1-t)*(a+i*s),r[1]=t*r[1]+(1-t)*(o+i*l);return Ri(e)},cardinal:function(e,t){return e.length<3?_i(e):e[0]+Mi(e,Ti(e,t))},"cardinal-open":function(e,t){return e.length<4?_i(e):e[1]+Mi(e.slice(1,-1),Ti(e,t))},"cardinal-closed":function(e,t){return e.length<3?Ci(e):e[0]+Mi((e.push(e[0]),e),Ti([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?_i(e):e[0]+Mi(e,Ai(e))}});xs.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var _s=[0,2/3,1/3,0],Cs=[0,1/3,2/3,0],ws=[0,1/6,2/3,1/6];Qi.svg.line.radial=function(){var e=xi(ki);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},wi.reverse=Ni,Ni.reverse=wi,Qi.svg.area=function(){return Li(_)},Qi.svg.area.radial=function(){var e=Li(ki);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Qi.svg.chord=function(){function e(e,o){var s=t(this,i,e,o),l=t(this,a,e,o);return"M"+s.p0+n(s.r,s.p1,s.a1-s.a0)+(function(e,t){return e.a0==t.a0&&e.a1==t.a1}(s,l)?r(s.r,s.p1,s.r,s.p0):r(s.r,s.p1,l.r,l.p0)+n(l.r,l.p1,l.a1-l.a0)+r(l.r,l.p1,s.r,s.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),a=o.call(e,i,r),u=s.call(e,i,r)-Da,c=l.call(e,i,r)-Da;return{r:a,a0:u,a1:c,p0:[a*Math.cos(u),a*Math.sin(u)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function n(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ra)+",1 "+t}function r(e,t,n,r){return"Q 0,0 "+r}var i=tn,a=nn,o=Ii,s=mi,l=vi;return e.radius=function(t){return arguments.length?(o=Ne(t),e):o},e.source=function(t){return arguments.length?(i=Ne(t),e):i},e.target=function(t){return arguments.length?(a=Ne(t),e):a},e.startAngle=function(t){return arguments.length?(s=Ne(t),e):s},e.endAngle=function(t){return arguments.length?(l=Ne(t),e):l},e},Qi.svg.diagonal=function(){function e(e,i){var a=t.call(this,e,i),o=n.call(this,e,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return"M"+(l=l.map(r))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=tn,n=nn,r=Vi;return e.source=function(n){return arguments.length?(t=Ne(n),e):t},e.target=function(t){return arguments.length?(n=Ne(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},Qi.svg.diagonal.radial=function(){var e=Qi.svg.diagonal(),t=Vi,n=e.projection;return e.projection=function(e){return arguments.length?n(function(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Da;return[n*Math.cos(r),n*Math.sin(r)]}}(t=e)):t},e},Qi.svg.symbol=function(){function e(e,r){return(Ns.get(t.call(this,e,r))||ji)(n.call(this,e,r))}var t=Hi,n=$i;return e.type=function(n){return arguments.length?(t=Ne(n),e):t},e.size=function(t){return arguments.length?(n=Ne(t),e):n},e};var Ns=Qi.map({circle:ji,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Ts)),n=t*Ts;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Ms),n=t*Ms/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Ms),n=t*Ms/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});Qi.svg.symbolTypes=Ns.keys();var Ms=Math.sqrt(3),Ts=Math.tan(30*Aa);ba.transition=function(e){for(var t,n,r=Rs||++As,i=Ui(e),a=[],o=Ss||{time:Date.now(),ease:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(t=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(n=u[c])&&Wi(n,c,i,r,o),t.push(n)}return Fi(a,i,r)},ba.interrupt=function(e){return this.each(null==e?Os:Pi(Ui(e)))};var Rs,Ss,Os=Pi(Ui()),Ds=[],As=0;Ds.call=ba.call,Ds.empty=ba.empty,Ds.node=ba.node,Ds.size=ba.size,Qi.transition=function(e,t){return e&&e.transition?Rs?e.transition(t):e:Qi.selection().transition(e)},Qi.transition.prototype=Ds,Ds.select=function(e){var t,n,r,i=this.id,a=this.namespace,o=[];e=D(e);for(var s=-1,l=this.length;++s<l;){o.push(t=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(r=u[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Wi(n,c,a,i,r[a][i]),t.push(n)):t.push(null)}return Fi(o,a,i)},Ds.selectAll=function(e){var t,n,r,i,a,o=this.id,s=this.namespace,l=[];e=A(e);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],h=-1,p=d.length;++h<p;)if(r=d[h]){a=r[s][o],n=e.call(r,r.__data__,h,u),l.push(t=[]);for(var f=-1,g=n.length;++f<g;)(i=n[f])&&Wi(i,f,s,o,a),t.push(i)}return Fi(l,s,o)},Ds.filter=function(e){var t,n,r=[];"function"!=typeof e&&(e=U(e));for(var i=0,a=this.length;i<a;i++){r.push(t=[]);for(var o,s=0,l=(o=this[i]).length;s<l;s++)(n=o[s])&&e.call(n,n.__data__,s,i)&&t.push(n)}return Fi(r,this.namespace,this.id)},Ds.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):W(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Ds.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n="transform"==e?or:Wn,r=Qi.ns.qualify(e);return Gi(this,"attr."+e,t,r.local?function(e){return null==e?function(){this.removeAttributeNS(r.space,r.local)}:(e+="",function(){var t,i=this.getAttributeNS(r.space,r.local);return i!==e&&(t=n(i,e),function(e){this.setAttributeNS(r.space,r.local,t(e))})})}:function(e){return null==e?function(){this.removeAttribute(r)}:(e+="",function(){var t,i=this.getAttribute(r);return i!==e&&(t=n(i,e),function(e){this.setAttribute(r,t(e))})})})},Ds.attrTween=function(e,t){var n=Qi.ns.qualify(e);return this.tween("attr."+e,n.local?function(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}:function(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i&&function(e){this.setAttribute(n,i(e))}})},Ds.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Gi(this,"style."+e,t,function(t){return null==t?function(){this.style.removeProperty(e)}:(t+="",function(){var r,i=o(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=Wn(i,t),function(t){this.style.setProperty(e,r(t),n)})})})},Ds.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(r,i){var a=t.call(this,r,i,o(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}})},Ds.text=function(e){return Gi(this,"text",e,zi)},Ds.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Ds.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=Qi.ease.apply(Qi,arguments)),W(this,function(r){r[n][t].ease=e}))},Ds.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:W(this,"function"==typeof e?function(r,i,a){r[n][t].delay=+e.call(r,r.__data__,i,a)}:(e=+e,function(r){r[n][t].delay=e}))},Ds.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:W(this,"function"==typeof e?function(r,i,a){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,a))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Ds.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Ss,a=Rs;try{Rs=n,W(this,function(t,i,a){Ss=t[r][n],e.call(t,t.__data__,i,a)})}finally{Ss=i,Rs=a}}else W(this,function(i){var a=i[r][n];(a.event||(a.event=Qi.dispatch("start","end","interrupt"))).on(e,t)});return this},Ds.transition=function(){for(var e,t,n,r=this.id,i=++As,a=this.namespace,o=[],s=0,l=this.length;s<l;s++){o.push(e=[]);for(var u,c=0,d=(u=this[s]).length;c<d;c++)(t=u[c])&&Wi(t,c,a,i,{time:(n=t[a][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return Fi(o,a,i)},Qi.svg.axis=function(){function e(e){e.each(function(){var e,u=Qi.select(this),c=this.__chart__||n,d=this.__chart__=n.copy(),h=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,p=null==t?d.tickFormat?d.tickFormat.apply(d,s):_:t,f=u.selectAll(".tick").data(h,d),g=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Ma),m=Qi.transition(f.exit()).style("opacity",Ma).remove(),v=Qi.transition(f.order()).style("opacity",1),b=Math.max(i,0)+o,y=Zr(d),E=u.selectAll(".domain").data([0]),x=(E.enter().append("path").attr("class","domain"),Qi.transition(E));g.append("line"),g.append("text");var C,w,N,M,T=g.select("line"),R=v.select("line"),S=f.select("text").text(p),O=g.select("text"),D=v.select("text"),A="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=qi,C="x",N="y",w="x2",M="y2",S.attr("dy",A<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+y[0]+","+A*a+"V0H"+y[1]+"V"+A*a)):(e=Yi,C="y",N="x",w="y2",M="x2",S.attr("dy",".32em").style("text-anchor",A<0?"end":"start"),x.attr("d","M"+A*a+","+y[0]+"H0V"+y[1]+"H"+A*a)),T.attr(M,A*i),O.attr(N,A*b),R.attr(w,0).attr(M,A*i),D.attr(C,0).attr(N,A*b),d.rangeBand){var k=d,L=k.rangeBand()/2;c=d=function(e){return k(e)+L}}else c.rangeBand?c=d:m.call(e,d,c);g.call(e,c,d),v.call(e,d,d)})}var t,n=Qi.scale.linear(),r=ks,i=6,a=6,o=3,s=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Ls?t+"":ks,e):r},e.ticks=function(){return arguments.length?(s=ta(arguments),e):s},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,a=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(){return arguments.length&&e},e};var ks="bottom",Ls={top:1,right:1,bottom:1,left:1};Qi.svg.brush=function(){function e(a){a.each(function(){var a=Qi.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=a.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=a.selectAll(".resize").data(g,_);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Is[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var l,d=Qi.transition(a),h=Qi.transition(o);u&&(l=Zr(u),h.attr("x",l[0]).attr("width",l[1]-l[0]),n(d)),c&&(l=Zr(c),h.attr("y",l[0]).attr("height",l[1]-l[0]),r(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+d[+/e$/.test(e)]+","+h[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",d[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function r(e){e.select(".extent").attr("y",h[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){var e=Qi.mouse(y),i=!1;b&&(e[0]+=b[0],e[1]+=b[1]),M||(Qi.event.altKey?(v||(v=[(d[0]+d[1])/2,(h[0]+h[1])/2]),S[0]=d[+(e[0]<v[0])],S[1]=h[+(e[1]<v[1])]):v=null),w&&g(e,u,0)&&(n(_),i=!0),N&&g(e,c,1)&&(r(_),i=!0),i&&(t(_),x({type:"brush",mode:M?"move":"resize"}))}function g(e,t,n){var r,i,o=Zr(t),l=o[0],u=o[1],c=S[n],g=n?h:d,m=g[1]-g[0];if(M&&(l-=c,u-=m+c),r=(n?f:p)?Math.max(l,Math.min(u,e[n])):e[n],M?i=(r+=c)+m:(v&&(c=Math.max(l,Math.min(u,2*v[n]-r))),c<r?(i=r,r=c):i=c),g[0]!=r||g[1]!=i)return n?s=null:a=null,g[0]=r,g[1]=i,!0}function m(){i(),_.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),Qi.select("body").style("cursor",null),O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),R(),x({type:"brushend"})}var v,b,y=this,E=Qi.select(Qi.event.target),x=l.of(y,arguments),_=Qi.select(y),C=E.datum(),w=!/^(n|s)$/.test(C)&&u,N=!/^(e|w)$/.test(C)&&c,M=E.classed("extent"),R=J(y),S=Qi.mouse(y),O=Qi.select(o(y)).on("keydown.brush",function(){32==Qi.event.keyCode&&(M||(v=null,S[0]-=d[1],S[1]-=h[1],M=2),T())}).on("keyup.brush",function(){32==Qi.event.keyCode&&2==M&&(S[0]+=d[1],S[1]+=h[1],M=0,T())});if(Qi.event.changedTouches?O.on("touchmove.brush",i).on("touchend.brush",m):O.on("mousemove.brush",i).on("mouseup.brush",m),_.interrupt().selectAll("*").interrupt(),M)S[0]=d[0]-S[0],S[1]=h[0]-S[1];else if(C){var D=+/w$/.test(C),A=+/^n/.test(C);b=[d[1-D]-S[0],h[1-A]-S[1]],S[0]=d[D],S[1]=h[A]}else Qi.event.altKey&&(v=S.slice());_.style("pointer-events","none").selectAll(".resize").style("display",null),Qi.select("body").style("cursor",E.style("cursor")),x({type:"brushstart"}),i()}var a,s,l=S(e,"brushstart","brush","brushend"),u=null,c=null,d=[0,0],h=[0,0],p=!0,f=!0,g=Vs[0];return e.event=function(e){e.each(function(){var e=l.of(this,arguments),t={x:d,y:h,i:a,j:s},n=this.__chart__||t;this.__chart__=t,Rs?Qi.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,d=n.x,h=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=qn(d,t.x),r=qn(h,t.y);return a=s=null,function(i){d=t.x=n(i),h=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(u=t,g=Vs[!u<<1|!c],e):u},e.y=function(t){return arguments.length?(c=t,g=Vs[!u<<1|!c],e):c},e.clamp=function(t){return arguments.length?(u&&c?(p=!!t[0],f=!!t[1]):u?p=!!t:c&&(f=!!t),e):u&&c?[p,f]:u?p:c?f:null},e.extent=function(t){var n,r,i,o,l;return arguments.length?(u&&(n=t[0],r=t[1],c&&(n=n[0],r=r[0]),a=[n,r],u.invert&&(n=u(n),r=u(r)),r<n&&(l=n,n=r,r=l),n==d[0]&&r==d[1]||(d=[n,r])),c&&(i=t[0],o=t[1],u&&(i=i[1],o=o[1]),s=[i,o],c.invert&&(i=c(i),o=c(o)),o<i&&(l=i,i=o,o=l),i==h[0]&&o==h[1]||(h=[i,o])),e):(u&&(a?(n=a[0],r=a[1]):(n=d[0],r=d[1],u.invert&&(n=u.invert(n),r=u.invert(r)),r<n&&(l=n,n=r,r=l))),c&&(s?(i=s[0],o=s[1]):(i=h[0],o=h[1],c.invert&&(i=c.invert(i),o=c.invert(o)),o<i&&(l=i,i=o,o=l))),u&&c?[[n,i],[r,o]]:u?[n,r]:c&&[i,o])},e.clear=function(){return e.empty()||(d=[0,0],h=[0,0],a=s=null),e},e.empty=function(){return!!u&&d[0]==d[1]||!!c&&h[0]==h[1]},Qi.rebind(e,l,"on")};var Is={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],$s=to.format=so.timeFormat,Hs=$s.utc,js=Hs("%Y-%m-%dT%H:%M:%S.%LZ");$s.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Bi:js,Bi.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Bi.toString=js.toString,to.second=Le(function(e){return new no(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),to.seconds=to.second.range,to.seconds.utc=to.second.utc.range,to.minute=Le(function(e){return new no(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),to.minutes=to.minute.range,to.minutes.utc=to.minute.utc.range,to.hour=Le(function(e){var t=e.getTimezoneOffset()/60;return new no(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),to.hours=to.hour.range,to.hours.utc=to.hour.utc.range,to.month=Le(function(e){return(e=to.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),to.months=to.month.range,to.months.utc=to.month.utc.range;var Ps=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Fs=[[to.second,1],[to.second,5],[to.second,15],[to.second,30],[to.minute,1],[to.minute,5],[to.minute,15],[to.minute,30],[to.hour,1],[to.hour,3],[to.hour,6],[to.hour,12],[to.day,1],[to.day,2],[to.week,1],[to.month,1],[to.month,3],[to.year,1]],Gs=$s.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",xt]]),zs={range:function(e,t,n){return Qi.range(Math.ceil(e/n)*n,+t,n).map(Ji)},floor:_,ceil:_};Fs.year=to.year,to.scale=function(){return Zi(Qi.scale.linear(),Fs,Gs)};var Us=Fs.map(function(e){return[e[0].utc,e[1]]}),Ws=Hs.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",xt]]);Us.year=to.year.utc,to.scale.utc=function(){return Zi(Qi.scale.linear(),Us,Ws)},Qi.text=Me(function(e){return e.responseText}),Qi.json=function(e,t){return Te(e,"application/json",Xi,t)},Qi.html=function(e,t){return Te(e,"text/html",Ki,t)},Qi.xml=Me(function(e){return e.responseXML}),this.d3=Qi,void 0!==(i="function"==typeof(r=Qi)?r.call(t,n,t,e):r)&&(e.exports=i)}()},function(e,t,n){"use strict";function r(e,t,n,r=0,i=0){const a=(t-r-10)/2,o=(n-i-3)/2;e.fillStyle="#c1c1c1",e.fillRect(a,o,10,3)}t.c=r,t.b=function(e,t,n){const r=t.isMissing(n.v,n.dataIndex);return e.classList.toggle("lu-missing",r),r},t.a=function(e,t,n,i,a=0,o=0){const s=t.isMissing(n.v,n.dataIndex);return s&&r(e,t.getWidth(),i,a,o),s}},function(e,t,n){"use strict";function r(e){return void 0===e||null==e||"number"==typeof e&&isNaN(e)||""===e||"NA"===e||"string"==typeof e&&"na"===e.toLowerCase()||e instanceof Array&&e.every(e=>r(e))}t.b=r,t.c=function(e){return null===e||void 0===e||isNaN(e)};t.a=-1},function(e,t,n){"use strict";function r(e){if(27===e.which&&a.visiblePopups.length>0){const e=a.visiblePopups[a.visiblePopups.length-1];a.removePopup(e)}}t.b=function(e){return(t,n)=>{const r=t[e],i=n[e];return r.toLowerCase().localeCompare(i.toLowerCase())}};var i=n(59);class a{constructor(e,t){this.attachment=e,this.title=t}static removePopup(e){const t=a.visiblePopups.indexOf(e);t>-1&&e&&(a.visiblePopups.splice(t,1),e.remove()),0===a.visiblePopups.length&&e.ownerDocument.removeEventListener("keyup",r)}static removeAllPopups(){0!==a.visiblePopups.length&&a.visiblePopups.splice(0,a.visiblePopups.length).forEach(e=>{e.ownerDocument.removeEventListener("keyup",r),e.remove()})}static registerPopup(e,t,n,i=!0){n&&a.removeAllPopups(),0===a.visiblePopups.length&&e.ownerDocument.addEventListener("keyup",r);const o=()=>{a.visiblePopups[a.visiblePopups.length-1]===e&&(e.removeEventListener("mouseleave",o),t.destroy(),a.removePopup(e))};i&&e.addEventListener("mouseleave",o),a.visiblePopups.push(e)}makeMenuPopup(e){const t=this.attachment.ownerDocument.body;t.insertAdjacentHTML("beforeend",`<div class="lu-popup2 lu-popup-menu">${e}</div>`);const n=t.lastElementChild,r=new i.a(this.attachment,n,{placement:"bottom-start",removeOnDestroy:!0});return a.registerPopup(n,r,!0),this.hidePopupOnClickOutside(n),n}makePopup(e,t=!0){const n=this.attachment.ownerDocument.body;n.insertAdjacentHTML("beforeend",`<div class="lu-popup2">${this.dialogForm(e)}</div>`);const r=n.lastElementChild,o=r.querySelector("input[autofocus]");o&&o.focus();const s=new i.a(this.attachment,r,{placement:"bottom-start",removeOnDestroy:!0});return a.registerPopup(r,s,!1,t),this.hidePopupOnClickOutside(r),r}makeChoosePopup(e){const t=this.attachment.ownerDocument.body;t.insertAdjacentHTML("beforeend",`<div class="lu-popup2 chooser">${this.basicDialog(e)}</div>`);const n=t.lastElementChild,r=new i.a(this.attachment,n,{placement:"bottom-start",removeOnDestroy:!0});return a.registerPopup(n,r,!1),this.hidePopupOnClickOutside(n),n}dialogForm(e,t=!0){return`<span style="font-weight: bold" class="lu-popup-title">${this.title}</span>\n            <form onsubmit="return false">\n                ${e}\n                ${t?'<button type = "submit" class="ok fa fa-check" title="ok"></button><button type = "reset" class="cancel fa fa-times" title="cancel"></button><button type = "button" class="reset fa fa-undo" title="reset"></button></form>':""}\n            </form>`}onButton(e,t){e.querySelector(".cancel").addEventListener("click",n=>{t.cancel(),a.removePopup(e),n.stopPropagation(),n.preventDefault()}),e.querySelector(".reset").addEventListener("click",e=>{t.reset(),e.stopPropagation(),e.preventDefault()}),e.querySelector(".ok").addEventListener("click",e=>{t.submit()&&a.removeAllPopups(),e.stopPropagation(),e.preventDefault()})}basicDialog(e){return`<span style="font-weight: bold" class="lu-popup-title">${this.title}</span>\n            <form onsubmit="return false">\n                ${e}\n            </form>`}hidePopupOnClickOutside(e){const t=this.attachment.ownerDocument.body;e.addEventListener("click",e=>{e.stopPropagation()});const n=()=>{a.removeAllPopups(),t.removeEventListener("click",n)};t.addEventListener("click",n)}}a.visiblePopups=[],t.a=a},function(e,t,n){"use strict";var r=n(1);class i extends r.a{constructor(e,t){super(e,t),this.accessor=t.accessor||(()=>null),this.loaded=!0!==t.lazyLoaded}getLabel(e,t){return this.isLoaded()?String(this.getValue(e,t)):""}getRaw(e,t){return this.isLoaded()?this.accessor(e,t,this.id,this.desc,this.findMyRanker()):null}getValue(e,t){return this.getRaw(e,t)}isLoaded(){return this.loaded}setLoaded(e){this.loaded!==e&&this.fire([r.a.EVENT_DIRTY_HEADER,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],this.loaded,this.loaded=e)}getRendererType(){return this.isLoaded()?super.getRendererType():i.RENDERER_LOADING}dump(e){const t=super.dump(e);return t.loaded=this.loaded,this.loaded||t.rendererType!==i.RENDERER_LOADING||delete t.rendererType,t}restore(e,t){void 0!==e.loaded&&(this.loaded=e.loaded),super.restore(e,t)}}t.a=i,i.RENDERER_LOADING="loading"},function(e,t,n){"use strict";function r(e="linear"){switch(e){case"log":return s.scale.log().clamp(!0);case"sqrt":return s.scale.sqrt().clamp(!0);case"pow1.1":return s.scale.pow().exponent(1.1).clamp(!0);case"pow2":return s.scale.pow().exponent(2).clamp(!0);case"pow3":return s.scale.pow().exponent(3).clamp(!0);default:return s.scale.linear().clamp(!0)}}function i(e,t){return e.length===t.length&&e.every((e,n)=>Object(c.t)(e,t[n],1e-4))}function a(e,t){return"log"===t&&0===e[0]&&(e[0]=1e-7),e}function o(e){if("script"===e.type){const t=new f;return t.restore(e),t}const t=new p;return t.restore(e),t}t.c=o,t.e=function(e){return"function"==typeof e.getMapping};var s=n(3),l=(n.n(s),n(1)),u=n(7),c=n(0),d=n(5),h=n(2);class p{constructor(e=[0,1],t="linear",n=[0,1]){this.type=t,this.s=r(t).domain(a(e,this.type)).range(n)}get domain(){return this.s.domain()}set domain(e){this.s.domain(a(e,this.type))}get range(){return this.s.range()}set range(e){this.s.range(e)}getRange(e){return[e(this.invert(0)),e(this.invert(1))]}apply(e){return this.s(e)}invert(e){return this.s.invert(e)}get scaleType(){return this.type}dump(){return{type:this.type,domain:this.domain,range:this.range}}eq(e){if(!(e instanceof p))return!1;const t=e;return t.type===this.type&&i(this.domain,t.domain)&&i(this.range,t.range)}restore(e){this.type=e.type,this.s=r(e.type).domain(e.domain).range(e.range)}clone(){return new p(this.domain,this.type,this.range)}}t.a=p;class f{constructor(e=[0,1],t="return this.linear(value,this.value_min,this.value_max);"){this.domain=e,this._code=t,this.f=new Function("value",t)}get code(){return this._code}set code(e){this._code!==e&&(this._code=e,this.f=new Function("value",e))}getRange(){return["?","?"]}apply(e){const t=this.domain[0],n=this.domain[this.domain.length-1],r=this.f.call({value_min:t,value_max:n,value_range:n-t,value_domain:this.domain.slice(),linear:(e,t,n)=>(e-t)/(n-t)},e);return"number"==typeof r?Math.max(Math.min(r,1),0):NaN}dump(){return{type:"script",code:this.code}}eq(e){if(!(e instanceof f))return!1;return e.code===this.code}restore(e){this.code=e.code}clone(){return new f(this.domain,this.code)}}t.b=f;class g extends u.a{constructor(e,t){super(e,t),this.missingValue=NaN,this.currentFilter=Object(h.l)(),this.numberFormat=Object(s.format)(".2f"),this.currentStratifyThresholds=[],this.groupSortMethod=h.a.median,t.map?this.mapping=o(t.map):t.domain&&(this.mapping=new p(t.domain,"linear",t.range||[0,1])),this.original=this.mapping.clone(),t.numberFormat&&(this.numberFormat=Object(s.format)(t.numberFormat)),void 0!==t.missingValue&&(this.missingValue=t.missingValue),this.setGroupRenderer("boxplot")}dump(e){const t=super.dump(e);return t.map=this.mapping.dump(),t.filter=Object(h.j)(this.currentFilter,Object(h.l)())?null:this.currentFilter,t.missingValue=this.missingValue,t.groupSortMethod=this.groupSortMethod,this.currentStratifyThresholds&&(t.stratifyThreshholds=this.currentStratifyThresholds),t}restore(e,t){super.restore(e,t),e.map?this.mapping=o(e.map):e.domain&&(this.mapping=new p(e.domain,"linear",e.range||[0,1])),e.groupSortMethod&&(this.groupSortMethod=e.groupSortMethod),e.filter&&(this.currentFilter=Object(h.n)(e.filter)),e.stratifyThreshholds&&(this.currentStratifyThresholds=e.stratifyThresholds),void 0!==e.missingValue&&(this.missingValue=e.missingValue),e.numberFormat&&(this.numberFormat=Object(s.format)(e.numberFormat))}createEventList(){return super.createEventList().concat([g.EVENT_MAPPING_CHANGED])}getLabel(e,t){if(this.desc.numberFormat){const n=this.getRawValue(e,t);return isNaN(n)?"NaN":isFinite(n)?this.numberFormat(n):n.toString()}const n=super.getValue(e,t);return"number"==typeof n?this.numberFormat(+n):String(n)}getRange(){return this.mapping.getRange(this.numberFormat)}getRawValue(e,t,n=this.missingValue){const r=super.getValue(e,t);return Object(d.b)(r)?n:+r}isMissing(e,t){return Object(d.b)(super.getValue(e,t))}getValue(e,t){const n=this.getRawValue(e,t);return isNaN(n)?n:this.mapping.apply(n)}getNumber(e,t){return this.getValue(e,t)}getRawNumber(e,t,n=this.missingValue){return this.getRawValue(e,t,n)}compare(e,t,n,r){return Object(h.m)(this.getNumber(e,n),this.getNumber(t,r),this.isMissing(e,n),this.isMissing(t,r))}groupCompare(e,t){return Object(h.g)(e.rows,t.rows,this,this.groupSortMethod)}getOriginalMapping(){return this.original.clone()}getMapping(){return this.mapping.clone()}setMapping(e){this.mapping.eq(e)||this.fire([g.EVENT_MAPPING_CHANGED,l.a.EVENT_DIRTY_VALUES,l.a.EVENT_DIRTY],this.mapping.clone(),this.mapping=e)}isFiltered(){return this.currentFilter.filterMissing||isFinite(this.currentFilter.min)||isFinite(this.currentFilter.max)}get filterMin(){return this.currentFilter.min}get filterMax(){return this.currentFilter.max}get filterMissing(){return this.currentFilter.filterMissing}getFilter(){return{min:this.currentFilter.min,max:this.currentFilter.max,filterMissing:this.currentFilter.filterMissing}}set filterMin(e){const t=this.getFilter();this.currentFilter.min=Object(d.c)(e)?-1/0:e,this.fire([l.a.EVENT_FILTER_CHANGED,l.a.EVENT_DIRTY_VALUES,l.a.EVENT_DIRTY],t,this.getFilter())}set filterMax(e){const t=this.getFilter();this.currentFilter.max=Object(d.c)(e)?1/0:e,this.fire([l.a.EVENT_FILTER_CHANGED,l.a.EVENT_DIRTY_VALUES,l.a.EVENT_DIRTY],t,this.getFilter())}set filterMissing(e){const t=this.getFilter();this.currentFilter.filterMissing=e,this.fire([l.a.EVENT_FILTER_CHANGED,l.a.EVENT_DIRTY_VALUES,l.a.EVENT_DIRTY],t,this.getFilter())}setFilter(e={min:-1/0,max:1/0,filterMissing:!1}){if(Object(h.j)(e,this.currentFilter))return;const t=this.getFilter();this.currentFilter.min=Object(d.c)(e.min)?-1/0:e.min,this.currentFilter.max=Object(d.c)(e.max)?1/0:e.max,this.currentFilter.filterMissing=e.filterMissing,this.fire([l.a.EVENT_FILTER_CHANGED,l.a.EVENT_DIRTY_VALUES,l.a.EVENT_DIRTY],t,this.getFilter())}filter(e,t){if(!this.isFiltered())return!0;const n=this.getRawNumber(e,t,NaN);if(isNaN(n))return!this.filterMissing;const r=+n;return!(isFinite(this.currentFilter.min)&&r<this.currentFilter.min||isFinite(this.currentFilter.max)&&r>this.currentFilter.max)}getStratifyThresholds(){return this.currentStratifyThresholds.slice()}setStratifyThresholds(e){if(Object(c.j)(this.currentStratifyThresholds,e))return;const t=this.getStratifyThresholds();this.currentStratifyThresholds=e.slice(),this.fire([l.a.EVENT_GROUPING_CHANGED,l.a.EVENT_DIRTY_VALUES,l.a.EVENT_DIRTY],t,e)}group(e,t){if(0===this.currentStratifyThresholds.length)return super.group(e,t);const n=this.getRawNumber(e,t);switch(this.currentStratifyThresholds.findIndex(e=>e<=n)){case-1:return{name:`${this.label} > ${this.currentStratifyThresholds[this.currentStratifyThresholds.length-1]}`,color:"gray"};case 0:return{name:`${this.label} <= ${this.currentStratifyThresholds[0]}`,color:"gray"};default:return{name:`${this.currentStratifyThresholds[t-1]} <= ${this.label} <= ${this.currentStratifyThresholds[t]}`,color:"gray"}}}getSortMethod(){return this.groupSortMethod}setSortMethod(e){this.groupSortMethod!==e&&(this.fire([l.a.EVENT_SORTMETHOD_CHANGED],this.groupSortMethod,this.groupSortMethod=e),this.isGroupSortedByMe().asc||this.toggleMyGroupSorting())}}t.d=g,g.EVENT_MAPPING_CHANGED="mappingChanged"},function(e,t,n){"use strict";var r=n(1),i=n(7);class a extends i.a{constructor(e,t){super(e,t),this.currentFilter=null,this._alignment="left",this.setWidthImpl(200),this._alignment=t.alignment||"left"}get alignment(){return this._alignment}getValue(e,t){const n=super.getValue(e,t);return void 0===n||null==n?"":String(n)}dump(e){const t=super.dump(e);return this.currentFilter instanceof RegExp?t.filter=`REGEX:${this.currentFilter.source}`:t.filter=this.currentFilter,t.alignment=this.alignment,t}restore(e,t){super.restore(e,t),e.filter&&"REGEX:"===e.filter.slice(0,6)?this.currentFilter=new RegExp(e.filter.slice(6)):this.currentFilter=e.filter||null,this._alignment=e.alignment||this._alignment}isFiltered(){return null!=this.currentFilter}filter(e,t){if(!this.isFiltered())return!0;const n=this.getLabel(e,t),r=this.currentFilter;return r===a.FILTER_MISSING?null!=n&&""!==n.trim():"string"==typeof r&&r.length>0?""!==n&&n.toLowerCase().indexOf(r.toLowerCase())>=0:!(r instanceof RegExp)||""!==n&&r.test(n)}getFilter(){return this.currentFilter}setFilter(e){""===e&&(e=null),this.currentFilter!==e&&this.fire([r.a.EVENT_FILTER_CHANGED,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],this.currentFilter,this.currentFilter=e)}compare(e,t,n,r){const i=this.getValue(e,n),a=this.getValue(t,r);return""===i?""===a?0:1:""===a?-1:i.toLowerCase().localeCompare(a.toLowerCase())}}t.a=a,a.FILTER_MISSING="__FILTER_MISSING"},function(e,t,n){"use strict";t.b=function(e){return e instanceof i.a&&"function"==typeof e.getCategories||!(e instanceof i.a)&&null!=e.type.match(/(categorical|ordinal|hierarchy)/)};var r=n(3),i=(n.n(r),n(1)),a=n(7),o=n(9),s=n(5);class l extends a.a{constructor(e,t){super(e,t),this.colors=r.scale.category10(),this.catLabels=new Map,this.currentFilter=null,this.separator=";",this.separator=t.separator||this.separator,this.initCategories(t)}initCategories(e){if(!e.categories)return;const t=[],n=this.colors.range().slice(),r=new Map;e.categories.forEach((e,i)=>{"string"!=typeof e?(t.push(e.name||e.value),e.label&&r.set(e.name,e.label),e.color&&(n[i]=e.color)):t.push(e)}),this.catLabels=r,this.colors.domain(t).range(n)}get categories(){return this.colors.domain()}get categoryColors(){return this.colors.range()}get categoryLabels(){return null===this.catLabels||0===this.catLabels.size?this.categories:this.categories.map(e=>this.catLabels.has(e)?this.catLabels.get(e):e)}getLabel(e,t){return null===this.catLabels||0===this.catLabels.size?o.a.prototype.getValue.call(this,e,t):this.getLabels(e,t).join(this.separator)}getFirstLabel(e,t){const n=this.getLabels(e,t);return n.length>0?n[0]:null}getLabels(e,t){const n=o.a.prototype.getValue.call(this,e,t);return(e=>null===this.catLabels||0===this.catLabels.size?e:e.map(e=>this.catLabels.has(e)?this.catLabels.get(e):e))(n?n.split(this.separator):[])}getValue(e,t){const n=this.getValues(e,t);return n.length>0?n[0]:null}getValues(e,t){const n=o.a.prototype.getValue.call(this,e,t);return n?n.split(this.separator):[]}isMissing(e,t){const n=this.getValues(e,t);return!n||0===n.length}getCategories(e,t){return this.getValues(e,t)}getColor(e,t){const n=this.getValue(e,t);return null===n||""===n?null:this.colors(n)}getColors(e,t){return this.getCategories(e,t).map(this.colors)}dump(e){const t=super.dump(e);return t.filter=this.currentFilter,t.colors={domain:this.colors.domain(),range:this.colors.range(),separator:this.separator},null!==this.catLabels&&0!==this.catLabels.size&&(t.labels=Array.from(this.catLabels.entries())),t}restore(e,t){if(super.restore(e,t),"filter"in e){const t=e.filter;"string"==typeof t||Array.isArray(t)?this.currentFilter={filter:t,filterMissing:!1}:this.currentFilter=t}else this.currentFilter=null;e.colors&&this.colors.domain(e.colors.domain).range(e.colors.range),Array.isArray(e.labels)&&(this.catLabels=new Map,e.labels.forEach(e=>this.catLabels.set(e.key,e.value))),this.separator=e.separator||this.separator}isFiltered(){return null!=this.currentFilter}static filter(e,t){if(!e)return!0;if(null==t&&e.filterMissing)return!1;const n=e.filter;return Array.isArray(n)?n.indexOf(t)>=0:"string"==typeof n&&n.length>0?null!=t&&t.toLowerCase().indexOf(n.toLowerCase())>=0:!(n instanceof RegExp)||null!=t&&n.test(t)}filter(e,t){if(!this.isFiltered())return!0;const n=this.getCategories(e,t);return(!this.currentFilter.filterMissing||0!==n.length)&&n.every(e=>l.filter(this.currentFilter,e))}getFilter(){return this.currentFilter}setFilter(e){(function(e,t){return e===t||null!==e&&null!==t&&e.filterMissing===t.filterMissing&&typeof e.filter==typeof t.filter&&(Array.isArray(e.filter)?function(e,t){const n=null!=e?e.length:0,r=null!=t?t.length:0;return n===r&&(0===n||e.every((e,n)=>e===t[n]))}(e.filter,t.filter):String(e.filter)===String(t.filter))})(this.currentFilter,e)||this.fire([i.a.EVENT_FILTER_CHANGED,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],this.currentFilter,this.currentFilter=e)}compare(e,t,n,r){const i=this.getValues(e,n),a=this.getValues(t,r);if(0===i.length)return 0===a.length?0:s.a;if(0===a.length)return-1*s.a;for(let e=0;e<Math.min(i.length,a.length);++e){const t=i[e].localeCompare(a[e]);if(0!==t)return t}return i.length-a.length}group(e,t){const n=this.getValue(e,t);if(!n)return super.group(e,t);return{name:n,color:this.getColor(e,t)}}getGroupRenderer(){const e=super.getGroupRenderer();return e===this.desc.type&&this.isGroupedBy()>=0?"catcolorshifted":e}}t.a=l},function(e,t,n){"use strict";t.b=function(e){return"function"==typeof e.getCollapsed};var r=n(1),i=n(2),a=n(7),o=n(0);class s extends r.a{constructor(e,t){super(e,t),this._children=[]}assignNewId(e){super.assignNewId(e),this._children.forEach(t=>t.assignNewId(e))}get children(){return this._children.slice()}get length(){return this._children.length}flatten(e,t,n=0,i=0){let a=0;return(0===n||n<=r.a.FLAT_ALL_COLUMNS)&&(a=this.getWidth(),e.push({col:this,offset:t,width:a}),0===n)?a:(this._children.forEach(a=>{(!a.isHidden()||n<=r.a.FLAT_ALL_COLUMNS)&&a.flatten(e,t,n-1,i)}),a)}dump(e){const t=super.dump(e);return t.children=this._children.map(t=>t.dump(e)),t}restore(e,t){e.children.map(e=>{const n=t(e);n&&this.push(n)}),super.restore(e,t)}insert(e,t){return!Object(i.h)(e)&&this.canJustAddNumbers?null:(this._children.splice(t,0,e),this.insertImpl(e,t))}move(e,t){if(e.parent!==this)return null;const n=this._children.indexOf(e);return t===n?e:(this._children.splice(n,1),this._children.splice(n<t?t-1:t,0,e),this.moveImpl(e,t,n))}insertImpl(e,t){return e.parent=this,this.forward(e,...Object(o.u)(".combine",r.a.EVENT_DIRTY_HEADER,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY,r.a.EVENT_FILTER_CHANGED)),this.fire([r.a.EVENT_ADD_COLUMN,r.a.EVENT_DIRTY_HEADER,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],e,t),e}moveImpl(e,t,n){return this.fire([r.a.EVENT_MOVE_COLUMN,r.a.EVENT_DIRTY_HEADER,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],e,t,n),e}push(e){return this.insert(e,this._children.length)}at(e){return this._children[e]}indexOf(e){return this._children.indexOf(e)}insertAfter(e,t){const n=this.indexOf(t);return n<0?null:this.insert(e,n+1)}moveAfter(e,t){const n=this.indexOf(t);return n<0?null:this.move(e,n+1)}remove(e){const t=this._children.indexOf(e);return!(t<0)&&(this._children.splice(t,1),this.removeImpl(e))}removeImpl(e){return e.parent=null,this.unforward(e,...Object(o.u)(".combine",r.a.EVENT_DIRTY_HEADER,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY,r.a.EVENT_FILTER_CHANGED)),this.fire([r.a.EVENT_REMOVE_COLUMN,r.a.EVENT_DIRTY_HEADER,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],e),!0}getColor(e,t){return this.color}isFiltered(){return this._children.some(e=>e.isFiltered())}filter(e,t){return this._children.every(n=>n.filter(e,t))}isLoaded(){return this._children.every(e=>!(e instanceof a.a||e instanceof s)||e.isLoaded())}toSortingDesc(e){return this._children.map(t=>t.toSortingDesc(e))}get canJustAddNumbers(){return!1}}t.a=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defineColumn=function(e,t={}){class n extends r.a{constructor(e,t){super(e,t),"function"==typeof this.init&&this.init.apply(this,[].slice.apply(arguments))}init(){}}return n.prototype.toString=(()=>e),n.prototype=Object.assign(n.prototype,t),n},t.models=function(){return{number:i.d,date:N.a,image:y.a,numbers:x.a,string:a.a,link:y.a,stack:o.b,rank:p.b,boolean:l.a,booleans:E.a,categorical:u.a,ordinal:m.a,actions:b.b,annotate:s.a,selection:f.b,max:d.b,min:c.b,mean:h.b,script:g.b,nested:v.b,boxplot:_.a,aggregate:C.b,hierarchy:w.a,imposition:M.b}};var r=n(7),i=n(8),a=n(9),o=n(19),s=n(46),l=n(47),u=n(10),c=n(48),d=n(49),h=n(50),p=n(25),f=n(20),g=n(27),m=n(51),v=n(35),b=n(36),y=n(28),E=n(76),x=n(52),_=n(26),C=n(29),w=n(37),N=n(77),M=n(30),T=n(1);n.d(t,"Column",function(){return T.a});var R=n(11);n.d(t,"CompositeColumn",function(){return R.a}),n.d(t,"createMappingFunction",function(){return i.c}),n.d(t,"ScaleMappingFunction",function(){return i.a}),n.d(t,"ScriptMappingFunction",function(){return i.b});var S=n(2);n.d(t,"isNumberColumn",function(){return S.h}),n.d(t,"isCategoricalColumn",function(){return u.b});var O=n(13);n.d(t,"Ranking",function(){return O.a}),n.d(t,"isSupportType",function(){return O.b}),n.d(t,"createMinDesc",function(){return c.a}),n.d(t,"createMaxDesc",function(){return d.a}),n.d(t,"createMeanDesc",function(){return h.a}),n.d(t,"createRankDesc",function(){return p.a}),n.d(t,"createSelectionDesc",function(){return f.a}),n.d(t,"createScriptDesc",function(){return g.a}),n.d(t,"createNestedDesc",function(){return v.a}),n.d(t,"createStackDesc",function(){return o.a}),n.d(t,"createActionDesc",function(){return b.a}),n.d(t,"createAggregateDesc",function(){return C.a}),n.d(t,"createImpositionDesc",function(){return M.a})},function(e,t,n){"use strict";function r(e){return["rank","selection","actions","aggregate"].indexOf(e.type)>=0}t.b=r;var i=n(1),a=n(9),o=n(24),s=n(0);class l extends s.a{constructor(e,t=1,n=1){super(),this.id=e,this.maxSortCriteria=t,this.maxGroupColumns=n,this.sortCriteria=[],this.groupSortCriteria=[],this.groupColumns=[],this.columns=[],this.comparator=((e,t,n,r)=>{if(0===this.sortCriteria.length)return 0;for(const i of this.sortCriteria){const a=i.col.compare(e,t,n,r);if(0!==a)return i.asc?a:-a}return n-r}),this.groupComparator=((e,t)=>{if(0===this.groupSortCriteria.length)return e.name.toLowerCase().localeCompare(t.name.toLowerCase());for(const n of this.groupSortCriteria){const r=n.col.groupCompare(e,t);if(0!==r)return n.asc?r:-r}return e.name.localeCompare(t.name)}),this.grouper=((e,t)=>{const n=this.groupColumns;switch(n.length){case 0:return o.a;case 1:return n[0].group(e,t);default:const r=n.map(n=>n.group(e,t));return Object(o.b)(r)}}),this.dirtyOrder=(()=>{this.fire([l.EVENT_DIRTY_ORDER,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],this.getSortCriteria())}),this.groups=[Object.assign({order:[]},o.a)],this.id=Object(i.b)(e)}createEventList(){return super.createEventList().concat([l.EVENT_WIDTH_CHANGED,l.EVENT_FILTER_CHANGED,l.EVENT_LABEL_CHANGED,l.EVENT_GROUPS_CHANGED,l.EVENT_ADD_COLUMN,l.EVENT_REMOVE_COLUMN,l.EVENT_GROUP_CRITERIA_CHANGED,l.EVENT_MOVE_COLUMN,l.EVENT_DIRTY,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES,l.EVENT_GROUP_SORT_CRITERIA_CHANGED,l.EVENT_SORT_CRITERIA_CHANGED,l.EVENT_SORT_CRITERIAS_CHANGED,l.EVENT_DIRTY_ORDER,l.EVENT_ORDER_CHANGED])}assignNewId(e){this.id=Object(i.b)(e()),this.columns.forEach(t=>t.assignNewId(e))}setOrder(e){this.setGroups([Object.assign({order:e},o.a)])}setGroups(e){const t=this.getOrder(),n=this.groups;this.groups=e,this.fire([l.EVENT_ORDER_CHANGED,l.EVENT_GROUPS_CHANGED,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],t,this.getOrder(),n,e)}getOrder(){switch(this.groups.length){case 0:return[];case 1:return this.groups[0].order;default:return[].concat(...this.groups.map(e=>e.order))}}getGroups(){return this.groups.slice()}dump(e){const t={};return t.columns=this.columns.map(t=>t.dump(e)),t.sortCriterias=this.sortCriteria.map(e=>({asc:e.asc,sortBy:e.col.id})),t.groupColumns=this.groupColumns.map(e=>e.id),t}restore(e,t){if(this.clear(),e.columns.map(e=>{const n=t(e);n&&this.push(n)}),e.sortColumn&&e.sortColumn.sortBy){const t=this.columns.filter(t=>t.id===e.sortColumn.sortBy);this.sortBy(0===t.length?null:t[0],e.sortColumn.asc)}if(e.groupColumns){const t=e.groupColumns.map(e=>this.columns.find(t=>t.id===e));this.groupBy(t)}const n=e=>e.map(e=>({asc:e.asc,col:this.columns.find(t=>t.id===e.sortBy)||null})).filter(e=>e.col);e.sortCriterias&&this.setSortCriteria(n(e.sortCriterias)),e.groupSortCriterias&&this.setGroupSortCriteria(n(e.groupSortCriterias))}flatten(e,t,n=0,r=0){let a=t;return(n>0||n<=i.a.FLAT_ALL_COLUMNS)&&this.columns.forEach(t=>{(!t.isHidden()||n<=i.a.FLAT_ALL_COLUMNS)&&(a+=t.flatten(e,a,n-1,r)+r)}),a-t}get primarySortCriteria(){return 0===this.sortCriteria.length?null:this.sortCriteria[0]}getSortCriteria(){const e=this.primarySortCriteria;return null===e?null:Object.assign({},e)}getSortCriterias(){return this.sortCriteria.map(e=>Object.assign({},e))}getGroupSortCriteria(){return this.groupSortCriteria.map(e=>Object.assign({},e))}toggleSorting(e){const t=this.primarySortCriteria;return t&&t.col===e?this.sortBy(e,!t.asc):this.sortBy(e)}toggleGrouping(e){const t=this.groupColumns.indexOf(e);if(t>=0){const e=this.groupColumns.slice();return e.splice(t,1),this.groupBy(e)}return this.groupBy([e].concat(this.groupColumns))}getGroupCriteria(){return this.groupColumns.slice()}setGroupCriteria(e){return this.groupBy(e)}sortBy(e,t=!1){if(null!==e&&e.findMyRanker()!==this)return!1;const n=this.primarySortCriteria;if(null===e&&null===n||n&&n.col===e&&n.asc===t)return!0;const r=this.getSortCriteria();if(e){const t=this.sortCriteria.findIndex(t=>t.col===e);if(t>=0)this.sortCriteria.splice(t,1);else if(this.sortCriteria.length===this.maxSortCriteria){const e=this.sortCriteria.pop();e.col.on(`${i.a.EVENT_DIRTY_VALUES}.order`,null),e.col.on(`${i.a.EVENT_SORTMETHOD_CHANGED}.order`,null)}}else this.sortCriteria.forEach(e=>{e.col.on(`${i.a.EVENT_DIRTY_VALUES}.order`,null),e.col.on(`${i.a.EVENT_SORTMETHOD_CHANGED}.order`,null)}),this.sortCriteria.splice(0,this.sortCriteria.length);return e&&(this.sortCriteria.unshift({col:e,asc:t}),e.on(`${i.a.EVENT_DIRTY_VALUES}.order`,this.dirtyOrder),e.on(`${i.a.EVENT_SORTMETHOD_CHANGED}.order`,this.dirtyOrder)),this.triggerResort(r),!0}groupBy(e){let t=Array.isArray(e)?e:e instanceof i.a?[e]:[];if(t.length>this.maxGroupColumns&&(t=t.slice(0,this.maxGroupColumns)),Object(s.j)(this.groupColumns,t))return!0;this.groupColumns.forEach(e=>{e.on(Object(s.u)(".group",i.a.EVENT_DIRTY_VALUES,i.a.EVENT_SORTMETHOD_CHANGED,i.a.EVENT_GROUPING_CHANGED),null)});const n=this.groupColumns.slice();return this.groupColumns.splice(0,this.groupColumns.length,...t),this.groupColumns.forEach(e=>{e.on(Object(s.u)(".group",i.a.EVENT_DIRTY_VALUES,i.a.EVENT_SORTMETHOD_CHANGED,i.a.EVENT_GROUPING_CHANGED),this.dirtyOrder)}),this.fire([l.EVENT_GROUP_CRITERIA_CHANGED,l.EVENT_DIRTY_ORDER,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],n,this.getGroupCriteria()),!0}setSortCriteria(e){let t=Array.isArray(e)?e:[e];if(t.length>this.maxSortCriteria&&(t=t.slice(0,this.maxSortCriteria)),0===t.length)return this.sortBy(null);if(1===t.length)return this.sortBy(t[0].col,t[0].asc);const n=this.sortCriteria.slice();return n.forEach(e=>{e.col.on(`${i.a.EVENT_DIRTY_VALUES}.order`,null),e.col.on(`${i.a.EVENT_SORTMETHOD_CHANGED}.order`,null)}),t.forEach(e=>{e.col.on(`${i.a.EVENT_DIRTY_VALUES}.order`,this.dirtyOrder),e.col.on(`${i.a.EVENT_SORTMETHOD_CHANGED}.order`,this.dirtyOrder)}),this.sortCriteria.splice(0,this.sortCriteria.length,...t.slice()),this.triggerResort(n),!0}toggleGroupSorting(e){const t=this.groupSortCriteria[0],n=t&&t.col===e&&!t.asc;return this.setGroupSortCriteria({col:e,asc:n})}groupSortBy(e,t){return this.setGroupSortCriteria({col:e,asc:t})}setMaxSortCriteria(e){const t=this.maxSortCriteria;t!==e&&(this.maxSortCriteria=e,t<e||this.sortCriteria.length<e||this.setSortCriteria(this.sortCriteria.slice(0,e)))}getMaxSortCriteria(){return this.maxSortCriteria}setMaxGroupColumns(e){const t=this.maxGroupColumns;t!==e&&(this.maxGroupColumns=e,t<e||this.groupColumns.length<e||this.setGroupCriteria(this.groupColumns.slice(0,e)))}getMaxGroupColumns(){return this.maxGroupColumns}setGroupSortCriteria(e){let t=Array.isArray(e)?e:[e];return t.length>this.maxSortCriteria&&(t=t.slice(0,this.maxSortCriteria)),this.groupSortCriteria.forEach(e=>{e.col.on(`${i.a.EVENT_SORTMETHOD_CHANGED}.groupOrder`,null)}),t.forEach(e=>{e.col.on(`${i.a.EVENT_SORTMETHOD_CHANGED}.groupOrder`,this.dirtyOrder)}),this.groupSortCriteria.splice(0,this.groupSortCriteria.length,...t.slice()),this.triggerResort(this.sortCriteria.slice()),!0}triggerResort(e){const t=this.getSortCriterias(),n=Array.isArray(e)?e[0]:e,r=Array.isArray(e)?e:t;this.fire([l.EVENT_SORT_CRITERIA_CHANGED,l.EVENT_DIRTY_ORDER,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],n,t[0]),this.fire(l.EVENT_SORT_CRITERIAS_CHANGED,r,t)}get children(){return this.columns.slice()}get length(){return this.columns.length}insert(e,t=this.columns.length){return this.columns.splice(t,0,e),e.parent=this,this.forward(e,...Object(s.u)(".ranking",i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY,i.a.EVENT_FILTER_CHANGED)),e.on(`${l.EVENT_FILTER_CHANGED}.order`,this.dirtyOrder),this.fire([l.EVENT_ADD_COLUMN,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],e,t),0!==this.sortCriteria.length||r(e.desc)||this.sortBy(e,e instanceof a.a),e}move(e,t=this.columns.length){if(e.parent!==this)return console.error("invalid move operation: ",e),null;const n=this.columns.indexOf(e);return t===n?e:(this.columns.splice(n,1),this.columns.splice(n<t?t-1:t,0,e),this.fire([l.EVENT_MOVE_COLUMN,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],e,t,n),e)}moveAfter(e,t){const n=this.columns.indexOf(t);return n<0?null:this.move(e,n+1)}get fqpath(){return""}findByPath(e){let t=this;const n=e.split("@").map(Number).slice(1);for(;n.length>0;){const e=n.shift();t=t.at(e)}return t}indexOf(e){return this.columns.indexOf(e)}at(e){return this.columns[e]}insertAfter(e,t){const n=this.columns.indexOf(t);return n<0?null:this.insert(e,n+1)}push(e){return this.insert(e)}remove(e){const t=this.columns.indexOf(e);if(t<0)return!1;this.unforward(e,...Object(s.u)(".ranking",i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY,i.a.EVENT_FILTER_CHANGED));const n=this.sortCriteria.findIndex(t=>t.col===e);if(0===n)if(this.sortCriteria.shift(),this.sortCriteria.length>0)this.sortBy(this.sortCriteria[0].col);else{const t=this.columns.filter(t=>t!==e&&!r(t.desc))[0];this.sortBy(t||null)}else n>0&&(this.sortCriteria.splice(n,1),this.triggerResort(null));const a=this.groupColumns.indexOf(e);if(a>=0){const e=this.groupColumns.slice();e.splice(a,1),this.groupBy(e)}return e.parent=null,this.columns.splice(t,1),this.fire([l.EVENT_REMOVE_COLUMN,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],e,t),!0}clear(){0!==this.columns.length&&(this.sortCriteria.splice(0,this.sortCriteria.length),this.groupColumns.forEach(e=>{e.on(`${i.a.EVENT_DIRTY_VALUES}.group`,null),e.on(`${i.a.EVENT_SORTMETHOD_CHANGED}.group`,null)}),this.groupColumns.splice(0,this.groupColumns.length),this.columns.forEach(e=>{this.unforward(e,...Object(s.u)(".ranking",i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY,i.a.EVENT_FILTER_CHANGED)),e.parent=null}),this.columns.length=0,this.fire([l.EVENT_REMOVE_COLUMN,l.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES,l.EVENT_DIRTY],null))}get flatColumns(){const e=[];return this.flatten(e,0,i.a.FLAT_ALL_COLUMNS),e.map(e=>e.col)}find(e){const t="string"==typeof e?t=>t.id===e:e,n=this.flatColumns;for(const e of n)if(t(e))return e;return null}toSortingDesc(e){const t=this.primarySortCriteria;if(null===t)return null;const n=(t=>null===t?null:t.toSortingDesc(e))(t.col);return null===n?null:{id:n,asc:t.asc}}isFiltered(){return this.columns.some(e=>e.isFiltered())}filter(e,t){return this.columns.every(n=>n.filter(e,t))}findMyRanker(){return this}get fqid(){return this.id}}t.a=l,l.EVENT_WIDTH_CHANGED=i.a.EVENT_WIDTH_CHANGED,l.EVENT_FILTER_CHANGED=i.a.EVENT_FILTER_CHANGED,l.EVENT_LABEL_CHANGED=i.a.EVENT_LABEL_CHANGED,l.EVENT_ADD_COLUMN=i.a.EVENT_ADD_COLUMN,l.EVENT_MOVE_COLUMN=i.a.EVENT_MOVE_COLUMN,l.EVENT_REMOVE_COLUMN=i.a.EVENT_REMOVE_COLUMN,l.EVENT_DIRTY=i.a.EVENT_DIRTY,l.EVENT_DIRTY_HEADER=i.a.EVENT_DIRTY_HEADER,l.EVENT_DIRTY_VALUES=i.a.EVENT_DIRTY_VALUES,l.EVENT_SORT_CRITERIA_CHANGED="sortCriteriaChanged",l.EVENT_GROUP_CRITERIA_CHANGED="groupCriteriaChanged",l.EVENT_GROUP_SORT_CRITERIA_CHANGED="groupSortCriteriaChanged",l.EVENT_SORT_CRITERIAS_CHANGED="sortCriteriasChanged",l.EVENT_DIRTY_ORDER="dirtyOrder",l.EVENT_ORDER_CHANGED="orderChanged",l.EVENT_GROUPS_CHANGED="groupsChanged"},function(e,t,n){"use strict";var r=n(12),i=n(13),a=n(25),o=n(0),s=n(24),l=n(29),u=n(54),c=n(55);class d extends o.a{constructor(e={}){super(),this.rankings=[],this.selection=new u.a,this.aggregations=new Set,this.uid=0,this.createHelper=(e=>{const t=this.fromDescRef(e.desc);let n=null;if(t&&t.type){this.fixDesc(e.desc);(n=new(0,this.columnTypes[t.type])(e.id,t)).restore(e,this.createHelper)}return n}),this.columnTypes=Object.assign(Object(r.models)(),e.columnTypes||{}),this.multiSelections=!1!==e.multiSelection,this.groupings=!0===e.grouping}createEventList(){return super.createEventList().concat([d.EVENT_ADD_COLUMN,d.EVENT_REMOVE_COLUMN,d.EVENT_ADD_RANKING,d.EVENT_REMOVE_RANKING,d.EVENT_DIRTY,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_ORDER_CHANGED,d.EVENT_SELECTION_CHANGED,d.EVENT_ADD_DESC,d.EVENT_CLEAR_DESC,d.EVENT_JUMP_TO_NEAREST,d.EVENT_GROUP_AGGREGATION_CHANGED])}pushRanking(e){const t=this.cloneRanking(e);return this.groupings||t.setMaxGroupColumns(0),this.insertRanking(t),t}takeSnapshot(e){const t=this.cloneRanking();return t.push(this.clone(e)),this.insertRanking(t),t}insertRanking(e,t=this.rankings.length){this.rankings.splice(t,0,e),this.forward(e,...Object(o.u)(".provider",i.a.EVENT_ADD_COLUMN,i.a.EVENT_REMOVE_COLUMN,i.a.EVENT_DIRTY,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_ORDER_CHANGED,i.a.EVENT_DIRTY_VALUES));const n=this;e.on(`${i.a.EVENT_DIRTY_ORDER}.provider`,Object(o.f)(function(){n.triggerReorder(this.source)},100)),this.fire([d.EVENT_ADD_RANKING,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],e,t),this.triggerReorder(e)}triggerReorder(e){Promise.resolve(this.sort(e)).then(t=>{Object(s.d)(t),e.setGroups(t)})}removeRanking(e){const t=this.rankings.indexOf(e);return!(t<0)&&(this.unforward(e,...Object(o.u)(".provider",i.a.EVENT_ADD_COLUMN,i.a.EVENT_REMOVE_COLUMN,i.a.EVENT_DIRTY,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_ORDER_CHANGED,i.a.EVENT_DIRTY_VALUES)),this.rankings.splice(t,1),e.on(`${i.a.EVENT_DIRTY_ORDER}.provider`,null),this.cleanUpRanking(e),this.fire([d.EVENT_REMOVE_RANKING,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],e,t),!0)}clearRankings(){this.rankings.forEach(e=>{this.unforward(e,...Object(o.u)(".provider",i.a.EVENT_ADD_COLUMN,i.a.EVENT_REMOVE_COLUMN,i.a.EVENT_DIRTY,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_ORDER_CHANGED,i.a.EVENT_DIRTY_VALUES)),e.on(`${i.a.EVENT_DIRTY_ORDER}.provider`,null),this.cleanUpRanking(e)}),this.rankings=[],this.fire([d.EVENT_REMOVE_RANKING,d.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],null)}getRankings(){return this.rankings.slice()}getLastRanking(){return this.rankings[this.rankings.length-1]}ensureOneRanking(){0===this.rankings.length&&this.pushRanking()}cleanUpRanking(e){}push(e,t){const n=this.create(t);return n?(e.push(n),n):null}insert(e,t,n){const r=this.create(n);return r?(e.insert(r,t),r):null}nextId(){return`col${this.uid++}`}fixDesc(e){"rank"===e.type?e.accessor=this.rankAccessor.bind(this):"selection"===e.type?(e.accessor=((e,t)=>this.isSelected(t)),e.setter=((e,t,n)=>n?this.select(t):this.deselect(t))):"aggregate"===e.type&&(e.isAggregated=((e,t)=>this.isAggregated(e,t)),e.setAggregated=((e,t,n)=>this.setAggregated(e,t,n)))}create(e){this.fixDesc(e);const t=this.columnTypes[e.type];return t?new t(this.nextId(),e):null}clone(e){const t=this.dumpColumn(e);return this.restoreColumn(t)}restoreColumn(e){const t=e=>{const n=this.fromDescRef(e.desc),r=this.columnTypes[n.type];this.fixDesc(n);const i=new r("",n);return i.restore(e,t),i.assignNewId(this.nextId.bind(this)),i};return t(e)}find(e){const t="string"==typeof e?t=>t.id===e:e;for(const e of this.rankings){const n=e.find(t);if(n)return n}return null}dump(){return{uid:this.uid,selection:this.getSelection(),aggregations:Array.from(this.aggregations),rankings:this.rankings.map(e=>e.dump(this.toDescRef))}}dumpColumn(e){return e.dump(this.toDescRef)}toDescRef(e){return e}fromDescRef(e){return e}restoreRanking(e){const t=this.cloneRanking();t.restore(e,this.createHelper),t.children.some(e=>e instanceof a.b)||t.insert(this.create(Object(r.createRankDesc)()),0);const n=this.nextId.bind(this);return t.children.forEach(e=>e.assignNewId(n)),t}restore(e){this.clearRankings(),this.uid=e.uid||0,e.selection&&e.selection.forEach(e=>this.selection.add(e)),e.aggregations&&(this.aggregations.clear(),e.aggregations.forEach(e=>this.aggregations.add(e))),e.rankings&&e.rankings.forEach(e=>{const t=this.cloneRanking();t.restore(e,this.createHelper),t.children.some(e=>e instanceof a.b)||t.insert(this.create(Object(r.createRankDesc)()),0),this.insertRanking(t)}),e.layout&&Object.keys(e.layout).forEach(t=>{this.deriveRanking(e.layout[t])});const t=this.nextId.bind(this);this.rankings.forEach(e=>{e.children.forEach(e=>e.assignNewId(t))})}deriveDefault(){if(this.rankings.length>0)return;const e=this.pushRanking();this.getColumns().forEach(t=>{Object(r.isSupportType)(t)||this.push(e,t)})}deriveRanking(e){const t=this.cloneRanking();t.clear();const n=e=>{switch(e.type){case"rank":return this.create(Object(r.createRankDesc)());case"selection":return this.create(Object(r.createSelectionDesc)());case"aggregate":return this.create(Object(r.createAggregateDesc)());case"actions":const t=this.create(Object(r.createActionDesc)(e.label||"actions"));return t.restore(e,this.createHelper),t;case"stacked":const i=this.create(Object(r.createStackDesc)(e.label||"Combined"));return(e.children||[]).forEach(e=>{const t=n(e);t&&i.push(t)}),i;default:{const t=this.findDesc(e.column);if(t){const n=this.create(t);return e.label=e.label||t.label||t.column,n&&n.restore(e,this.createHelper),n}return null}}};return e.forEach(e=>{const r=n(e);r&&t.push(r)}),t.children.some(e=>e instanceof a.b)||t.insert(this.create(Object(r.createRankDesc)()),0),this.insertRanking(t),t}isAggregated(e,t){let n=t;for(;n;){const t=`${e.id}@${Object(s.c)(n)}`;if(this.aggregations.has(t))return!0;n=n.parent}return!1}setAggregated(e,t,n){const r=`${e.id}@${Object(s.c)(t)}`;n!==this.aggregations.has(r)&&(n?this.aggregations.add(r):this.aggregations.delete(r),this.fire([d.EVENT_GROUP_AGGREGATION_CHANGED,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],e,t,n))}aggregateAllOf(e,t){const n=e.getGroups();n.forEach(n=>{const r=`${e.id}@${Object(s.c)(n)}`;t?this.aggregations.add(r):this.aggregations.delete(r)}),this.fire([d.EVENT_GROUP_AGGREGATION_CHANGED,d.EVENT_DIRTY_VALUES,d.EVENT_DIRTY],e,n,t)}isSelected(e){return this.selection.has(e)}select(e){this.selection.has(e)||(!this.multiSelections&&this.selection.size>0&&this.selection.clear(),this.selection.add(e),this.fire(d.EVENT_SELECTION_CHANGED,this.getSelection()))}jumpToNearest(e){0!==e.length&&this.fire(d.EVENT_JUMP_TO_NEAREST,e)}selectAll(e){e.every(e=>this.selection.has(e))||(this.multiSelections||(this.selection.clear(),e=e.slice(0,1)),e.forEach(e=>{this.selection.add(e)}),this.fire(d.EVENT_SELECTION_CHANGED,this.getSelection()))}selectAllOf(e){this.setSelection(e.getOrder())}setSelection(e){if(0===e.length)return this.clearSelection();this.selection.size===e.length&&e.every(e=>this.selection.has(e))||(this.selection.clear(),this.selectAll(e))}toggleSelection(e,t=!1){return this.isSelected(e)?(t?this.deselect(e):this.clearSelection(),!1):(t?this.select(e):this.setSelection([e]),!0)}deselect(e){this.selection.has(e)&&(this.selection.delete(e),this.fire(d.EVENT_SELECTION_CHANGED,this.getSelection()))}selectedRows(){return 0===this.selection.size?Promise.resolve([]):this.view(this.getSelection())}getSelection(){return Array.from(this.selection)}clearSelection(){0!==this.selection.size&&(this.selection.clear(),this.fire(d.EVENT_SELECTION_CHANGED,[],!1))}exportTable(e,t={}){return Promise.resolve(this.view(e.getOrder())).then(n=>Object(c.b)(e,n,t))}}d.EVENT_SELECTION_CHANGED="selectionChanged",d.EVENT_ADD_COLUMN=i.a.EVENT_ADD_COLUMN,d.EVENT_REMOVE_COLUMN=i.a.EVENT_REMOVE_COLUMN,d.EVENT_ADD_RANKING="addRanking",d.EVENT_REMOVE_RANKING="removeRanking",d.EVENT_DIRTY=i.a.EVENT_DIRTY,d.EVENT_DIRTY_HEADER=i.a.EVENT_DIRTY_HEADER,d.EVENT_DIRTY_VALUES=i.a.EVENT_DIRTY_VALUES,d.EVENT_ORDER_CHANGED=i.a.EVENT_ORDER_CHANGED,d.EVENT_ADD_DESC="addDesc",d.EVENT_CLEAR_DESC="clearDesc",d.EVENT_JUMP_TO_NEAREST="jumpToNearest",d.EVENT_GROUP_AGGREGATION_CHANGED=l.b.EVENT_AGGREGATE,t.a=d},function(e,t,n){"use strict";var r=n(3),i=(n.n(r),n(11)),a=n(8),o=n(5);class s extends i.a{constructor(e,t){super(e,t),this.missingValue=NaN,this.numberFormat=Object(r.format)(".3n"),t.numberFormat&&(this.numberFormat=Object(r.format)(t.numberFormat)),void 0!==t.missingValue&&(this.missingValue=t.missingValue),this.setDefaultRenderer("interleaving"),this.setDefaultGroupRenderer("interleaving")}dump(e){const t=super.dump(e);return t.missingValue=this.missingValue,t}restore(e,t){void 0!==e.missingValue&&(this.missingValue=e.missingValue),e.numberFormat&&(this.numberFormat=Object(r.format)(e.numberFormat)),super.restore(e,t)}getLabel(e,t){if(!this.isLoaded())return"";const n=this.getValue(e,t);return String("number"==typeof n&&!isNaN(n)&&isFinite(n)?this.numberFormat(n):n)}getValue(e,t){if(!this.isLoaded())return null;const n=this.compute(e,t);return Object(o.b)(n)?this.missingValue:n}compute(e,t){return NaN}getNumber(e,t){const n=this.getValue(e,t);return null===n?NaN:n}getRawNumber(e,t){return this.getNumber(e,t)}isMissing(e,t){return Object(o.b)(this.compute(e,t))}compare(e,t,n,r){return a.d.prototype.compare.call(this,e,t,n,r)}groupCompare(e,t){return a.d.prototype.groupCompare.call(this,e,t)}getRendererType(){return a.d.prototype.getRendererType.call(this)}}t.a=s},function(e,t,n){"use strict";var r=n(6);class i extends r.a{constructor(e,t,n){super(t,n),this.column=e}markFiltered(e=!1){this.attachment.classList.toggle("filtered",e)}}const a="Filter out rows containing missing values";t.d=a;t.b=(e=>`<label><input class="lu_filter_missing" type="checkbox" ${e?'checked="checked"':""}>${a}</label>`);t.c=((e,t)=>`<label ${0===t?'class="lu-disabled"':""}><input class="lu_filter_missing" type="checkbox" ${e?'checked="checked"':""} ${0===t?"disabled":""}>Filter out ${t} missing value rows</label>`),t.a=i},function(e,t,n){"use strict";function r(e,t=NaN,n=0){const r=new Map,a=[],o="function"==typeof n?n:()=>n;isNaN(t)&&(t=function(e){const t=new Map;if(e.forEach(e=>{t.set(e,(t.get(e)||0)+1)}),0===t.size)return 20;const n=Array.from(t).sort((e,t)=>e[1]!==t[1]?t[1]-e[1]:e[0]-t[0]),r=n[0][0];return 0===r?n.length>1?n[1][0]:20:r}(e)),t+=o(-1);let s=-1,l=0,u=0,c=0;return e.forEach((e,n)=>{if(e+=o(n),u+=e,c++,e===t)return;r.set(n,e);const d=(n-s-1)*t;s=n;const h=l+d;l=h+e,a.push(new i(n,h,e))}),{exceptionsLookup:r,exceptions:a,totalHeight:u,defaultRowHeight:t,numberOfRows:c,padding:o}}t.d=function(e,t,n=0){return{exceptions:[],exceptionsLookup:{keys:()=>[].values(),get:()=>t,has:()=>!1,size:0},totalHeight:e*(t+=n),numberOfRows:e,defaultRowHeight:t,padding:()=>n}},t.b=r,t.c=function(e,t,n,r,i){function a(e,t){return Math.min(i-1,t+Math.max(0,Math.floor(e/n)))}function o(e,t,r=!1){const o=l-e,u=a(s-e,t),c=a(o,t),d=e+(u-t)*n,h=e+(c+1-t)*n;return console.assert(!r||!(d>s||h<l&&c<i-1),"error",r,d,h,s,l,t,e),{first:u,last:c,firstRowPos:d,endPos:h}}if(0===i)return{first:0,last:-1,firstRowPos:0,endPos:0};if(1===i)return{first:0,last:0,firstRowPos:0,endPos:0===r.length?n:r[0].y2};const s=e,l=s+t,u=o(0,0,!0);if(0===r.length)return u;if(u.last<=r[0].index)return u.last===r[0].index?Object.assign(u,{endPos:r[0].y2}):u;const c=r[r.length-1];if(s>=c.y){const e=o(c.y2,c.index+1);return s<c.y2?Object.assign(e,{first:c.index,firstRowPos:c.y}):e}const d=[];let h=r[0];for(const e of r){const{y:t,y2:n}=e;if(t>=l)break;n<=s?h=e:d.push(e)}if(0===d.length)return o(h.y2,h.index+1);{const e=d[0],t=d[d.length-1],r=Math.max(0,e.index-Math.max(0,Math.ceil((e.y-s)/n)));let o=t.index;l>=t.y2&&(o=a(l-t.y2,t.index+1));const u=e.y-(e.index-r)*n,c=t.y2+(o-t.index)*n;return console.assert(u<=s&&(c>=l||o===i-1),"error",u,c,s,l,e,t),{first:r,last:o,firstRowPos:u,endPos:c}}},t.a=function(e,t){const n=e.length,r=t.length;if(0===n)return{added:t,removed:[],common:0};if(0===r)return{added:[],removed:e,common:0};if(n===r)return{added:[],removed:[],common:n};const i=e.slice(Math.min(r,n));return{added:t.slice(Math.min(r,n)),removed:i,common:n-i.length}},t.e=function(e,t,n){const r=0===e.length?0:e[e.length-1]+1,i=[],a=[];for(let t=e.length-1;t>=0&&e[t]>=n;--t)a.push(e.pop());for(let a=r;a<n;++a)t[a].frozen&&(i.push(a),e.push(a));return{target:e,added:i,removed:a}};class i{constructor(e,t,n){this.index=e,this.y=t,this.height=n}get y2(){return this.y+this.height}}},function(e,t,n){"use strict";function r(e){let t=e.label;return null!=e.description&&""!==e.description&&(t+=`\n${e.description}`),t}function i(e,t,n){return(r,i,...a)=>{e.insertAdjacentHTML("beforeend",`<i title="${r}"><span${n?"":' aria-hidden="true"'}>${r}</span> </i>`);const o=e.lastElementChild;return i?(o.onclick=(e=>{e.stopPropagation();new i(t,o,...a).openDialog()}),o):o}}function a(e,t,n){return o(i(e,t,!1),t,n)}function o(e,t,n){(!Object(u.isSupportType)(t.desc)||t instanceof I.b)&&(e("Sort").onclick=(e=>{e.stopPropagation(),t.toggleMySorting()})),Object(O.b)(t)&&(e("Stratify").onclick=(e=>{e.stopPropagation(),t.groupByMe()})),t instanceof T.d&&e("Stratify by Threshold &hellip;",D.a),t instanceof E.b||(e("Remove").onclick=(e=>{e.stopPropagation(),t instanceof E.b?(n.provider.removeRanking(t.findMyRanker()),n.provider.ensureOneRanking()):t.removeMe()})),e("More &hellip;",k.a,"",n)}function s(e,t,n=22.5){const r=e.querySelector(".lu-toolbar"),i=r.querySelector("[title^=More]"),a=t.getWidth()-(i.clientWidth||n),o=Array.from(r.children).filter(e=>e!==i).reverse();o.forEach(e=>{e.classList.remove("hidden")}),o.forEach(e=>{const t=o.reduce((e,t)=>{const r=t.clientWidth;return r>0?e+r:t.classList.contains("hidden")?e:e+n},0);e.classList.toggle("hidden",t>a)})}function l(e,t,n){Object(M.a)(e,()=>{const e=JSON.stringify(n.provider.toDescRef(t.desc)),r={"text/plain":t.label,[`${j}-ref`]:t.id,[j]:e};return Object(R.h)(t)&&(r[`${j}-number`]=e,r[`${j}-number-ref`]=t.id),{effectAllowed:"copyMove",data:r}},!0)}t.i=r,t.c=function(e,t,n,r={}){r=Object.assign({dragAble:!0,mergeDropAble:!0,rearrangeAble:!0,resizeable:!0},r);const i=t.createElement("section");return i.innerHTML=`\n    <div class="lu-label">${e.label}</div>\n    <div class="lu-toolbar"></div>\n    <div class="lu-spacing"></div>\n    <div class="lu-summary"></div>\n    <div class="lu-handle"></div>\n  `,a(i.querySelector("div.lu-toolbar"),e,n),s(i,e),r.dragAble&&l(i,e,n),r.mergeDropAble&&function(e,t,n){const r=(e,r)=>{const i=e.data,a="copy"===e.effect,o=`${j}${r?"-number":""}`;if(`${o}-ref`in i){const e=i[`${o}-ref`];let r=n.provider.find(e);if(a)r=n.provider.clone(r);else{if(r===t)return null;r.removeMe()}return r}const s=JSON.parse(i[o]);return n.provider.create(n.provider.fromDescRef(s))};if(Object(y.b)(t))return void(t.canJustAddNumbers?Object(M.b)(e,[`${j}-number-ref`,`${j}-number`],e=>{const n=r(e,!0);return null!=n&&null!=t.push(n)}):Object(M.b)(e,[`${j}-ref`,j],e=>{const n=r(e,!1);return null!=n&&null!=t.push(n)}));const i=e=>i=>{const a=r(i,e);if(!a)return!1;if(t instanceof y.a)return null!==t.push(a);const o=t.findMyRanker(),s=o.indexOf(t),l=n.provider.create(e?Object(u.createStackDesc)():Object(u.createNestedDesc)());return t.removeMe(),l.push(t),l.push(a),null!=o.insert(l,s)};(e=>e instanceof y.a&&e.canJustAddNumbers||Object(R.h)(e)&&e.parent instanceof S.a&&!(e instanceof H.b))(t)?Object(M.b)(e,[`${j}-number-ref`,`${j}-number`],i(!0)):Object(M.b)(e,[`${j}-ref`,`${j}`],i(!1))}(i,e,n),r.rearrangeAble&&function(e,t,n){Object(M.b)(e,[`${j}-ref`,j],e=>{let r=null;const i=e.data;if(!(`${j}-ref`in i)){const e=JSON.parse(i[j]);return null!=(r=n.provider.create(n.provider.fromDescRef(e)))&&null!=t.insertAfterMe(r)}const a=i[`${j}-ref`];if(!(r=n.provider.find(a))||r===t&&!e.effect.startsWith("copy"))return!1;if(e.effect.startsWith("copy"))return null!=(r=n.provider.clone(r))&&null!=t.insertAfterMe(r);const o=r.parent;return o?o===t.parent?null!=o.moveAfter(r,t):(r.removeMe(),null!=t.insertAfterMe(r)):null!=t.insertAfterMe(r)},null,!0)}(i.querySelector(".lu-handle"),e,n),r.resizeable&&function(e,t){let n;const r=t.querySelector(".lu-handle");let i=0;const a=n=>{n.stopPropagation(),n.preventDefault();const r=n.clientX;if(Math.abs(i-r)<2)return;const a=r-i;i=r;const o=Math.max(0,e.getWidth()+a);e.setWidth(o),s(t,e)},o=r=>{r.stopPropagation(),r.preventDefault();const l=r.clientX;if(t.classList.remove("lu-change-width"),n.removeEventListener("mousemove",a),n.removeEventListener("mouseup",o),n.removeEventListener("mouseleave",o),Math.abs(i-l)<2)return;const u=l-i,c=Math.max(0,e.getWidth()+u);e.setWidth(c),s(t,e)};r.onmousedown=(e=>{e.stopPropagation(),e.preventDefault(),t.classList.add("lu-change-width"),i=e.clientX,(n=t.closest("header")).addEventListener("mousemove",a),n.addEventListener("mouseup",o),n.addEventListener("mouseleave",o)}),r.onclick=(e=>{e.stopPropagation(),e.preventDefault()})}(e,i),i},t.j=function(e,t,n,i=!1){e.querySelector(".lu-label").innerHTML=t.label,e.title=r(t);const a=e.querySelector("i[title='Sort']");if(a){const{asc:e,priority:n}=t.isSortedByMe();a.dataset.sort=void 0!==e?e:"",void 0!==n?a.dataset.priority=(parseInt(n,10)+1).toString():delete a.dataset.priority}const o=e.querySelector("i[title^='Stratify']");if(o){const e=t.isGroupedBy();o.dataset.stratify=e>=0?"true":"false",e>=0?o.dataset.priority=(e+1).toString():delete o.dataset.priority}const s=Object(L.a)(t,n.summaries);s&&s(t,e.querySelector(".lu-summary"),i,n)},t.b=i,t.e=a,t.d=o,t.f=function(e,t,n){const r=Object(u.isSupportType)(t.desc);r||e("Rename + Color &hellip;",p.a),t instanceof $.a&&(e("Sort Group by Name").onclick=(e=>{e.stopPropagation(),t.toggleMyGroupSorting()})),t instanceof T.d&&e("Sort Group by &hellip;",h.a),(t instanceof c.a||t instanceof d.a)&&e("Sort by &hellip;",h.a),(Object(O.b)(t)||t instanceof I.b)&&(e("Stratify").onclick=(e=>{e.stopPropagation(),t.groupByMe()})),t instanceof T.d&&e("Stratify by Threshold &hellip;",D.a);const i=n.getPossibleRenderer(t);(i.item.length>2||i.group.length>2)&&e("Visualization &hellip;",f.a,n),t instanceof g.a&&e("Edit Link Pattern &hellip;",b.a,n.idPrefix,[].concat(t.desc.templates||[],n.linkTemplates)),t instanceof m.b&&e("Edit Combine Script &hellip;",v.a);const a=Object(L.a)(t,n.filters);if(a&&e("Filter &hellip;",a,"",n.provider,n.idPrefix),t instanceof N.a&&e("Set Cut Off &hellip;",C.a,n.idPrefix),n.searchAble(t)&&e("Search &hellip;",w.a,n.provider),t instanceof _.b&&e("Edit Weights &hellip;",x.a),Object(y.b)(t)){const n=t;e(n.getCollapsed()?"Expand":"Compress").onclick=(e=>{e.stopPropagation(),n.setCollapsed(!n.getCollapsed()),e.currentTarget.title=n.getCollapsed()?"Expand":"Compress"})}t instanceof y.a&&t.parent instanceof S.a&&(e("Split Combined Column").onclick=(e=>{e.stopPropagation(),t.children.reverse().forEach(e=>t.insertAfterMe(e)),t.removeMe()})),t instanceof y.a&&(!Object(y.b)(t)||t.getCollapsed())&&e("Contained Columns &hellip;",V.a,n),r||(e("Generate Snapshot").onclick=(e=>{e.stopPropagation(),n.provider.takeSnapshot(t)})),e("Remove").onclick=(e=>{e.stopPropagation(),t instanceof E.b?(n.provider.removeRanking(t.findMyRanker()),n.provider.ensureOneRanking()):t.removeMe()})},t.g=l,t.h=function(e,t,n,r,i){Object(M.b)(e,[`${j}-ref`,j],e=>{let a=null;const o=e.data;if(`${j}-ref`in o){const e=o[`${j}-ref`];if(!(a=n.provider.find(e))||a===t)return!1}else{const e=JSON.parse(o[j]);(a=n.provider.create(n.provider.fromDescRef(e)))&&t.findMyRanker().push(a)}const s=t.findMyRanker();if(!a||a===t||!s)return!1;const l=s.getSortCriterias(),u=s.getGroupCriteria(),c=e=>{const t=l.findIndex(t=>t.col===e);return t>=0&&l.splice(t,1)[0].asc},d=c(a),h=u.indexOf(t),p=l.findIndex(e=>e.col===t);if(i&&h>=0)if(c(t),Object(O.b)(a)){if(u.splice(h+("after"===r?1:0),0,a),u.length>s.getMaxGroupColumns()){const e=u.splice(0,u.length-s.getMaxGroupColumns());l.unshift(...e.reverse().map(e=>({asc:!1,col:e})))}}else{const e=u.splice(0,u.length-h);l.unshift(...e.reverse().map(e=>({asc:!1,col:e}))),l.unshift({asc:d,col:a})}else p<0?l.push({asc:d,col:a}):0===p&&i&&Object(O.b)(a)?u.push(a):l.splice(p+("after"===r?1:0),0,{asc:d,col:a});return Object(A.j)(u,s.getGroupCriteria())||s.groupBy(u),s.setSortCriteria(l),!0},null,!0)};var u=n(12),c=n(52),d=n(26),h=n(106),p=n(108),f=n(109),g=n(28),m=n(27),v=n(110),b=n(111),y=n(11),E=n(25),x=n(112),_=n(19),C=n(113),w=n(114),N=n(37),M=n(115),T=n(8),R=n(2),S=n(13),O=n(10),D=n(116),A=n(0),k=n(117),L=n(118),I=n(20),V=n(119),$=n(9),H=n(30);const j="text/x-caleydo-lineup-column";t.a=j},function(e,t,n){"use strict";t.a=function(e="Weighted Sum"){return{type:"stack",label:e}};var r=n(15),i=n(1),a=n(2),o=n(0);class s extends r.a{constructor(e,t){super(e,t),this.collapsed=!1;const n=this;this.adaptChange=function(e,t){n.adaptWidthChange(this.source,e,t)},"interleaving"===this.getRendererType()&&this.setRendererType("stack"),"interleaving"===this.getGroupRenderer()&&this.setGroupRenderer("stack")}createEventList(){return super.createEventList().concat([s.EVENT_COLLAPSE_CHANGED,s.EVENT_WEIGHTS_CHANGED,s.EVENT_MULTI_LEVEL_CHANGED])}setCollapsed(e){this.collapsed!==e&&this.fire([s.EVENT_COLLAPSE_CHANGED,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],this.collapsed,this.collapsed=e)}getCollapsed(){return this.collapsed}get canJustAddNumbers(){return!0}flatten(e,t,n=0,r=0){let a=null;const o=n<=i.a.FLAT_ALL_COLUMNS?this._children:this._children.filter(e=>!e.isHidden());if(0===n||n<=i.a.FLAT_ALL_COLUMNS){let i=this.getWidth();if(this.collapsed||(i+=(o.length-1)*r),e.push(a={col:this,offset:t,width:i}),0===n)return i}let s=t;return o.forEach(t=>{s+=t.flatten(e,s,n-1,r)+r}),a&&(a.width=s-t-r),s-t-r}dump(e){const t=super.dump(e);return t.collapsed=this.collapsed,t}restore(e,t){this.collapsed=!0===e.collapsed,super.restore(e,t)}insert(e,t,n=NaN){return isNaN(n)||e.setWidth(n/(1-n)*this.getWidth()),e.on(`${i.a.EVENT_WIDTH_CHANGED}.stack`,this.adaptChange),super.setWidth(0===this.length?e.getWidth():this.getWidth()+e.getWidth()),super.insert(e,t)}push(e,t=NaN){return this.insert(e,this.length,t)}insertAfter(e,t,n=NaN){const r=this.indexOf(t);return r<0?null:this.insert(e,r+1,n)}adaptWidthChange(e,t,n){if(Object(o.t)(t,n,.5))return;const r=this.getWeights(),a=this.getWidth(),l=t/a,u=(1-l-(n-t)/a)/(1-l),c=this._children.map(t=>{if(t===e)return n;const r=t.getWidth()*u,i=isNaN(r)||r<1?0:r;return t.setWidthImpl(i),i});super.setWidth(c.reduce((e,t)=>e+t,0)),this.fire([s.EVENT_WEIGHTS_CHANGED,s.EVENT_MULTI_LEVEL_CHANGED,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],r,this.getWeights())}getWeights(){const e=this.getWidth();return this._children.map(t=>t.getWidth()/e)}setWeights(e){const t=this.getWeights(),n=e.length-this.length;let r;if(n<0)if((r=e.reduce((e,t)=>e+t,0))<=1)for(let t=0;t<-n;++t)e.push(1/-n*(1-r));else if(r<=100)for(let t=0;t<-n;++t)e.push(1/-n*(100-r));e=e.slice(0,this.length),r=e.reduce((e,t)=>e+t,0)/this.getWidth(),e=e.map(e=>e/r),this._children.forEach((t,n)=>{t.setWidthImpl(e[n])}),this.fire([s.EVENT_WEIGHTS_CHANGED,s.EVENT_MULTI_LEVEL_CHANGED,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],t,e)}removeImpl(e){return e.on(`${i.a.EVENT_WIDTH_CHANGED}.stack`,null),super.setWidth(0===this.length?100:this.getWidth()-e.getWidth()),super.removeImpl(e)}setWidth(e){const t=e/this.getWidth();this._children.forEach(e=>{e.setWidthImpl(e.getWidth()*t)}),super.setWidth(e)}compute(e,t){const n=this.getWidth();return this._children.reduce((r,i)=>r+i.getValue(e,t)*(i.getWidth()/n),0)}getRendererType(){return this.getCollapsed()&&this.isLoaded()?s.COLLAPSED_RENDERER:super.getRendererType()}toSortingDesc(e){const t=this.getWeights();return this._children.map((n,r)=>({weight:t[r],id:n.toSortingDesc(e)}))}isMissing(e,t){return this._children.some(n=>Object(a.h)(n)&&n.isMissing(e,t))}}t.b=s,s.EVENT_COLLAPSE_CHANGED="collapseChanged",s.EVENT_WEIGHTS_CHANGED="weightsChanged",s.COLLAPSED_RENDERER="number",s.EVENT_MULTI_LEVEL_CHANGED="nestedChildRatio"},function(e,t,n){"use strict";t.a=function(e="S"){return{type:"selection",label:e}};var r=n(7);class i extends r.a{constructor(e,t){super(e,t),this.setWidth(20)}createEventList(){return super.createEventList().concat([i.EVENT_SELECT])}setValue(e,t,n){return this.getValue(e,t)===n||this.setImpl(e,t,n)}setImpl(e,t,n){return this.desc.setter&&this.desc.setter(e,t,n),this.fire(i.EVENT_SELECT,e,n),!0}toggleValue(e,t){const n=this.getValue(e,t);return this.setImpl(e,t,!n),!n}compare(e,t,n,r){const i=!0===this.getValue(e,n),a=!0===this.getValue(t,r);return i===a?0:i<a?-1:1}group(e,t){return this.getValue(e,t)?i.SELECTED_GROUP:i.NOT_SELECTED_GROUP}}t.b=i,i.SELECTED_GROUP={name:"Selected",color:"orange"},i.NOT_SELECTED_GROUP={name:"Unselected",color:"gray"},i.EVENT_SELECT="select"},function(e,t,n){"use strict";t.a=function(e,t,n){return n&&n.color?n.color(t):t&&(e instanceof r.a||Object(i.isCategoricalColumn)(e)||e instanceof a.b)?e.getColor(t.v,t.dataIndex):e.color};var r=n(15),i=n(12),a=n(30)},function(e,t,n){"use strict";t.a=function(e){return e&&void 0!==e.name}},function(e,t,n){"use strict";function r(e,t){return t[e.getRendererType()]||k}function i(e,t){return t[e.getGroupRenderer()]||k}function a(e,t,n=!1){return Object.keys(t).filter(r=>{return t[r].canRender(e,n)}).map(e=>({type:e,label:n?t[e].groupTitle||t[e].title:t[e].title}))}Object.defineProperty(t,"__esModule",{value:!0}),t.createDOM=function(e,t,n,i){const a=r(e,t);return(a.createDOM?a.createDOM.bind(a):k.createDOM.bind(k))(e,n,i)},t.createCanvas=function(e,t,n,i){const a=r(e,t);return(a.createCanvas?a.createCanvas.bind(a):k.createCanvas.bind(k))(e,n,i)},t.createDOMGroup=function(e,t,n,r){const a=i(e,t);return(a.createGroupDOM?a.createGroupDOM.bind(a):k.createGroupDOM.bind(k))(e,n,r)},t.createCanvasGroup=function(e,t,n,r){const a=i(e,t);return(a.createGroupCanvas?a.createGroupCanvas.bind(a):k.createGroupCanvas.bind(k))(e,n,r)},t.possibleRenderer=a,t.possibleGroupRenderer=function(e,t){return a(e,t,!0)};var o=n(80),s=n(31),l=n(81),u=n(82),c=n(83),d=n(84),h=n(85),p=n(40),f=n(88),g=n(89),m=n(90),v=n(91),b=n(92),y=n(93),E=n(94),x=n(95),_=n(96),C=n(97),w=n(98),N=n(58),M=n(99),T=n(100),R=n(101),S=n(102),O=n(103),D=n(104),A=n(105);const k=new s.a;t.defaultCellRenderer=k;const L={rank:new w.a,boolean:new O.a,number:new o.a,string:new l.a,selection:new u.a,heatmap:new _.a,image:new S.a,link:new c.a,annotate:new d.a,actions:new h.a,stack:new p.b,nested:new p.b(!1),categorical:new f.a,catcolor:new N.a,catcolorshifted:new R.a,numbers:new g.a,sparkline:new m.a,verticalbar:new v.a,upset:new b.a,circle:new y.a,boxplot:new E.a,loading:new x.a,empty:new C.a,aggregate:new M.a,histogram:new T.a,interleaving:new D.a,dot:new A.a,default:k};t.renderers=L},function(e,t,n){"use strict";t.b=function(e){if(console.assert(e.length>0),1===e.length)return e[0];const t=e.map(e=>Object.assign({subGroups:[]},e));e.slice(1).forEach((e,n)=>{e.parent=t[n],t[n].subGroups.push(e)});const n={name:e.map(e=>e.name).join(" ∩ "),color:e[0].color,parent:t[t.length-1]};return n.parent.subGroups.push(n),n},t.c=function(e){let t=e.name,n=e.parent;for(;n;)t=`${n.name}.${t}`,n=n.parent;return t},t.d=function(e){if(e.length<=1)return;const t=new Map,n=e=>{let r=e.name;if(e.parent){const t=n(e.parent);e.parent=t.g,r=`${t.id}.$[id}`}return t.has(r)?{g:t.get(r),id:r}:(e.parent&&e.parent.subGroups.push(e),e.subGroups=[],t.set(r,e),{g:e,id:r})};e.forEach(e=>{e.parent&&(e.parent=n(e.parent).g,e.parent.subGroups.push(e))})};t.a={name:"Default",color:"gray"}},function(e,t,n){"use strict";t.a=function(e="Rank"){return{type:"rank",label:e}};var r=n(7);class i extends r.a{constructor(e,t){super(e,t),this.setWidthImpl(50)}}t.b=i},function(e,t,n){"use strict";t.b=function(e){return"function"==typeof e.getBoxPlotData};var r=n(7),i=n(1),a=n(3),o=(n.n(a),n(8)),s=n(2);class l extends r.a{constructor(e,t){super(e,t),this.currentFilter=Object(s.l)(),t.map?this.mapping=Object(o.c)(t.map):t.domain&&(this.mapping=new o.a(t.domain,"linear",t.range||[0,1])),this.original=this.mapping.clone(),this.sort=t.sort||s.d.min}compare(e,t,n,r){return Object(s.e)(this,e,t,n,r)}getBoxPlotData(e,t){return this.getValue(e,t)}getRange(){return this.mapping.getRange(l.DEFAULT_FORMATTER)}getRawBoxPlotData(e,t){return this.getRawValue(e,t)}getRawValue(e,t){return super.getValue(e,t)}getValue(e,t){const n=this.getRawValue(e,t);return null===n?n:{min:this.mapping.apply(n.min),max:this.mapping.apply(n.max),median:this.mapping.apply(n.median),q1:this.mapping.apply(n.q1),q3:this.mapping.apply(n.q3)}}getNumber(e,t){return Object(s.f)(this,e,t,"normalized")}getRawNumber(e,t){return Object(s.f)(this,e,t,"raw")}getLabel(e,t){const n=this.getRawValue(e,t);if(null===n)return"";const r=l.DEFAULT_FORMATTER;return`BoxPlot(min = ${r(n.min)}, q1 = ${r(n.q1)}, median = ${r(n.median)}, q3 = ${r(n.q3)}, max = ${r(n.max)})`}getSortMethod(){return this.sort}setSortMethod(e){this.sort!==e&&(this.fire([i.a.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=e),this.isSortedByMe().asc||this.sortByMe())}dump(e){const t=super.dump(e);return t.sortMethod=this.getSortMethod(),t.filter=Object(s.j)(this.currentFilter,Object(s.l)())?null:this.currentFilter,t.map=this.mapping.dump(),t}restore(e,t){super.restore(e,t),e.sortMethod&&(this.sort=e.sortMethod),e.filter&&(this.currentFilter=Object(s.n)(e.filter)),e.map?this.mapping=Object(o.c)(e.map):e.domain&&(this.mapping=new o.a(e.domain,"linear",e.range||[0,1]))}createEventList(){return super.createEventList().concat([o.d.EVENT_MAPPING_CHANGED])}getOriginalMapping(){return this.original.clone()}getMapping(){return this.mapping.clone()}setMapping(e){this.mapping.eq(e)||this.fire([l.EVENT_MAPPING_CHANGED,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],this.mapping.clone(),this.mapping=e)}isFiltered(){return o.d.prototype.isFiltered.call(this)}getFilter(){return o.d.prototype.getFilter.call(this)}setFilter(e={min:-1/0,max:1/0,filterMissing:!1}){o.d.prototype.setFilter.call(this,e)}filter(e,t){return o.d.prototype.filter.call(this,e,t)}}t.a=l,l.EVENT_MAPPING_CHANGED=o.d.EVENT_MAPPING_CHANGED,l.DEFAULT_FORMATTER=Object(a.format)(".3n")},function(e,t,n){"use strict";t.a=function(e="script"){return{type:"script",label:e,script:o}};var r=n(1),i=n(15),a=n(2);const o="let s = 0;\ncol.forEach((c) => s += c.v);\nreturn s / col.length";class s{constructor(e,t,n){this.c=e,this.v=t,this.raw=n}get type(){return this.c.desc.type}get name(){return this.c.getMetaData().label}get id(){return this.c.id}}class l{constructor(e,t){this.children=e,this.allFactory=t,this.lookup=new Map,this._all=null,e.forEach(e=>{this.lookup.set(`ID@${e.id}`,e),this.lookup.set(`NAME@${e.name}`,e)})}byName(e){return this.lookup.get(`NAME@${e}`)}byID(e){return this.lookup.get(`ID@${e}`)}byIndex(e){return this.children[e]}forEach(e){return this.children.forEach(e)}get length(){return this.children.length}get all(){return null===this._all&&(this._all=this.allFactory?this.allFactory():null),this._all}}class u extends i.a{constructor(e,t){super(e,t),this.script=u.DEFAULT_SCRIPT,this.f=null,this.script=t.script||this.script}createEventList(){return super.createEventList().concat([u.EVENT_SCRIPT_CHANGED])}setScript(e){this.script!==e&&(this.f=null,this.fire([u.EVENT_SCRIPT_CHANGED,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],this.script,this.script=e))}getScript(){return this.script}dump(e){const t=super.dump(e);return t.script=this.script,t}restore(e,t){this.script=e.script||this.script,super.restore(e,t)}compute(e,t){null==this.f&&(this.f=new Function("children","values","raws","col","row","index",function(e){let t=e.trim();return t.includes("return")||(t=`return (${t});`),`\n  const max = function(arr) { return Math.max.apply(Math, arr); };\n  const min = function(arr) { return Math.min.apply(Math, arr); };\n  const extent = function(arr) { return [min(arr), max(arr)]; };\n  const clamp = function(v, minValue, maxValue) { return v < minValue ? minValue : (v > maxValue ? maxValue : v); };\n  const normalize = function(v, minMax, max) {\n    if (Array.isArray(minMax)) {\n      minMax = minMax[0];\n      max = minMax[1];\n    }\n    return (v - minMax) / (max - minMax);\n  };\n  const denormalize = function(v, minMax, max) {\n    if (Array.isArray(minMax)) {\n      minMax = minMax[0];\n      max = minMax[1];\n    }\n    return v * (max - minMax) + minMax;\n  };\n  const linear = function(v, source, target) {\n    target = target || [0, 1];\n    return denormalize(normalize(v, source), target);\n  };\n  const v = (function custom() {\n    ${t}\n  })();\n\n  return typeof v === 'number' ? v : NaN`}(this.script)));const n=this._children,r=this._children.map(n=>n.getValue(e,t)),i=this._children.map(n=>Object(a.h)(n)?n.getRawNumber(e,t):null),o=new l(n.map((e,t)=>new s(e,r[t],i[t])),()=>{const n=this.findMyRanker().flatColumns;return new l(n.map(n=>new s(n,n.getValue(e,t),Object(a.h)(n)?n.getRawNumber(e,t):null)))});return this.f.call(this,n,r,i,o,e,t)}toSortingDesc(e){return{code:this.script,operands:this._children.map(t=>t.toSortingDesc(e))}}}t.b=u,u.EVENT_SCRIPT_CHANGED="scriptChanged",u.DEFAULT_SCRIPT=o},function(e,t,n){"use strict";var r=n(1),i=n(9),a=n(5);class o extends i.a{constructor(e,t){super(e,t),this.link=null,this.link=t.link||null}get headerCssClass(){return null==this.link?"link":"link link_pattern"}createEventList(){return super.createEventList().concat([o.EVENT_LINK_CHANGED])}setLink(e){e!=this.link&&this.fire([o.EVENT_LINK_CHANGED,r.a.EVENT_DIRTY_HEADER,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],this.link,this.link=e)}getLink(){return this.link||""}dump(e){const t=super.dump(e);return this.link!=this.desc.link&&(t.link=this.link),t}restore(e,t){super.restore(e,t),e.link&&(this.link=e.link)}getLabel(e,t){const n=super.getRaw(e,t);return n&&n.alt?n.alt:String(n)}isLink(e,t){const n=super.getRaw(e,t);return!Object(a.b)(n)&&(null!=n.href||this.link)}getValue(e,t){const n=super.getRaw(e,t);return n&&n.href?n.href:this.link?this.link.replace(/\$1/g,n||""):n}}t.a=o,o.EVENT_LINK_CHANGED="linkChanged"},function(e,t,n){"use strict";t.a=function(e="A"){return{type:"aggregate",label:e}};var r=n(1);class i extends r.a{constructor(e,t){super(e,t),this.setWidth(20)}createEventList(){return super.createEventList().concat([i.EVENT_AGGREGATE])}isAggregated(e){const t=this.findMyRanker();return!!this.desc.isAggregated&&this.desc.isAggregated(t,e)}setAggregated(e,t){const n=this.findMyRanker();return(this.desc.isAggregated&&this.desc.isAggregated(n,e))===t||(this.desc.setAggregated&&this.desc.setAggregated(n,e,t),this.fire(i.EVENT_AGGREGATE,n,e,t),!1)}}t.b=i,i.EVENT_AGGREGATE="aggregate"},function(e,t,n){"use strict";t.a=function(e="Imposition"){return{type:"imposition",label:e}};var r=n(11),i=n(8),a=n(2),o=n(10);class s extends r.a{constructor(e,t){super(e,t),this.setDefaultRenderer("number"),this.setDefaultGroupRenderer("boxplot")}getLabel(e,t){const n=this._children;return 0===n.length?"":1===n.length?n[0].getLabel(e,t):`${n[0].getLabel(e,t)} (${n.slice(1).map(n=>`${n.label} = ${n.getLabel(e,t)}`)})`}getValue(e,t){const n=this._children;return 0===n.length?NaN:n[0].getValue(e,t)}getColor(e,t){const n=this._children;return n.length<2?this.color:n[1].getColor(e,t)}getNumber(e,t){const n=this.getValue(e,t);return null===n?NaN:n}getRawNumber(e,t){return this.getNumber(e,t)}isMissing(e,t){return 0===this._children.length||this._children[0].isMissing(e,t)}compare(e,t,n,r){return i.d.prototype.compare.call(this,e,t,n,r)}groupCompare(e,t){return i.d.prototype.groupCompare.call(this,e,t)}insert(e,t){return(0!==this._children.length||Object(a.h)(e))&&(1!==this._children.length||Object(o.b)(e))?this._children.length>=2?null:super.insert(e,t):null}}t.b=s},function(e,t,n){"use strict";var r=n(0),i=n(4);class a{constructor(e="text",t="left"){this.textClass=e,this.align=t,this.title="String"}canRender(e){return!0}createDOM(e){return{template:`<div class="${this.textClass} ${this.align}"> </div>`,update:(t,n)=>{Object(i.b)(t,e,n),Object(r.r)(t,e.getLabel(n.v,n.dataIndex))}}}createCanvas(e,t){return(n,a,o)=>{if(Object(i.a)(n,e,a,t.rowHeight(o)))return;const s=n.textAlign;n.textAlign=this.align;const l=t.colWidth(e);let u=0;"center"===this.align?u=l/2:"right"===this.align&&(u=l),Object(r.d)(n,e.getLabel(a.v,a.dataIndex),u,0,l,t.textHints),n.textAlign=s}}static exampleText(e,t){let n=t.slice(0,5).map(t=>e.getLabel(t.v,t.dataIndex)).join(", ");return t.length>5&&(n+=", &hellip;"),n}createGroupDOM(e){return{template:`<div class="${this.textClass} ${this.align}"> </div>`,update:(t,n,r)=>{t.innerHTML=`\n            ${n.name} (${r.length})\n            <div>${a.exampleText(e,r)}</div>\n        `}}}createGroupCanvas(e,t){const n=t.colWidth(e);return(i,o,s)=>{Object(r.d)(i,`${o.name} (${s.length})`,0,2,n,t.textHints);const l=i.font;i.font='8pt "Helvetica Neue", Helvetica, Arial, sans-serif',Object(r.d)(i,a.exampleText(e,s),0,14,n,t.textHints),i.font=l}}}t.a=a},function(e,t,n){"use strict";var r,i=n(3),a=(n.n(i),n(0)),o=n(12),s=n(11),l=n(14),u=n(34),c=n(44);!function(e){e[e.DIRTY=0]="DIRTY",e[e.SCROLLED=1]="SCROLLED"}(r||(r={}));class d extends a.a{constructor(e,t,n,r,o={}){super(),this.data=e,this.slicer=n,this.options=Object(u.a)().body,this.histCache=new Map,Object(a.p)(this.options,o),this.$node=i.select(t).append(r).classed("lu-body",!0),this.changeDataStorage(e)}createEventList(){return super.createEventList().concat([d.EVENT_HOVER_CHANGED,d.EVENT_RENDER_FINISHED])}get node(){return this.$node.node()}setOption(e,t){this.options[e]=t}changeDataStorage(e){this.data&&this.data.on([`${l.a.EVENT_DIRTY_VALUES}.bodyRenderer`,`${l.a.EVENT_SELECTION_CHANGED}.bodyRenderer`],null),this.data=e,e.on(`${l.a.EVENT_DIRTY_VALUES}.bodyRenderer`,Object(a.f)(this.update.bind(this),1)),e.on(`${l.a.EVENT_SELECTION_CHANGED}.bodyRenderer`,Object(a.f)(this.drawSelection.bind(this),1))}showMeanLine(e){return this.options.meanLine&&Object(o.isNumberColumn)(e)&&e.parent instanceof o.Ranking}fireFinished(){this.fire(d.EVENT_RENDER_FINISHED,this)}createContext(e,t,n,r){const i=this.options;return{cellY:t=>(t+e)*this.options.rowHeight,cellPrevY:t=>(t+e)*this.options.rowHeight,idPrefix:i.idPrefix,totalNumberOfRows:t,option:Object(a.k)(i),renderer(e){return n(e,i.renderers,this)},groupRenderer(e){return r(e,i.renderers,this)}}}select(e,t=!1){return this.data.toggleSelection(e,t)}fakeHover(e){this.mouseOver(e,!0)}mouseOver(e,t=!0){this.fire(d.EVENT_HOVER_CHANGED,t?e:-1)}scrolled(){return this.update(r.SCROLLED)}showAggregatedGroup(e,t){return this.data.isAggregated(e,t)}resolveHistMap(e){return Promise.all(e.columns.map(e=>Promise.resolve(this.histCache.get(e.column.id)))).then(t=>{const n=new Map;return t.forEach((t,r)=>{t&&n.set(e.columns[r].column.id,t)}),n})}update(e=r.DIRTY){const t=this.data.getRankings(),n=t.every(e=>e.getGroups().length<=1),a=i.max(t,e=>i.sum(e.getGroups(),t=>this.showAggregatedGroup(e,t)?this.options.groupHeight:this.options.rowHeight*t.order.length))||0,o=i.max(t,e=>i.sum(e.getGroups(),e=>e.order.length)),l=n?this.slicer(0,o,e=>e*this.options.rowHeight):{from:0,to:1/0},u=this.createContextImpl(l.from,o),c=[].concat(...t.map(e=>e.getGroups().map(e=>(e=>0===l.from&&e.length<=l.to?e:e.slice(l.from,Math.min(e.length,l.to)))(e.order))));let d=0;const h=this.data.fetch(c),p=this.options.columnPadding;let f=0;const g=t.map(e=>{const t=e.children.filter(e=>!e.isHidden()),n=f;let r=0;const a=t.map(e=>{const t=r;return r+=e.getWidth()+p,Object(s.b)(e)&&!e.getCollapsed()&&(r+=p*(e.length-1)),{column:e,renderer:u.renderer(e),groupRenderer:u.groupRenderer(e),shift:t}});f+=r,f+=this.options.slopeWidth;const o=a.slice(0,this.options.freezeCols),l=d;d+=e.getGroups().length;let g=0;const m=e.getGroups().map((t,n)=>{const r=this.showAggregatedGroup(e,t),i=c[l+n],a=g,o=r?this.options.groupHeight:this.options.rowHeight*i.length;return g+=o,{group:t,order:i,data:h[l+n],aggregate:r,y:a,height:o}});return{id:e.id,ranking:e,shift:n,width:r,frozen:o,frozenWidth:Math.max(...o.map(e=>e.shift+e.column.getWidth())),columns:a.slice(this.options.freezeCols),groups:m,height:i.sum(m,e=>e.height)}});return f-=this.options.slopeWidth,this.updateImpl(g,u,f,a,e).then(this.fireFinished.bind(this))}}d.EVENT_HOVER_CHANGED=c.a,d.EVENT_RENDER_FINISHED=c.b,t.a=d},function(e,t,n){"use strict";var r=n(61);n.d(t,"a",function(){return r.a});n(62)},function(e,t,n){"use strict";function r(){return null}t.b=r,t.a=function(){const e=`lu${Math.random().toString(36).slice(-8).substr(0,3)}`,t=Object.assign({},i.renderers);return{idPrefix:e,header:{idPrefix:e,slopeWidth:150,columnPadding:5,headerHistogramHeight:40,headerHeight:20,manipulative:!0,summary:!1,filters:Object.assign({},a.a),summaries:Object.assign({},s.a),linkTemplates:[],searchAble:e=>e instanceof o.a,sortOnLabel:!0,autoRotateLabels:!1,rotationHeight:50,rotationDegree:-20,freezeCols:0,rankingButtons:r},renderingOptions:{stacked:!0,animation:!0,summary:!1,meanLine:!1,histograms:!1},body:{renderer:"svg",visibleRowsOnly:!0,backupScrollRows:5,rowHeight:16,groupHeight:70,groupPadding:5,rowPadding:2,columnPadding:5,textHeight:13,rowBarPadding:1,rowBarTopPadding:1,rowBarBottomPadding:1,idPrefix:"",slopeWidth:150,stacked:!0,animation:!1,animationDuration:1e3,renderers:t,meanLine:!1,actions:[],freezeCols:0},manipulative:!0,pool:!1,renderers:t}};var i=n(23),a=n(120),o=n(9),s=n(126)},function(e,t,n){"use strict";t.a=function(e="Nested"){return{type:"nested",label:e}};var r=n(75);class i extends r.a{compare(e,t,n,r){const i=this.children;for(const a of i){const i=a.compare(e,t,n,r);if(0!==i)return i}return 0}getLabel(e,t){return this.children.map(n=>n.getLabel(e,t)).join(";")}getValue(e,t){return this.children.map(n=>n.getValue(e,t)).join(";")}}t.b=i},function(e,t,n){"use strict";t.a=function(e="actions",t=[],n=[]){return{type:"actions",label:e,actions:t,groupActions:n}};var r=n(1);class i extends r.a{constructor(e,t){super(e,t),this.actions=t.actions||[],this.groupActions=t.groupActions||[]}getLabel(){return""}getValue(){return""}compare(){return 0}}t.b=i},function(e,t,n){"use strict";function r(e,t=1/0){const n=[],r=(e,i)=>{i>=t||0===e.children.length?n.push(e):e.children.forEach(e=>r(e,i+1))};return r(e,0),n}t.b=function(e){const t=[e];let n=0;for(;n<t.length;){const e=t[n++];t.push(...e.children)}return t};var i=n(3),a=(n.n(i),n(1)),o=n(7),s=n(9),l=n(5);class u extends o.a{constructor(e,t){super(e,t),this.currentMaxDepth=1/0,this.currentLeaves=[],this.currentLeavesNameCache=new Map,this.currentLeavesPathCache=new Map,this.separator=";",this.separator=t.separator||this.separator,this.hierarchySeparator=t.hierarchySeparator||".",this.hierarchy=this.initHierarchy(t.hierarchy),this.currentNode=this.hierarchy,this.currentLeaves=r(this.currentNode,this.currentMaxDepth),this.updateCaches(),this.setDefaultRenderer("categorical")}initHierarchy(e){const t=i.scale.category10().range().slice(),n=this.hierarchySeparator,r=(e,i)=>{const a=void 0===i.name?i.value:i.name;let o=-1;const s=(i.children||[]).map(i=>{if("string"==typeof i){const n=e+i;return{path:n,name:i,label:n,color:t[o++%t.length],children:[]}}const s=r(`${e}${a}${n}`,i);return s.color||(s.color=t[o++%t.length]),s}),l=e+a,u=i.label?`${i.label}`:l;return{path:l,name:a,children:s,label:u,color:i.color}};return r("",e)}createEventList(){return super.createEventList().concat([u.EVENT_CUTOFF_CHANGED])}get categories(){return this.currentLeaves.map(e=>e.name)}get categoryLabels(){return this.currentLeaves.map(e=>e.label)}get categoryColors(){return this.currentLeaves.map(e=>e.color)}getCutOff(){return{node:this.currentNode,maxDepth:this.currentMaxDepth}}setCutOff(e,t=1/0){if(this.currentNode===e&&this.currentMaxDepth===t)return;const n=this.getCutOff();this.currentNode=e,this.currentMaxDepth=t,this.currentLeaves=r(e,t),this.updateCaches(),this.fire([u.EVENT_CUTOFF_CHANGED,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],n,this.getCutOff())}resolveCategories(e,t){const n=s.a.prototype.getValue.call(this,e,t);return null===n||""===n?[]:n.split(this.separator).map(e=>(e=e.trim(),this.currentLeavesNameCache.has(e)?this.currentLeavesNameCache.get(e):this.currentLeavesPathCache.has(e)?this.currentLeavesPathCache.get(e):this.currentLeaves.find(t=>t.path===e||t.name===e||e.startsWith(t.path+this.hierarchySeparator)))).filter(e=>Boolean(e))}resolveCategory(e,t){const n=this.resolveCategories(e,t);return n.length>0?n[0]:null}getValue(e,t){const n=this.getValues(e,t);return n.length>0?n[0]:null}getValues(e,t){return this.resolveCategories(e,t).map(e=>e.name)}getLabel(e,t){return this.getLabels(e,t).join(this.separator)}getLabels(e,t){return this.resolveCategories(e,t).map(e=>e.label)}getFirstLabel(e,t){const n=this.getLabels(e,t);return n.length>0?n[0]:null}getCategories(e,t){return this.getValues(e,t)}getColor(e,t){const n=this.resolveCategory(e,t);return n?n.color:null}compare(e,t,n,r){const i=this.resolveCategories(e,n),a=this.resolveCategories(t,r);if(0===i.length)return 0===a.length?0:l.a;if(0===a.length)return-1*l.a;for(let e=0;e<Math.min(i.length,a.length);++e){const t=i[e].path.localeCompare(a[e].path);if(0!==t)return t}return i.length-a.length}group(e,t){const n=this.resolveCategory(e,t);return n?{name:n.name,color:n.color}:super.group(e,t)}updateCaches(){this.currentLeavesPathCache.clear(),this.currentLeavesNameCache.clear(),this.currentLeaves.forEach(e=>{this.currentLeavesPathCache.set(e.path,e),this.currentLeavesNameCache.set(e.name,e)})}}t.a=u,u.EVENT_CUTOFF_CHANGED="cutOffChanged"},function(e,t,n){"use strict";function r(e){return Math.ceil(Math.log(e)/Math.LN2)+1}t.c=r,t.b=function(e,t,n,a,o,s){if(0===e.length)return{min:NaN,max:NaN,mean:NaN,count:0,maxBin:0,hist:[],missing:0};let l=0;const u=e.map((e,r)=>a(e,t[r])?NaN:n(e,t[r])).reduce((e,t)=>(isNaN(t)?l++:e.push(t),e),[]),c=i.layout.histogram();o&&c.range(()=>o),s?c.bins(s):c.bins(r(e.length));const d=i.extent(u),h=c(u);return{min:d[0],max:d[1],mean:i.mean(u),count:e.length,maxBin:Math.max(...h.map(e=>e.y)),hist:h,missing:l}},t.a=function(e,t,n,r){const i=new Map;let a=0;r.forEach(e=>i.set(e,0)),e.forEach((e,r)=>{const o=n(e,t[r]);null!=o&&0!==o.length?o.forEach(e=>{i.set(e,(i.get(e)||0)+1)}):a+=1});const o=[];return i.forEach((e,t)=>o.push({cat:t,y:e})),{maxBin:Math.max(...o.map(e=>e.y)),hist:o,missing:a}};var i=n(3);n.n(i)},function(e,t,n){"use strict";class r{createGroupDOM(){return{template:"",update:()=>void 0}}createGroupCanvas(){return()=>void 0}}t.a=r},function(e,t,n){"use strict";function r(e){return`lu-stacked-${e.id}`}function i(e,t,n,r){const i=n&&t.option("stacked",!0),a=t.option("columnPadding",0);let o=0;return{cols:e.children.map(e=>{const n=o,s=e.getWidth();return o+=s,o+=i?0:a,{column:e,shift:n,width:s,renderer:t.renderer(e,r),groupRenderer:t.groupRenderer(e,r)}}),stacked:i,padding:a}}t.c=r,t.a=i;var a=n(0),o=n(86),s=n(11),l=n(41),u=n(4),c=n(2);class d extends o.a{constructor(e=!0){super(),this.nestingPossible=e,this.title=this.nestingPossible?"Stacked Bar":"Nested"}canRender(e){return Object(s.b)(e)}createDOM(e,t,n){const{cols:o,stacked:s,padding:c}=i(e,t,this.nestingPossible,n),d=t.option("useGridLayout",!1);return{template:`<div class='${e.desc.type} component${t.option("stackLevel",0)} ${d?r(e):""}${d&&!s?" lu-grid-space":""}'>${o.map(e=>e.renderer.template).join("")}</div>`,update:(t,n,r,i)=>{if(Object(u.b)(t,e,n))return;Object(a.o)(t,o,"detail","html");const h=Array.from(t.children),p=e.getWidth();let f=0;o.forEach((e,t)=>{const o=e.column.getWidth()/p,u=h[t];u.style.transform=s?`translate(-${Object(a.q)(f/o*100,4)}%,0)`:null,d?l.b?u.style.msGridColumn=(t+1).toString():u.style.gridColumnStart=(t+1).toString():(u.style.width=`${Object(a.q)(100*o,2)}%`,u.style.marginRight=s?null:`${c}px`),e.renderer.update(u,n,r,i),s&&(f+=(1-e.column.getValue(n.v,n.dataIndex))*o)})}}}createCanvas(e,t,n){const{cols:r,stacked:a}=i(e,t,this.nestingPossible,n);return(n,i,o,s,l,c)=>{if(Object(u.a)(n,e,i,t.rowHeight(o)))return;let d=0;r.forEach(e=>{const t=e.shift-d;n.translate(t,0),e.renderer(n,i,o,s+t,l,c),n.translate(-t,0),a&&(d+=e.width*(1-e.column.getValue(i.v,i.dataIndex)))})}}createGroupDOM(e,t,n){if(this.nestingPossible&&Object(c.h)(e))return super.createGroupDOM(e,t,n);const{cols:o,padding:s}=i(e,t,!1,n),u=t.option("useGridLayout",!1);return{template:`<div class='${e.desc.type} component${t.option("stackLevel",0)} ${u?r(e):""}${u?" lu-grid-space":""}'>${o.map(e=>e.groupRenderer.template).join("")}</div>`,update:(t,n,r)=>{Object(a.o)(t,o,"detail","html");const i=Array.from(t.children),c=e.getWidth();o.forEach((e,t)=>{const o=e.column.getWidth()/c,d=i[t];u?l.b?d.style.msGridColumn=(t+1).toString():d.style.gridColumnStart=(t+1).toString():(d.style.width=`${Object(a.q)(100*o,2)}%`,d.style.marginRight=`${s}px`),e.groupRenderer.update(d,n,r)})}}}createGroupCanvas(e,t,n){if(this.nestingPossible&&Object(c.h)(e))return super.createGroupCanvas(e,t,n);const{cols:r}=i(e,t,!1,n);return(e,t,n,i,a)=>{r.forEach(r=>{const o=r.shift;e.translate(o,0),r.groupRenderer(e,t,n,i+o,a,t),e.translate(-o,0)})}}aggregatedIndex(e,t){return console.assert(Object(c.h)(t)),Object(c.k)(e,t)}}t.b=d},function(e,t,n){"use strict";var r=n(87),i=(n.n(r),n(42));n.d(t,"a",function(){return i.a});var a=n(57);n.d(t,"b",function(){return a.b})},function(e,t,n){"use strict";t.b=function(e,t){r.b?e.style.msGridColumn=t.index+1:e.style.gridColumnStart=t.id,e.dataset.id=t.id};var r=n(57);class i extends r.a{constructor(e,t){super(e),this.id=t,this.extraScrollUpdater=[];const n=e.querySelector("header"),r=e.querySelector("main");r.addEventListener("scroll",()=>{const e=r.scrollLeft;n.scrollLeft=e,this.extraScrollUpdater.forEach(t=>t(e))})}static columnWidths(e,t="px"){const n=r.b?function(e,t){return`(${t})[${e}]`}:function(e,t){return`repeat(${e}, ${t})`};let i=0,a=0,o="";return e.forEach(({width:e})=>{i!==e?(a>0&&(o+=1===a?`${i}${t} `:`${n(a,`${i}${t}`)} `),a=1,i=e):a++}),a>0&&(o+=1===a?`${i}${t}`:`${n(a,`${i}${t}`)}`),o}static gridColumn(e,t,n="px"){const a=i.columnWidths(e,n);return r.b?`-ms-grid-columns: ${a};`:`grid-template-columns: ${a};\n      grid-template-areas: "${e.map(e=>e.id).join(" ")}";\n      grid-auto-columns: ${t}px;`}update(e,t,n,a,o,s="px"){const l=void 0!==o?this.tableIds(o,!0):{header:`${this.id} > header > article`,body:`${this.id} > main > article`};if(this.updateRule(`__heightsRule${l.body}`,`${l.body} > div {\n      height: ${e}px;\n    }`),0===t.length)return void this.deleteRule(`__widthRule${l.body}`);const u=i.gridColumn(t,n,s);r.b&&this.extraScrollUpdater.push(this.updateFrozenColumnsShift.bind(this,t,l,a,s)),this.updateRule(`__widthRule${l.body}`,`${l.body} > div, ${l.header} { ${u} }`),this.updateFrozen(t,l,a,s)}remove(e){const t=this.tableIds(e,!0);this.deleteRule(`__heightsRule${t.body}`),this.deleteRule(`__widthRule${t.body}`);const n=`__frozen${t.body}_`,r=this.ruleNames.reduce((e,t)=>e+(t.startsWith(n)?1:0),0);for(let e=0;e<r;++e)this.deleteRule(`${n}${e}`)}tableIds(e,t=!1){const n=this.id.startsWith("#")?this.id.slice(1):this.id;return{header:`${t?"#":""}${n}_H${e}`,body:`${t?"#":""}${n}_B${e}`}}updateFrozen(e,t,n,i){if(r.b)return;const a=`__frozen${t.body}_`,o=this.ruleNames.reduce((e,t)=>e+(t.startsWith(a)?1:0),0),s=e.filter(e=>e.frozen);if(s.length<=0||r.b){for(let e=0;e<o;++e)this.deleteRule(`${a}${e}`);return}let l=s[0].width;s.slice(1).forEach((e,n)=>{const r=`${t.body} > div > .frozen[data-id="${e.id}"], ${t.header} .frozen[data-id="${e.id}"] {\n        left: ${l}${i};\n      }`;l+=e.width,this.updateRule(`${a}${n}`,r)});for(let e=s.length-1;e<o;++e)this.deleteRule(`${a}${e}`)}updateFrozenColumnsShift(e,t,n,i,a){if(!r.b)return;const o=`__frozen${t.body}_`,s=this.ruleNames.reduce((e,t)=>e+(t.startsWith(o)?1:0),0);if(!e.some(e=>e.frozen)){for(let e=0;e<s;++e)this.deleteRule(`${o}${e}`);return}let l=0,u=0,c=0;e.forEach(e=>{if(e.frozen&&l<a+u){const n=`${t.body} > div > .frozen[data-id="${e.id}"], ${t.header} .frozen[data-id="${e.id}"] {\n          transform: translate(${a-l+u}${i}, 0);\n        }`;this.updateRule(`${o}${c++}`,n),u+=e.width}l+=e.width});for(let e=c;e<s;++e)this.deleteRule(`${o}${e}`)}}t.a=i},function(e,t,n){"use strict";t.b=function(e,t,n){const r=Array.from(e.children);r.length>t.length?r.slice(t.length).forEach(e=>e.remove()):t.length>r.length&&e.insertAdjacentHTML("beforeend",n.repeat(t.length-r.length))};var r=n(3),i=(n.n(r),n(4)),a=n(5),o=n(2);class s{canRender(e,t){return Object(o.i)(e)}static choose(e,t){const n=t.map(t=>e.getRawNumbers(t.v,t.dataIndex)),i=e.getDataLength(),o=[];for(let e=0;e<i;++e){const t=n.map(t=>t[e]).filter(e=>!Object(a.b)(e));o.push(Object(r.mean)(t))}return o}createDOM(e){const{templateRow:t,render:n}=this.createDOMContext(e);return{template:`<div>${t}</div>`,update:(t,r)=>{Object(i.b)(t,e,r)||n(t,e.getRawNumbers(r.v,r.dataIndex))}}}createGroupDOM(e){const{templateRow:t,render:n}=this.createDOMContext(e);return{template:`<div>${t}</div>`,update:(t,r,i)=>{const a=s.choose(e,i);n(t,a)}}}createCanvas(e,t){const n=this.createCanvasContext(e,t);return(r,a,o)=>{if(Object(i.a)(r,e,a,t.rowHeight(o)))return;const s=t.rowHeight(o);n(r,e.getRawNumbers(a.v,a.dataIndex),0,s)}}createGroupCanvas(e,t){const n=this.createCanvasContext(e,t);return(r,i,a)=>{const o=t.groupHeight(i),l=s.choose(e,a);n(r,l,0,o)}}}t.a=s},function(e,t,n){"use strict";t.a="hoverChanged";t.b="renderFinished"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciICB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEyNHB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCAxMjQgMzAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUwIDUwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgPHJlY3QgeD0iNTAiIHk9IjEzIiB3aWR0aD0iNCIgaGVpZ2h0PSI1IiBmaWxsPSIjMzMzIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImhlaWdodCIgYXR0cmlidXRlVHlwZT0iWE1MIiB2YWx1ZXM9IjU7MjE7NSIgYmVnaW49IjBzIiBkdXI9IjAuNnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJ5IiBhdHRyaWJ1dGVUeXBlPSJYTUwiIHZhbHVlcz0iMTM7IDU7IDEzIiBiZWdpbj0iMHMiIGR1cj0iMC42cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CiAgPHJlY3QgeD0iNjAiIHk9IjEzIiB3aWR0aD0iNCIgaGVpZ2h0PSI1IiBmaWxsPSIjMzMzIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImhlaWdodCIgYXR0cmlidXRlVHlwZT0iWE1MIiB2YWx1ZXM9IjU7MjE7NSIgYmVnaW49IjAuMTVzIiBkdXI9IjAuNnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPSJ5IiBhdHRyaWJ1dGVUeXBlPSJYTUwiIHZhbHVlcz0iMTM7IDU7IDEzIiBiZWdpbj0iMC4xNXMiIGR1cj0iMC42cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICA8L3JlY3Q+CiAgPHJlY3QgeD0iNzAiIHk9IjEzIiB3aWR0aD0iNCIgaGVpZ2h0PSI1IiBmaWxsPSIjMzMzIj4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9ImhlaWdodCIgYXR0cmlidXRlVHlwZT0iWE1MIiB2YWx1ZXM9IjU7MjE7NSIgYmVnaW49IjAuM3MiIGR1cj0iMC42cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiPjwvYW5pbWF0ZT4KICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9InkiIGF0dHJpYnV0ZVR5cGU9IlhNTCIgdmFsdWVzPSIxMzsgNTsgMTMiIGJlZ2luPSIwLjNzIiBkdXI9IjAuNnMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGU+CiAgPC9yZWN0Pgo8L3N2Zz4K"},function(e,t,n){"use strict";var r=n(1),i=n(9);class a extends i.a{constructor(e,t){super(e,t),this.annotations=new Map}createEventList(){return super.createEventList().concat([a.EVENT_VALUE_CHANGED])}getValue(e,t){return this.annotations.has(t)?this.annotations.get(t):super.getValue(e,t)}dump(e){const t=super.dump(e);return t.annotations={},this.annotations.forEach((e,n)=>{t.annotations[n]=e}),t}restore(e,t){super.restore(e,t),e.annotations&&Object.keys(e.annotations).forEach(t=>{this.annotations.set(Number(t),e.annotations[t])})}setValue(e,t,n){const i=this.getValue(e,t);return i===n||(""===n||null==n?this.annotations.delete(t):this.annotations.set(t,n),this.fire([a.EVENT_VALUE_CHANGED,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],t,i,n),!0)}}t.a=a,a.EVENT_VALUE_CHANGED="valueChanged"},function(e,t,n){"use strict";var r=n(1),i=n(7);class a extends i.a{constructor(e,t){super(e,t),this.currentFilter=null,this.trueMarker="X",this.falseMarker="",this.setWidthImpl(30),this.trueMarker=t.trueMarker||this.trueMarker,this.falseMarker=t.falseMarker||this.falseMarker}get categories(){return[this.trueMarker,this.falseMarker]}get categoryLabels(){return["True","False"]}get categoryColors(){return["green","red"]}getValue(e,t){const n=super.getValue(e,t);return void 0!==n&&null!=n&&(!0===n||"true"===n||"yes"===n||"x"===n)}isMissing(){return!1}getCategories(e,t){return this.getValue(e,t)?[this.trueMarker]:[this.falseMarker]}getColor(e,t){return this.getValue(e,t)?"green":"red"}getLabel(e,t){return this.getValue(e,t)?this.trueMarker:this.falseMarker}dump(e){const t=super.dump(e);return null!==this.currentFilter&&(t.filter=this.currentFilter),t}restore(e,t){super.restore(e,t),void 0!==e.filter&&(this.currentFilter=e.filter)}isFiltered(){return null!==this.currentFilter}filter(e,t){if(!this.isFiltered())return!0;return this.getValue(e,t)===this.currentFilter}getFilter(){return this.currentFilter}setFilter(e){this.currentFilter!==e&&this.fire([r.a.EVENT_FILTER_CHANGED,r.a.EVENT_DIRTY_VALUES,r.a.EVENT_DIRTY],this.currentFilter,this.currentFilter=e)}compare(e,t,n,r){const i=this.getValue(e,n),a=this.getValue(t,r);return i===a?0:i<a?-1:1}group(e,t){return this.getValue(e,t)?a.GROUP_TRUE:a.GROUP_FALSE}}t.a=a,a.GROUP_TRUE={name:"True",color:"black"},a.GROUP_FALSE={name:"False",color:"white"}},function(e,t,n){"use strict";t.a=function(e="Min"){return{type:"min",label:e}};var r=n(15);class i extends r.a{constructor(e,t){super(e,t),this.setDefaultRenderer("interleaving")}getColor(e,t){const n=this._children;if(0===n.length)return this.color;let r=0,i=n[0].getValue(e,t);for(let a=1;a<n.length;++a){const o=n[a].getValue(e,t);o<i&&(r=a,i=o),a++}return n[r].color}compute(e,t){return Math.min(...this._children.map(n=>n.getValue(e,t)))}toSortingDesc(e){return{operation:"min",operands:this._children.map(t=>t.toSortingDesc(e))}}get canJustAddNumbers(){return!0}}t.b=i},function(e,t,n){"use strict";t.a=function(e="Max"){return{type:"max",label:e}};var r=n(15);class i extends r.a{constructor(e,t){super(e,t),this.setDefaultRenderer("interleaving")}getColor(e,t){const n=this._children;if(0===n.length)return this.color;let r=0,i=n[0].getValue(e,t);for(let a=1;a<n.length;++a){const o=n[a].getValue(e,t);o>i&&(r=a,i=o)}return n[r].color}compute(e,t){return Math.max(...this._children.map(n=>n.getValue(e,t)))}toSortingDesc(e){return{operation:"max",operands:this._children.map(t=>t.toSortingDesc(e))}}get canJustAddNumbers(){return!0}}t.b=i},function(e,t,n){"use strict";t.a=function(e="Mean"){return{type:"mean",label:e}};var r=n(3),i=(n.n(r),n(15));class a extends i.a{compute(e,t){return Object(r.mean)(this._children,n=>n.getValue(e,t))}toSortingDesc(e){return{operation:"avg",operands:this._children.map(t=>t.toSortingDesc(e))}}get canJustAddNumbers(){return!0}}t.b=a},function(e,t,n){"use strict";var r=n(3),i=(n.n(r),n(1)),a=n(7),o=n(10),s=n(8);class l extends a.a{constructor(e,t){if(super(e,t),this.colors=r.scale.category10(),this.catLabels=new Map,this.scale=r.scale.ordinal().rangeRoundPoints([0,1]),this.currentFilter=null,this.separator=";",this.combiner=r.max,this.separator=t.separator||this.separator,o.a.prototype.initCategories.call(this,t),this.scale.domain(this.colors.domain()),t.categories){const e=t.categories.map(e=>"string"!=typeof e&&"number"==typeof e.value?e.value:.5);this.scale.range(e)}this.setDefaultRenderer("number"),this.setDefaultGroupRenderer("boxplot")}createEventList(){return super.createEventList().concat([l.EVENT_MAPPING_CHANGED])}get categories(){return this.colors.domain().slice()}get categoryColors(){return this.colors.range().slice()}get categoryLabels(){return null===this.catLabels||0===this.catLabels.size?this.categories:this.categories.map(e=>this.catLabels.has(e)?this.catLabels.get(e):e)}colorOf(e){return this.colors(e)}getLabel(e,t){return o.a.prototype.getLabel.call(this,e,t)}getFirstLabel(e,t){return o.a.prototype.getFirstLabel.call(this,e,t)}getLabels(e,t){return o.a.prototype.getLabels.call(this,e,t)}getValue(e,t){const n=this.getValues(e,t);return n.length>0?this.combiner(n):0}getValues(e,t){return o.a.prototype.getValues.call(this,e,t).map(this.scale)}getCategories(e,t){return o.a.prototype.getValues.call(this,e,t)}getNumber(e,t){return this.getValue(e,t)}isMissing(e,t){return 0===this.getLabels(e,t).length}getRawNumber(e,t){return this.getNumber(e,t)}getColor(e,t){const n=this.getValues(e,t),i=this.getColors(e,t);return this.combiner===r.max?i.slice(1).reduce((e,t,r)=>n[r+1]>e.v?{c:t,v:n[r+1]}:e,{c:i[0],v:n[0]}).c:this.combiner===r.min?i.slice(1).reduce((e,t,r)=>n[r+1]<e.v?{c:t,v:n[r+1]}:e,{c:i[0],v:n[0]}).c:i[0]||null}getColors(e,t){return o.a.prototype.getColors.call(this,e,t)}dump(e){const t=o.a.prototype.dump.call(this,e);return t.scale={domain:this.scale.domain(),range:this.scale.range(),separator:this.separator},t}restore(e,t){o.a.prototype.restore.call(this,e,t),e.scale&&this.scale.domain(e.scale.domain).range(e.scale.range),this.separator=e.separator||this.separator}getScale(){return{domain:this.scale.domain(),range:this.scale.range()}}getMapping(){return this.scale.range().slice()}setMapping(e){const t=this.getScale();this.scale.range(e),this.fire([l.EVENT_MAPPING_CHANGED,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],t,this.getScale())}isFiltered(){return null!=this.currentFilter}filter(e,t){return o.a.prototype.filter.call(this,e,t)}group(e,t){return o.a.prototype.group.call(this,e,t)}getFilter(){return this.currentFilter}setFilter(e){return o.a.prototype.setFilter.call(this,e)}compare(e,t,n,r){return s.d.prototype.compare.call(this,e,t,n,r)}groupCompare(e,t){return s.d.prototype.groupCompare.call(this,e,t)}getRendererType(){return s.d.prototype.getRendererType.call(this)}}t.a=l,l.EVENT_MAPPING_CHANGED=s.d.EVENT_MAPPING_CHANGED},function(e,t,n){"use strict";var r=n(3),i=(n.n(r),n(7)),a=n(1),o=n(8),s=n(5),l=n(2);class u extends i.a{constructor(e,t){super(e,t),this.currentFilter=Object(l.l)(),t.map?this.mapping=Object(o.c)(t.map):t.domain&&(this.mapping=new o.a(t.domain,"linear",t.range||[0,1])),this.original=this.mapping.clone(),this.dataLength=t.dataLength,this.threshold=t.threshold||0,this.colorRange=t.colorRange||["blue","red"],this.sort=t.sort||l.d.median,this.setWidth(Math.min(Math.max(100,10*this.dataLength),500)),this.splicer={length:this.dataLength,splice:e=>e}}setSplicer(e){this.fire([u.EVENT_SPLICE_CHANGED,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY_HEADER,a.a.EVENT_DIRTY],this.splicer,this.splicer=e)}getSplicer(){return this.splicer}compare(e,t,n,r){return Object(l.e)(this,e,t,n,r)}getColorRange(){return this.colorRange.slice()}getRawColorScale(){const e=r.scale.linear(),t=this.mapping.domain;return t[0]<0?e.domain([t[0],0,t[1]]).range([this.colorRange[0],this.colorRange.length>2?this.colorRange[1]:"white",this.colorRange[this.colorRange.length-1]]):e.domain([t[0],t[1]]).range([this.colorRange[0],this.colorRange[this.colorRange.length-1]]),e}getRawNumbers(e,t){return this.getRawValue(e,t)}getDataLength(){return this.splicer?this.splicer.length:this.dataLength}getThreshold(){return this.threshold}getBoxPlotData(e,t){const n=this.getRawValue(e,t);return null===n?null:new l.c(n,this.mapping)}getRange(){return this.mapping.getRange(l.b)}getRawBoxPlotData(e,t){const n=this.getRawValue(e,t);return null===n?null:new l.c(n)}getNumbers(e,t){return this.getValue(e,t)}getNumber(e,t){return Object(l.f)(this,e,t,"normalized")}getRawNumber(e,t){return Object(l.f)(this,e,t,"raw")}getValue(e,t){return this.getRawValue(e,t).map(e=>Object(s.b)(e)?NaN:this.mapping.apply(e))}getRawValue(e,t){let n=super.getValue(e,t);return this.splicer&&null!==n&&(n=this.splicer.splice(n)),null===n?[]:n}getLabel(e,t){const n=this.getRawValue(e,t);return null===n?"":`[${n.map(l.b).join(", ")}]`}getSortMethod(){return this.sort}setSortMethod(e){this.sort!==e&&(this.fire([a.a.EVENT_SORTMETHOD_CHANGED],this.sort,this.sort=e),this.isSortedByMe().asc||this.sortByMe())}dump(e){const t=super.dump(e);return t.sortMethod=this.getSortMethod(),t.filter=Object(l.j)(this.currentFilter,Object(l.l)())?null:this.currentFilter,t.map=this.mapping.dump(),t}restore(e,t){super.restore(e,t),e.sortMethod&&(this.sort=e.sortMethod),e.filter&&(this.currentFilter=Object(l.n)(e.filter)),e.map?this.mapping=Object(o.c)(e.map):e.domain&&(this.mapping=new o.a(e.domain,"linear",e.range||[0,1]))}createEventList(){return super.createEventList().concat([u.EVENT_MAPPING_CHANGED,u.EVENT_SPLICE_CHANGED])}getOriginalMapping(){return this.original.clone()}getMapping(){return this.mapping.clone()}setMapping(e){this.mapping.eq(e)||this.fire([u.EVENT_MAPPING_CHANGED,a.a.EVENT_DIRTY_VALUES,a.a.EVENT_DIRTY],this.mapping.clone(),this.mapping=e)}isFiltered(){return o.d.prototype.isFiltered.call(this)}getFilter(){return o.d.prototype.getFilter.call(this)}setFilter(e={min:-1/0,max:1/0,filterMissing:!1}){o.d.prototype.setFilter.call(this,e)}filter(e,t){return o.d.prototype.filter.call(this,e,t)}}t.a=u,u.EVENT_MAPPING_CHANGED=o.d.EVENT_MAPPING_CHANGED,u.EVENT_SPLICE_CHANGED="spliceChanged"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14);n.d(t,"DataProvider",function(){return r.a});var i=n(78);n.d(t,"LocalDataProvider",function(){return i.a});var a=n(79);n.d(t,"RemoteDataProvider",function(){return a.a});var o=n(55);n.d(t,"deriveColumnDescriptions",function(){return o.a})},function(e,t,n){"use strict";class r{constructor(e=[]){this[Symbol.toStringTag]=Symbol("OrderedSet"),this.set=new Set,this.list=[],this.addAll(e)}get size(){return this.set.size}clear(){this.set.clear(),this.list.splice(0,this.list.length)}addAll(e){return e.forEach(e=>this.add(e)),this}add(e){return this.set.has(e)?this:(this.set.add(e),this.list.push(e),this)}has(e){return this.set.has(e)}delete(e){if(!this.set.delete(e))return!1;const t=this.list.indexOf(e);return console.assert(t>=0),this.list.splice(t,1),!0}deleteAll(e){return e.reduce((e,t)=>this.delete(t)&&e,!0)}forEach(e,t){this.list.forEach(function(t){e.call(this,t,t,this)},t)}[Symbol.iterator](){return this.list[Symbol.iterator]()}}t.a=r},function(e,t,n){"use strict";function r(e,t,n,r,a){const o={type:"string",label:e,column:n};if("number"==typeof t)return o.type="number",o.domain=Object(i.extent)(r,e=>e[n]),o;if("boolean"==typeof t)return o.type="boolean",o;if("string"==typeof t){const e=new Set(r.map(e=>e[n]));return e.size<r.length*a.categoricalThreshold&&(o.type="categorical",o.categories=e),o}return o}t.a=function(e,t={}){const n=Object.assign({categoricalThreshold:.7},t),i=[];if(0===e.length)return i;const a=e[0];return Array.isArray(a)?a.map((t,i)=>r(`Col${i}`,t,i,e,n)):Object.keys(a).map(t=>r(t,a[t],t,e,n))},t.b=function(e,t,n={}){function r(e,t){return!(i.quote||e.indexOf("\n")>=0)||t&&Object(a.isNumberColumn)(t)?e:`${i.quoteChar}${e.replace(o,i.quoteChar+i.quoteChar)}${i.quoteChar}`}const i=Object.assign({separator:"\t",newline:"\n",header:!0,quote:!1,quoteChar:'"',filter:e=>!Object(a.isSupportType)(e),verboseColumnHeaders:!1},n),o=new RegExp(`[${i.quoteChar}]`,"g"),s=e.flatColumns.filter(e=>i.filter(e.desc)),l=e.getOrder(),u=[];return i.header&&u.push(s.map(e=>r(`${e.label}${i.verboseColumnHeaders&&e.description?`\n${e.description}`:""}`)).join(i.separator)),t.forEach((e,t)=>{u.push(s.map(n=>r(n.getLabel(e,l[t]),n)).join(i.separator))}),u.join(i.newline)};var i=n(3),a=(n.n(i),n(12))},function(e,t,n){"use strict";function r(e,t,n,r){const i=r.column;return function(e){return"string"==typeof e&&e.indexOf(".")>=0}(i)?function(e,t){return e.split(".").reduce((e,t)=>void 0===e?e:/\d+/.test(t)?e[+t]:e[t],t)}(i,e):e[i]}var i=n(12),a=n(13),o=n(14);class s extends o.a{constructor(e=[],t={}){super(t),this.columns=e,this.rankingIndex=0,this.ranks=new Map,e.forEach(e=>{e.accessor=e.accessor||r,e.label=e.label||e.column})}rankAccessor(e,t,n,r,i){const a=this.ranks.get(i.id)||[];let o=0;for(const e of a){const n=e.order.indexOf(t);if(n>=0)return o+n+1;o+=e.order.length}return-1}getMaxNestedSortingCriteria(){return 1}getMaxGroupColumns(){return 1}cloneRanking(e){const t=this.nextRankingId(),n=new a.a(t,this.getMaxNestedSortingCriteria(),this.getMaxGroupColumns());return e?(this.ranks.set(t,this.ranks.get(e.id)),e.children.forEach(e=>{this.push(n,e.desc)})):n.push(this.create(Object(i.createRankDesc)())),n}cleanUpRanking(e){this.ranks.delete(e.id)}sort(e){const t=this.sortImpl(e);return Array.isArray(t)?(this.ranks.set(e.id,t),t):t.then(t=>(this.ranks.set(e.id,t),t))}pushDesc(e){const t=e;t.accessor=t.accessor||r,t.label=e.label||t.column,this.columns.push(e),this.fire(o.a.EVENT_ADD_DESC,t)}clearColumns(){this.clearRankings(),this.columns.splice(0,this.columns.length),this.fire(o.a.EVENT_CLEAR_DESC)}getColumns(){return this.columns.slice()}findDesc(e){return this.columns.filter(t=>t.column===e)[0]}toDescRef(e){return void 0!==e.column?`${e.type}@${e.column}`:e}fromDescRef(e){return"string"==typeof e?this.columns.find(t=>`${t.type}@${t.column}`===e):e}restore(e){super.restore(e),this.rankingIndex=1+Math.max(...this.getRankings().map(e=>+e.id.substring(4)))}nextRankingId(){return`rank${this.rankingIndex++}`}}t.a=s},function(e,t,n){"use strict";const r="undefined"!=typeof CSS&&CSS.supports("(-ms-ime-align:auto)");t.b=r;class i{constructor(e){this.rules=new Map,this.node=e.ownerDocument.createElement("style"),e.appendChild(this.node),r&&e.classList.add("ms-edge")}get stylesheet(){const e=this.node.sheet;return this.rules.size>0&&0===e.cssRules.length&&this.rules.forEach(t=>{t.index=e.cssRules.length,e.insertRule(t.rule.cssText),t.rule=e.cssRules.item(t.index)}),e}destroy(){this.node.remove()}addRule(e,t){const n=this.stylesheet.cssRules.length;return this.stylesheet.insertRule(t,n),this.rules.set(e,{rule:this.stylesheet.cssRules[n],index:n}),e}findIndex(e,t){return this.stylesheet.cssRules[e]===t?e:Array.from(this.stylesheet.cssRules).indexOf(t)}updateRule(e,t){const n=this.rules.get(e);return n?(n.index=this.findIndex(n.index,n.rule),this.stylesheet.deleteRule(n.index),this.stylesheet.insertRule(t,n.index),n.rule=this.stylesheet.cssRules[n.index],e):this.addRule(e,t)}deleteRule(e){const t=this.rules.get(e);t&&(t.index=this.findIndex(t.index,t.rule),this.stylesheet.deleteRule(t.index),this.rules.delete(e))}get ruleNames(){return Array.from(this.rules.keys())}}t.a=i},function(e,t,n){"use strict";var r=n(0),i=n(4);class a{constructor(){this.title="Color"}canRender(){return!1}createDOM(e){return{template:'<div style="background-color: transparent" title=""></div>',update:(t,n)=>{const r=Object(i.b)(t,e,n);t.style.backgroundColor=r?null:e.getColor(n.v,n.dataIndex),t.title=e.getLabel(n.v,n.dataIndex)}}}createCanvas(e,t){return(n,r,a)=>{Object(i.a)(n,e,r,t.rowHeight(a))||(n.fillStyle=e.getColor(r.v,r.dataIndex)||"",n.fillRect(0,0,t.colWidth(e),t.rowHeight(a)))}}static choose(e,t){const n=new Map;e.categories.forEach(e=>n.set(e,0)),t.forEach(t=>e.getCategories(t.v,t.dataIndex).forEach(e=>n.set(e,(n.get(e)||0)+1)));let r=0,i=0;return e.categories.forEach((e,t)=>{const a=n.get(e);a>r&&(r=a,i=t)}),{count:r,label:e.categoryLabels[i],color:e.categoryColors[i]}}createGroupDOM(e){return{template:'<div style="background-color: white"></div>',update:(t,n,r)=>{const{count:i,label:o,color:s}=a.choose(e,r);t.textContent=`${o} (${i})`,t.style.backgroundColor=s}}}createGroupCanvas(e,t){const n=t.colWidth(e);return(i,o,s)=>{const l=t.groupHeight(o),{count:u,label:c,color:d}=a.choose(e,s);i.fillStyle=d,i.fillRect(0,0,n,l),i.fillStyle=t.option("style.text","black");const h=i.textAlign;i.textAlign="center",Object(r.d)(i,`${c} (${u})`,n/2,l/2,n,t.textHints),i.textAlign=h}}}t.a=a},function(e,t,n){"use strict";(function(e){function n(e){return e&&"[object Function]"==={}.toString.call(e)}function r(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function i(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function a(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=r(e),n=t.overflow,o=t.overflowX,s=t.overflowY;return/(auto|scroll)/.test(n+s+o)?e:a(i(e))}function o(e){var t=e&&e.offsetParent,n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===r(t,"position")?o(t):t:e?e.ownerDocument.documentElement:document.documentElement}function s(e){return null!==e.parentNode?s(e.parentNode):e}function l(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var u=a.commonAncestorContainer;if(e!==u&&t!==u||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||o(e.firstElementChild)===e)}(u)?u:o(u);var c=s(e);return c.host?l(c.host,t):l(e,s(t).host)}function u(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function c(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function d(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],G()?n["offset"+e]+r["margin"+("Height"===e?"Top":"Left")]+r["margin"+("Height"===e?"Bottom":"Right")]:0)}function h(){var e=document.body,t=document.documentElement,n=G()&&getComputedStyle(t);return{height:d("Height",e,t,n),width:d("Width",e,t,n)}}function p(e){return q({},e,{right:e.left+e.width,bottom:e.top+e.height})}function f(e){var t={};if(G())try{t=e.getBoundingClientRect();var n=u(e,"top"),i=u(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}catch(e){}else t=e.getBoundingClientRect();var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?h():{},s=o.width||e.clientWidth||a.right-a.left,l=o.height||e.clientHeight||a.bottom-a.top,d=e.offsetWidth-s,f=e.offsetHeight-l;if(d||f){var g=r(e);d-=c(g,"x"),f-=c(g,"y"),a.width-=d,a.height-=f}return p(a)}function g(e,t){var n=G(),i="HTML"===t.nodeName,o=f(e),s=f(t),l=a(e),c=r(t),d=parseFloat(c.borderTopWidth,10),h=parseFloat(c.borderLeftWidth,10),g=p({top:o.top-s.top-d,left:o.left-s.left-h,width:o.width,height:o.height});if(g.marginTop=0,g.marginLeft=0,!n&&i){var m=parseFloat(c.marginTop,10),v=parseFloat(c.marginLeft,10);g.top-=d-m,g.bottom-=d-m,g.left-=h-v,g.right-=h-v,g.marginTop=m,g.marginLeft=v}return(n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=u(t,"top"),i=u(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}(g,t)),g}function m(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===r(e,"position")||m(i(e)))}function v(e,t,n,r){var o={top:0,left:0},s=l(e,t);if("viewport"===r)o=function(e){var t=e.ownerDocument.documentElement,n=g(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),i=Math.max(t.clientHeight,window.innerHeight||0),a=u(t),o=u(t,"left");return p({top:a-n.top+n.marginTop,left:o-n.left+n.marginLeft,width:r,height:i})}(s);else{var c=void 0;"scrollParent"===r?"BODY"===(c=a(i(t))).nodeName&&(c=e.ownerDocument.documentElement):c="window"===r?e.ownerDocument.documentElement:r;var d=g(c,s);if("HTML"!==c.nodeName||m(s))o=d;else{var f=h(),v=f.height,b=f.width;o.top+=d.top-d.marginTop,o.bottom=v+d.top,o.left+=d.left-d.marginLeft,o.right=b+d.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function b(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=v(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(s).map(function(e){return q({key:e},s[e],{area:function(e){return e.width*e.height}(s[e])})}).sort(function(e,t){return t.area-e.area}),u=l.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function y(e,t,n){return g(n,l(t,n))}function E(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function x(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function _(e,t,n){n=n.split("-")[0];var r=E(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",l=a?"height":"width",u=a?"width":"height";return i[o]=t[o]+t[l]/2-r[l]/2,i[s]=n===s?t[s]-r[u]:t[x(s)],i}function C(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function w(e,t,r){return(void 0===r?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=C(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",r))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=e.function||e.fn;e.enabled&&n(r)&&(t.offsets.popper=p(t.offsets.popper),t.offsets.reference=p(t.offsets.reference),t=r(t,e))}),t}function N(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function M(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length-1;r++){var i=t[r],a=i?""+i+n:e;if(void 0!==document.body.style[a])return a}return null}function T(e){var t=e.ownerDocument;return t?t.defaultView:window}function R(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||R(a(o.parentNode),t,n,r),r.push(o)}function S(){this.state.eventsEnabled||(this.state=function(e,t,n,r){n.updateBound=r,T(e).addEventListener("resize",n.updateBound,{passive:!0});var i=a(e);return R(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}(this.reference,this.options,this.state,this.scheduleUpdate))}function O(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return T(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function D(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function A(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&D(t[n])&&(r="px"),e.style[n]=t[n]+r})}function k(e,t,n){var r=C(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}function L(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=B.indexOf(e),r=B.slice(n+1).concat(B.slice(0,n));return t?r.reverse():r}function I(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=o.indexOf(C(o,function(e){return-1!==e.search(/,|\s/)}));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return(u=u.map(function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return p(s)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){D(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}for(var V="undefined"!=typeof window&&"undefined"!=typeof document,$=["Edge","Trident","Firefox"],H=0,j=0;j<$.length;j+=1)if(V&&navigator.userAgent.indexOf($[j])>=0){H=1;break}var P=V&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},H))}},F=void 0,G=function(){return void 0===F&&(F=-1!==navigator.appVersion.indexOf("MSIE 10")),F},z=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},U=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),W=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],B=Y.slice(3),Z={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},J={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:W({},l,a[l]),end:W({},l,a[l]+a[u]-o[u])};e.offsets.popper=q({},o,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],l=void 0;return l=D(+n)?[+n,0]:I(n,a,o,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||o(e.instance.popper);e.instance.reference===n&&(n=o(n));var r=v(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=r;var i=t.priority,a=e.offsets.popper,s={primary:function(e){var n=a[e];return a[e]<r[e]&&!t.escapeWithReference&&(n=Math.max(a[e],r[e])),W({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=a[n];return a[e]>r[e]&&!t.escapeWithReference&&(i=Math.min(a[n],r[e]-("right"===e?a.width:a.height))),W({},n,i)}};return i.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";a=q({},a,s[t](e))}),e.offsets.popper=a,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",l=o?"left":"top",u=o?"width":"height";return n[s]<a(r[l])&&(e.offsets.popper[l]=a(r[l])-n[u]),n[l]>a(r[s])&&(e.offsets.popper[l]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!k(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],o=e.offsets,s=o.popper,l=o.reference,u=-1!==["left","right"].indexOf(a),c=u?"height":"width",d=u?"Top":"Left",h=d.toLowerCase(),f=u?"left":"top",g=u?"bottom":"right",m=E(i)[c];l[g]-m<s[h]&&(e.offsets.popper[h]-=s[h]-(l[g]-m)),l[h]+m>s[g]&&(e.offsets.popper[h]+=l[h]+m-s[g]),e.offsets.popper=p(e.offsets.popper);var v=l[h]+l[c]/2-m/2,b=r(e.instance.popper),y=parseFloat(b["margin"+d],10),x=parseFloat(b["border"+d+"Width"],10),_=v-e.offsets.popper[h]-y-x;return _=Math.max(Math.min(s[c]-m,_),0),e.arrowElement=i,e.offsets.arrow=(n={},W(n,h,Math.round(_)),W(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(N(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=v(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),r=e.placement.split("-")[0],i=x(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case Z.FLIP:o=[r,i];break;case Z.CLOCKWISE:o=L(r);break;case Z.COUNTERCLOCKWISE:o=L(r,!0);break;default:o=t.behavior}return o.forEach(function(s,l){if(r!==s||o.length===l+1)return e;r=e.placement.split("-")[0],i=x(r);var u=e.offsets.popper,c=e.offsets.reference,d=Math.floor,h="left"===r&&d(u.right)>d(c.left)||"right"===r&&d(u.left)<d(c.right)||"top"===r&&d(u.bottom)>d(c.top)||"bottom"===r&&d(u.top)<d(c.bottom),p=d(u.left)<d(n.left),f=d(u.right)>d(n.right),g=d(u.top)<d(n.top),m=d(u.bottom)>d(n.bottom),v="left"===r&&p||"right"===r&&f||"top"===r&&g||"bottom"===r&&m,b=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(b&&"start"===a&&p||b&&"end"===a&&f||!b&&"start"===a&&g||!b&&"end"===a&&m);(h||v||y)&&(e.flipped=!0,(h||v)&&(r=o[l+1]),y&&(a="end"===a?"start":"start"===a?"end":a),e.placement=r+(a?"-"+a:""),e.offsets.popper=q({},e.offsets.popper,_(e.instance.popper,e.offsets.reference,e.placement)),e=w(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),e.placement=x(t),e.offsets.popper=p(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!k(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=C(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=C(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==a?a:t.gpuAcceleration,l=f(o(e.instance.popper)),u={position:i.position},c={left:Math.floor(i.left),top:Math.floor(i.top),bottom:Math.floor(i.bottom),right:Math.floor(i.right)},d="bottom"===n?"top":"bottom",h="right"===r?"left":"right",p=M("transform"),g=void 0,m=void 0;if(m="bottom"===d?-l.height+c.bottom:c.top,g="right"===h?-l.width+c.right:c.left,s&&p)u[p]="translate3d("+g+"px, "+m+"px, 0)",u[d]=0,u[h]=0,u.willChange="transform";else{var v="bottom"===d?-1:1,b="right"===h?-1:1;u[d]=m*v,u[h]=g*b,u.willChange=d+", "+h}var y={"x-placement":e.placement};return e.attributes=q({},y,e.attributes),e.styles=q({},u,e.styles),e.arrowStyles=q({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return A(e.instance.popper,e.styles),function(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&A(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=y(0,t,e),o=b(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),A(t,{position:"absolute"}),n},gpuAcceleration:void 0}}},X=function(){function e(t,r){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};z(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=P(this.update.bind(this)),this.options=q({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=r&&r.jquery?r[0]:r,this.options.modifiers={},Object.keys(q({},e.Defaults.modifiers,a.modifiers)).forEach(function(t){i.options.modifiers[t]=q({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return q({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&n(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return U(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=y(this.state,this.popper,this.reference),e.placement=b(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=_(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=w(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[M("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return S.call(this)}},{key:"disableEventListeners",value:function(){return O.call(this)}}]),e}();X.Utils=("undefined"!=typeof window?window:e).PopperUtils,X.placements=Y,X.Defaults=J,t.a=X}).call(t,n(107))},function(e,t,n){"use strict";function r(e){let t=e.getFilter()||"";const n=t,r=t===i.a.FILTER_MISSING;return r&&(t=""),{original:n,template:`<input type="text" placeholder="containing..." autofocus value="${t instanceof RegExp?t.source:t}" style="width: 100%">\n  <br><label><input type="checkbox" ${t instanceof RegExp?'checked="checked"':""}>RegExp</label>\n  ${Object(a.b)(r)}`,update(e){const n=e.querySelector('input[type="checkbox"]:first-of-type'),i=e.querySelector('input[type="checkbox"].lu_filter_missing'),a=e.querySelector('input[type="text"]');n.checked=t instanceof RegExp,i.checked=r,a.value!==t&&(a.value=t instanceof RegExp?t.source:t)},init(t,n){function r(e){let t=s.value;o.checked&&""===t&&(t=i.a.FILTER_MISSING),""!==t?t.length<3&&!e||(a.checked&&t!==i.a.FILTER_MISSING&&(t=new RegExp(t)),l(t)):l(t)}const a=t.querySelector('input[type="checkbox"]:first-of-type'),o=t.querySelector('input[type="checkbox"].lu_filter_missing'),s=t.querySelector('input[type="text"]'),l=t=>{n&&n(null!=t&&""!==t),e.setFilter(t)};return a.onchange=(()=>r(!1)),o.onchange=(()=>r(!1)),s.oninput=(()=>r(!1)),r}}}t.b=r;var i=n(9),a=n(16);class o extends a.a{constructor(e,t,n="Filter"){super(e,t,n)}openDialog(){const e=r(this.column),t=this.makePopup(e.template),n=e=>{this.markFiltered(null!=e&&""!==e),this.column.setFilter(e)},i=e.init(t.querySelector("form"),e=>this.markFiltered(e));this.onButton(t,{cancel:()=>{n(e.original)},reset:()=>{t.querySelector('input[type="text"]').value="",Array.from(t.querySelectorAll("input[type=checkbox")).forEach(e=>e.checked=!1),n(null)},submit:()=>(i(!0),!0)})}}t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r;!function(e){e[e.NONE=0]="NONE",e[e.ALL=1]="ALL",e[e.PARTIAL=2]="PARTIAL"}(r||(r={}))},function(e,t,n){"use strict";var r=n(17),i=n(61);class a{constructor(e,t){return this.adapter=e,this.prefetchTimeout=-1,this.options={prefetchRows:20,cleanUpRows:3,delay:50},Object.assign(this.options,t),this}prefetchDown(){this.prefetchTimeout=-1;const e=this.adapter.context,t=Math.min(this.adapter.visible.last+this.options.prefetchRows,e.numberOfRows-1);this.adapter.visible.last===t&&this.adapter.visible.last>=this.adapter.visible.forcedLast+this.options.prefetchRows||(this.adapter.addAtBottom(this.adapter.visible.last+1,t),this.adapter.visible.last=t)}prefetchUp(){if(this.prefetchTimeout=-1,this.adapter.visible.first<=this.adapter.visible.forcedFirst-this.options.prefetchRows)return;const e=this.adapter.context,t=this.adapter.scroller,n=Math.max(t.scrollTop-this.options.prefetchRows*e.defaultRowHeight,0),i=t.clientHeight,{first:a,firstRowPos:o}=Object(r.c)(n,i,e.defaultRowHeight,e.exceptions,e.numberOfRows);if(a===this.adapter.visible.first)return;const s=this.adapter.syncFrozen?this.adapter.syncFrozen(a):0;this.adapter.addAtBeginning(a,this.adapter.visible.first-1,s),this.adapter.visible.first=a,this.adapter.updateOffset(o)}triggerPrefetch(e){this.prefetchTimeout>=0&&clearTimeout(this.prefetchTimeout),e&&this.adapter.visible.last>=this.adapter.visible.forcedLast+this.options.prefetchRows||!e&&this.adapter.visible.first<=this.adapter.visible.forcedFirst-this.options.prefetchRows||(this.prefetchTimeout=setTimeout(e?this.prefetchDown.bind(this):this.prefetchUp.bind(this),this.options.delay))}cleanUpTop(e){this.prefetchTimeout=-1;const t=Math.max(0,e-this.options.cleanUpRows);if(t<=this.adapter.visible.first)return;const n=this.adapter.syncFrozen?this.adapter.syncFrozen(t):0;this.adapter.removeFromBeginning(this.adapter.visible.first,t-1,n);const r=this.adapter.context;let i=(t-this.adapter.visible.first)*r.defaultRowHeight;if(r.exceptions.length>0)for(let e=this.adapter.visible.first;e<t;++e)r.exceptionsLookup.has(e)&&(i+=r.exceptionsLookup.get(e)-r.defaultRowHeight);this.adapter.visible.first=t,this.adapter.updateOffset(this.adapter.visibleFirstRowPos+i),this.prefetchDown()}cleanUpBottom(e){this.prefetchTimeout=-1;const t=e+this.options.cleanUpRows;this.adapter.visible.last<=t||(this.adapter.removeFromBottom(t+1,this.adapter.visible.last),this.adapter.visible.last=t,this.prefetchUp())}triggerCleanUp(e,t,n){this.prefetchTimeout>=0&&clearTimeout(this.prefetchTimeout),n&&e-this.options.cleanUpRows<=this.adapter.visible.first||!n&&this.adapter.visible.last<=t+this.options.cleanUpRows||(this.prefetchTimeout=setTimeout(n?this.cleanUpTop.bind(this):this.cleanUpBottom.bind(this),this.options.delay,n?e:t))}onScrolled(e,t){t===i.a.NONE?this.options.cleanUpRows>0&&this.triggerCleanUp(this.adapter.visible.forcedFirst,this.adapter.visible.forcedLast,e):this.options.prefetchRows>0&&this.triggerPrefetch(e)}}t.a=a},function(e,t,n){"use strict";class r{constructor(e,t){this.context=e,this.key=t,this.cache=[],this.lastFilled=0,this.key2index=new Map,this.context.exceptions.forEach(e=>{this.cache[e.index]=e.y,this.key2index.set(t(e.index),e.index)})}findValidStart(e){for(let t=e-1;t>=0;--t)if(void 0!==this.cache[t])return t;return-1}posByKey(e){if(this.key2index.has(e)){const t=this.key2index.get(e);return{index:t,pos:this.pos(t)}}return this.fillCacheTillKey(e)}pos(e){if(0===this.context.exceptions.length)return e*this.context.defaultRowHeight;const t=this.cache[e];if(void 0!==t)return t;const n=this.findValidStart(e);return n<0?this.fillCache(0,e,0):this.fillCache(n+1,e,this.cache[n]+this.heightOf(n)),this.cache[e]}fillCache(e,t,n,r){if(t<=this.lastFilled){if(!r)return;for(let n=e;n<=t;++n)r(n,this.key(n),this.cache[n]);return}let i=n;for(let n=e;n<=t;++n){this.cache[n]=i;const e=this.key(n);this.key2index.set(e,n),r&&r(n,e,i),i+=this.heightOf(n)}}heightOf(e){const t=this.context.exceptionsLookup;return t.has(e)?t.get(e):this.context.defaultRowHeight}exceptionHeightOf(e,t=!1){const n=this.context.padding(e),r=this.context.exceptionsLookup;return r.has(e)?r.get(e)-n:t?this.context.defaultRowHeight-n:null}padding(e){return this.context.padding(e)}fillCacheTillKey(e){let t=0;for(let n=this.lastFilled;n<this.context.numberOfRows;++n,++this.lastFilled){const r=this.cache[n];if(void 0!==r){t=r+this.heightOf(n);continue}const i=this.key(n);if(this.cache[n]=t,this.key2index.set(i,n),i===e)return{index:n,pos:t};t+=this.heightOf(n)}return{index:-1,pos:-1}}positions(e,t,n,r){this.fillCache(e,t,n,r)}}t.a=r},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r;n(63);!function(e){e[e.UPDATE=0]="UPDATE",e[e.UPDATE_CREATE=1]="UPDATE_CREATE",e[e.UPDATE_REMOVE=2]="UPDATE_REMOVE",e[e.SHOW=3]="SHOW",e[e.HIDE=4]="HIDE"}(r||(r={}));const i=[{delay:0,apply({mode:e,previous:t,nodeY:n,current:i,node:a}){a.dataset.animation=r[e].toLowerCase(),a.style.transform=`translate(0, ${t.y-n}px)`,e===r.SHOW?a.style.height=null!==i.height?`${i.height}px`:null:a.style.height=`${t.height}px`,a.style.opacity=e===r.SHOW?"0":e===r.HIDE?"1":null}},{delay:10,apply({mode:e,current:t,nodeY:n,node:i}){i.style.transform=e===r.HIDE||e===r.UPDATE_REMOVE?`translate(0, ${t.y-n}px)`:null,e!==r.HIDE&&(i.style.height=null!==t.height?`${t.height}px`:null),i.style.opacity=e===r.SHOW?"1":e===r.HIDE?"0":null}},{delay:1100,apply({node:e}){delete e.dataset.animation,e.style.opacity=null,e.style.transform=null}}];t.b=i},function(e,t,n){"use strict";function r(e,t){const n=e.createElement("div");n.innerHTML=t;const r=n.firstElementChild;return n.innerHTML="",r}var i=n(18),a=n(13);class o{constructor(e,t,n){this.c=e,this.renderers=t,this.index=n}get width(){return this.c.getWidth()}get id(){return this.c.id}get frozen(){return Object(a.b)(this.c.desc)||!0===this.c.desc.frozen}createHeader(e,t){const n=Object(i.c)(this.c,e,t);return this.updateHeader(n,t),n}updateHeader(e,t){e.className=`lu-header ${this.c.cssClass?` ${this.c.cssClass}`:""} ${this.c.headerCssClass}${t.autoRotateLabels?" rotateable":""}${this.c.isFiltered()?" lu-filtered":""}`,e.classList.toggle("frozen",this.frozen),Object(i.j)(e,this.c,t)}createCell(e,t,n){const i=n.isGroup(e),a=r(t,i?this.renderers.group.template:this.renderers.single.template);return a.dataset.renderer=i?this.renderers.groupId:this.renderers.singleId,a.dataset.group=i?"g":"d",this.updateCell(a,e,n),a}updateCell(e,t,n){e.classList.toggle("frozen",this.frozen);const i=n.isGroup(t),a=e.dataset.renderer,o=i?this.renderers.groupId:this.renderers.singleId,s=e.dataset.group,l=i?"g":"d";if(a===o&&s===l||((e=r(document,i?this.renderers.group.template:this.renderers.single.template)).dataset.renderer=o,e.dataset.group=l),i){const r=n.getGroup(t);this.renderers.group.update(e,r,r.rows,n.statsOf(this.c))}else{const r=n.getRow(t);this.renderers.single.update(e,r,r.relativeIndex,r.group,n.statsOf(this.c))}return e}}t.a=o},function(e,t,n){"use strict";function r(e){return Object(u.b)(e)&&!e.getCollapsed()?1+Math.max.apply(Math,e.children.map(r)):1}var i=n(3),a=(n.n(i),n(0)),o=n(1),s=n(9),l=n(13),u=n(11),c=n(2),d=n(10),h=n(19),p=n(35),f=n(14),g=n(20),m=n(18),v=n(34),b=n(8),y=n(23);class E{constructor(e,t,n){this.data=e,this.options=Object(v.a)().header,this.histCache=new Map,this.dragHandler=i.behavior.drag().on("dragstart",function(){i.select(this).classed("dragging",!0),i.event.sourceEvent.stopPropagation(),i.event.sourceEvent.preventDefault()}).on("drag",function(e){const t=Math.max(i.mouse(this.parentNode)[0],2);e.setWidth(t),i.event.sourceEvent.stopPropagation(),i.event.sourceEvent.preventDefault()}).on("dragend",function(){i.select(this).classed("dragging",!1),i.event.sourceEvent.stopPropagation(),i.event.sourceEvent.preventDefault()}),this.dropHandler=Object(a.i)([`${m.a}-ref`,m.a],(e,t,n)=>{let r=null;if(`${m.a}-ref`in e){const t=e[`${m.a}-ref`];if(!(r=this.data.find(t)))return!1;n?r=this.data.clone(r):r.removeMe()}else{const t=JSON.parse(e[m.a]);r=this.data.create(this.data.fromDescRef(t))}if(!r)return!1;if(t instanceof o.a)return null!=t.insertAfterMe(r);return null!==this.data.getLastRanking().push(r)}),Object(a.p)(this.options,n),this.$node=i.select(t).append("div").classed("lu-header",!0),this.$node.append("div").classed("drop",!0).call(this.dropHandler),this.changeDataStorage(e)}changeDataStorage(e){this.data&&this.data.on(Object(a.u)(".headerRenderer",f.a.EVENT_DIRTY_HEADER,f.a.EVENT_ORDER_CHANGED,f.a.EVENT_SELECTION_CHANGED),null),this.data=e,e.on(`${f.a.EVENT_DIRTY_HEADER}.headerRenderer`,Object(a.f)(this.update.bind(this),1)),this.options.summary&&(e.on(`${f.a.EVENT_ORDER_CHANGED}.headerRenderer`,()=>{this.updateHist(),this.update()}),e.on(`${f.a.EVENT_SELECTION_CHANGED}.headerRenderer`,Object(a.f)(this.drawSelection.bind(this),1)))}get sharedHistCache(){return this.histCache}currentHeight(){return parseInt(this.$node.style("height"),10)}updateHist(){this.data.getRankings().forEach(e=>{const t=e.getOrder(),n=e.flatColumns,r=null==t?null:this.data.stats(t);n.filter(e=>e instanceof b.d&&!e.isHidden()).forEach(e=>{this.histCache.set(e.id,null===r?null:r.stats(e))}),n.filter(e=>Object(d.b)(e)&&!e.isHidden()).forEach(e=>{this.histCache.set(e.id,null===r?null:r.hist(e))})})}drawSelection(){if(!this.options.summary)return;const e=this.$node.node();Object(a.l)(e,"div.bar",e=>e.classList.remove("selected"));const t=this.data.getSelection();if(t.length<=0)return;const n=n=>{this.data.getRankings().forEach(r=>{const i=r.flatColumns;i.filter(e=>e instanceof b.d&&!e.isHidden()).forEach(r=>{const i=[].slice.call(e.querySelectorAll(`div.header[data-id="${r.id}"] div.bar`));n.forEach((e,n)=>{const a=r.getValue(e,t[n]);for(let e=1;e<i.length;++e){const t=i[e];if(t.dataset.x>a){i[e-1].classList.add("selected");break}if(e===i.length-1){t.classList.add("selected");break}}})}),i.filter(e=>Object(d.b)(e)&&!e.isHidden()).forEach(r=>{const i=e.querySelector(`div.header[data-id="${r.id}"]`);n.forEach((e,n)=>{(r.getCategories(e,t[n])||[]).forEach(e=>{const t=i.querySelector(`div.bar[data-cat="${e}"]`);t&&t.classList.add("selected")})})})})},r=this.data.view(t);Array.isArray(r)?n(r):r.then(n)}renderRankingButtons(e,t){const n=this.$node.selectAll("div.rankingbuttons").data(e);n.enter().append("div").classed("rankingbuttons",!0).call(this.options.rankingButtons),n.style("left",(e,n)=>`${t[n]}px`),n.exit().remove()}update(){const e=this,t=this.data.getRankings(),n=[],a=[];let o=0;t.forEach(e=>{o+=e.flatten(n,o,1,this.options.columnPadding)+this.options.slopeWidth,a.push(o-this.options.slopeWidth)}),o-=this.options.slopeWidth,this.$node.select("div.drop").style("min-width",`${o}px`);const s=n.map(e=>e.col);this.options.summary&&0===this.histCache.size&&t.length>0&&this.updateHist(),this.renderColumns(s,n),this.options.rankingButtons!==v.b&&this.renderRankingButtons(t,a);const l=Math.max(...s.map(r));let u=(this.options.summary?this.options.headerHistogramHeight:this.options.headerHeight)+(l-1)*this.options.headerHeight;if(this.options.autoRotateLabels){let t=!1;this.$node.selectAll("div.header").style("height",`${u}px`).select("div.lu-label").each(function(n){this.querySelector("span.lu-label").offsetWidth>n.getWidth()+30?(i.select(this).style("transform",`rotate(${e.options.rotationDegree}deg)`),t=!0):i.select(this).style("transform",null)}),this.$node.selectAll("div.header").style("margin-top",t?`${this.options.rotationHeight}px`:null),u+=t?this.options.rotationHeight:0}this.$node.style("height",`${u}px`)}createToolbar(e){const t=Object(v.a)().renderers,n=Object.assign({provider:this.data,statsOf:()=>null,getPossibleRenderer:e=>({item:Object(y.possibleRenderer)(e,t),group:Object(y.possibleGroupRenderer)(e,t)})},this.options);e.each(function(e){const t=i.select(this);Object(m.d)((n,r,...a)=>{const o={onclick:()=>void 0};return t.append("i").attr("title",n).html(`<span aria-hidden="true">${n}</span>`).on("click",function(){o.onclick(i.event)}),r?(o.onclick=(t=>{t.stopPropagation(),new r(e,t.currentTarget.parentElement,...a).openDialog()}),o):o},e,n)})}updateFreeze(e){const t=this.options.freezeCols;this.$node.selectAll("div.header").style("z-index",(e,n)=>n<t?1:null).style("transform",(n,r)=>r<t?`translate(${e}px,0)`:null)}renderColumns(e,t,n=this.$node,r="header"){const o=this,f=n.selectAll(`div.${r}`).data(e,e=>e.id),v=f.enter().append("div").attr("class",r).on("click",e=>{const t=i.event;this.options.manipulative&&!t.defaultPrevented&&t.currentTarget===t.target&&e.toggleMySorting()}),y=v.append("div").classed("lu-label",!0).on("click",e=>{const t=i.event;this.options.manipulative&&!t.defaultPrevented&&e.toggleMySorting()}).call(Object(a.h)(e=>{const t=JSON.stringify(this.data.toDescRef(e.desc)),n={"text/plain":e.label,[`${m.a}-ref`]:e.id,[m.a]:t};return Object(c.h)(e)&&(n[`${m.a}-number`]=t,n[`${m.a}-number-ref`]=e.id),{data:n,effectAllowed:"copyMove"}}));y.append("i").attr("class","fa fa sort_indicator"),y.append("span").classed("lu-label",!0).attr({draggable:this.options.manipulative}),this.options.manipulative&&(v.append("div").classed("lu-handle",!0).call(this.dragHandler).style("width",`${this.options.columnPadding}px`).call(this.dropHandler),v.append("div").classed("lu-toolbar",!0).call(this.createToolbar.bind(this))),this.options.summary&&v.append("div").classed("summary",!0),f.style({width:(e,n)=>`${t[n].width+this.options.columnPadding}px`,left:(e,n)=>`${t[n].offset}px`,"background-color":e=>e.color}),f.attr({class:e=>`${r} ${e.cssClass||""} ${e.headerCssClass} ${this.options.autoRotateLabels?"rotateable":""} ${e.isFiltered()?"filtered":""} ${e.isGroupedBy()>=0?"grouped":""}`,title:e=>Object(m.i)(e),"data-id":e=>e.id}),f.select("i.sort_indicator").attr("class",e=>{const t=e.findMyRanker();if(!t)return"sort_indicator fa";const n=t.getSortCriterias(),r=n.findIndex(t=>t.col===e);return 0===r?`sort_indicator fa fa-sort-${n[r].asc?"asc":"desc"}`:"sort_indicator fa"}),f.select("span.lu-label").text(e=>e.label);const E=(e,t,n)=>{const r=`${m.a}${n?"-number":""}`;if(`${r}-ref`in e){const n=e[`${r}-ref`];let i=this.data.find(n);return t?i=this.data.clone(i):i&&i.removeMe(),i}const i=JSON.parse(e[r]);return this.data.create(this.data.fromDescRef(i))},x=function(e){if(e.getCollapsed())return void i.select(this).selectAll(`div.${r}_i`).remove();const t=[];e.flatten(t,0,1,o.options.columnPadding);const n=t.map(e=>e.col);o.renderColumns(n,t,i.select(this),r+("_i"!==r.substr(r.length-2)?"_i":""))};f.filter(e=>Object(u.b)(e)&&e.canJustAddNumbers).each(x).select("div.lu-label").call(Object(a.i)([`${m.a}-number-ref`,`${m.a}-number`],(e,t,n)=>{const r=E(e,n,!0);return null!=t.push(r)})),f.filter(e=>Object(u.b)(e)&&!e.canJustAddNumbers).each(x).select("div.lu-label").call(Object(a.i)([`${m.a}-ref`,m.a],(e,t,n)=>{const r=E(e,n,!1);return null!=t.push(r)}));const _=e=>e instanceof u.a&&e.canJustAddNumbers||Object(c.h)(e)&&e.parent instanceof l.a,C=e=>(t,n,r)=>{const i=E(t,r,e);if(n instanceof u.a)return null!==n.push(i);const a=n.findMyRanker(),o=a.indexOf(n),s=this.data.create(e?Object(h.a)():Object(p.a)());return n.removeMe(),s.push(n),s.push(i),null!=a.insert(s,o)};f.filter(e=>!Object(u.b)(e)&&_(e)).select("div.lu-label").call(Object(a.i)([`${m.a}-number-ref`,`${m.a}-number`],C(!0))),f.filter(e=>!Object(u.b)(e)&&!_(e)).select("div.lu-label").call(Object(a.i)([`${m.a}-ref`,m.a],C(!1))),this.options.summary&&(f.filter(e=>Object(d.b)(e)).each(function(e){o.renderCategoricalSummary(e,i.select(this).select("div.summary"))}),f.filter(e=>e instanceof b.d).each(function(e){o.renderNumericalSummary(e,i.select(this).select("div.summary"))}),f.filter(e=>e instanceof s.a).each(function(e){o.renderStringSummary(e,i.select(this).select("div.summary"))}),f.filter(e=>e instanceof g.b).each(function(e){o.renderSelectionSummary(e,i.select(this).select("div.summary"))})),f.exit().remove()}renderCategoricalSummary(e,t){const n=this.histCache.get(e.id);if(!n)return;const r=n=>{const r=e.categories,a=e.categoryColors,o=t.selectAll("div.bar").data(n.hist);o.enter().append("div").classed("bar",!0);const s=i.scale.ordinal().domain(r).rangeBands([0,100],.1),l=i.scale.linear().domain([0,n.maxBin]).range([0,100]);o.style({left:e=>`${s(e.cat)}%`,width:`${s.rangeBand()}%`,top:e=>`${100-l(e.y)}%`,height:e=>`${l(e.y)}%`,"background-color":e=>a[r.indexOf(e.cat)]}).attr({title:e=>`${e.cat}: ${e.y}`,"data-cat":e=>e.cat}),o.exit().remove()};n instanceof Promise?n.then(r):r(n)}renderNumericalSummary(e,t){const n=this.histCache.get(e.id);if(!n)return;const r=e=>{const n=t.selectAll("div.bar").data(e.hist);n.enter().append("div").classed("bar",!0);const r=i.scale.ordinal().domain(i.range(e.hist.length).map(String)).rangeBands([0,100],.1),a=i.scale.linear().domain([0,e.maxBin]).range([0,100]);n.style({left:(e,t)=>`${r(String(t))}%`,width:`${r.rangeBand()}%`,top:e=>`${100-a(e.y)}%`,height:e=>`${a(e.y)}%`}).attr({title:(e,t)=>`Bin ${t}: ${e.y}`,"data-x":e=>e.x}),n.exit().remove();let o=t.select("div.mean");o.empty()&&(o=t.append("div").classed("mean",!0)),o.style("left",`${100*e.mean}%`)};n instanceof Promise?n.then(r):r(n)}renderStringSummary(e,t){const n=e.getFilter();t.text(null===n?"":n.toString())}renderSelectionSummary(e,t){let n=t.select("i");n.empty()&&(n=t.append("i").attr("class","fa fa-square-o").attr("title","Toggle Select All")),n.on("click",()=>{if(n.classed("fa-square-o")){const t=e.findMyRanker().getOrder();n.attr("class","fa fa-check-square-o"),this.data.setSelection(t)}else n.attr("class","fa fa-square-o"),this.data.clearSelection()})}}t.a=E},function(e,t,n){"use strict";var r=n(3),i=(n.n(r),n(0)),a=n(12),o=n(14),s=n(18);class l{constructor(e){this.desc=e,this.used=0}}class u{constructor(e,t,n={}){this.data=e,this.options={layout:"vertical",elemWidth:100,elemHeight:40,width:100,height:500,additionalDesc:[],hideUsed:!0,addAtEndOnClick:!1},Object(i.p)(this.options,n),this.$node=Object(r.select)(t).append("div").classed("lu-pool",!0),this.changeDataStorage(e)}changeDataStorage(e){if(this.data&&this.data.on(Object(i.u)(".pool",o.a.EVENT_ADD_COLUMN,o.a.EVENT_REMOVE_COLUMN,o.a.EVENT_ADD_RANKING,o.a.EVENT_REMOVE_RANKING,o.a.EVENT_ADD_DESC),null),this.data=e,this.entries=e.getColumns().concat(this.options.additionalDesc).map(e=>new l(e)),e.on(`${o.a.EVENT_ADD_DESC}.pool`,e=>{this.entries.push(new l(e)),this.update()}),!this.options.hideUsed)return;const t=this;e.on(Object(i.u)(".pool",o.a.EVENT_ADD_COLUMN,o.a.EVENT_REMOVE_COLUMN),function(e){const n=e.desc,r="addColumn"===this.type?1:-1;t.entries.some(e=>e.desc===n&&(e.used+=r,!0)),t.update()}),e.on(Object(i.u)(".pool",o.a.EVENT_ADD_RANKING,o.a.EVENT_REMOVE_RANKING),function(e){const n=e.flatColumns.map(e=>e.desc),r="addRanking"===this.type?1:-1;t.entries.some(e=>!(n.indexOf(e.desc)<0)&&(e.used+=r,!0)),t.update()}),e.getRankings().forEach(e=>{const n=e.flatColumns.map(e=>e.desc);t.entries.some(e=>!(n.indexOf(e.desc)<0)&&(e.used+=1,!0))})}remove(){this.$node.remove(),this.data&&this.data.on(Object(i.u)(".pool",o.a.EVENT_ADD_COLUMN,o.a.EVENT_REMOVE_COLUMN,o.a.EVENT_ADD_RANKING,o.a.EVENT_REMOVE_RANKING,o.a.EVENT_ADD_DESC),null)}update(){const e=this.data,t=this.entries.filter(e=>0===e.used).map(e=>e.desc),n=this.$node.selectAll("div.header").data(t),i=n.enter().append("div").attr({class:"header",draggable:!0}).on("dragstart",t=>{const n=r.event;n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData("text/plain",t.label),n.dataTransfer.setData("application/caleydo-lineup-column",JSON.stringify(e.toDescRef(t))),Object(a.isNumberColumn)(t)&&n.dataTransfer.setData("application/caleydo-lineup-column-number",JSON.stringify(e.toDescRef(t)))}).style({width:`${this.options.elemWidth}px`,height:`${this.options.elemHeight}px`});switch(this.options.addAtEndOnClick&&i.on("click",e=>{this.data.push(this.data.getLastRanking(),e)}),i.append("span").classed("label",!0).text(e=>e.label),n.attr("class",e=>`header ${e.cssClass||""} ${e.type}`),n.style({transform:(e,t)=>{const n=this.layout(t);return`translate(${n.x}px,${n.y}px)`},"background-color":e=>{const t=e;return t.cssClass?null:t.color||a.Column.DEFAULT_COLOR}}),n.attr({title:e=>Object(s.i)(e)}),n.select("span").text(e=>e.label),n.exit().remove(),this.options.layout){case"horizontal":this.$node.style({width:`${this.options.elemWidth*t.length}px`,height:`${this.options.elemHeight}px`});break;case"grid":const e=Object(r.round)(this.options.width/this.options.elemWidth,0);this.$node.style({width:`${e*this.options.elemWidth}px`,height:`${Math.ceil(t.length/e)*this.options.elemHeight}px`});break;default:this.$node.style({width:`${this.options.elemWidth}px`,height:`${this.options.elemHeight*t.length}px`})}}layout(e){switch(this.options.layout){case"horizontal":return{x:e*this.options.elemWidth,y:0};case"grid":const t=Object(r.round)(this.options.width/this.options.elemWidth,0);return{x:e%t*this.options.elemWidth,y:Math.floor(e/t)*this.options.elemHeight};default:return{x:0,y:e*this.options.elemHeight}}}}t.a=u},function(e,t,n){"use strict";t.a=function(e="svg",t,n,a={}){return"engine"===e?new r.a(t,n,a):new i.a(t,n,a,e)};var r=n(69),i=n(137)},function(e,t,n){"use strict";var r=n(0),i=n(32),a=n(14),o=n(23),s=n(22),l=n(10),u=n(8),c=n(17),d=n(127),h=n(13),p=n(128),f=n(129);class g extends r.a{constructor(e,t,n){super(),this.data=e,this.histCache=new Map,this.rankings=[],this.slopeGraphs=[],this.updateAbles=[],this.zoomFactor=1,this.options=n,this.node=t.ownerDocument.createElement("main"),t.appendChild(this.node),this.ctx={provider:e,filters:this.options.header.filters,summaries:this.options.header.summaries?this.options.header.summaries:{},linkTemplates:this.options.header.linkTemplates,autoRotateLabels:!1,searchAble:this.options.header.searchAble,option:Object(r.k)(Object.assign({useGridLayout:!0},this.options.body)),statsOf:e=>{const t=this.histCache.get(e.id);return null==t||t instanceof Promise?null:t},renderer:(e,t)=>Object(o.createDOM)(e,this.options.renderers,this.ctx,t),groupRenderer:(e,t)=>Object(o.createDOMGroup)(e,this.options.renderers,this.ctx,t),idPrefix:this.options.idPrefix,totalNumberOfRows:0,createRenderer:(e,t)=>{return{single:Object(o.createDOM)(e,this.options.renderers,this.ctx,t),group:Object(o.createDOMGroup)(e,this.options.renderers,this.ctx,t),singleId:e.getRendererType(),groupId:e.getGroupRenderer()}},getPossibleRenderer:e=>({item:Object(o.possibleRenderer)(e,this.options.renderers),group:Object(o.possibleGroupRenderer)(e,this.options.renderers)}),columnPadding:this.options.body.columnPadding||5},this.node.id=this.options.idPrefix,this.table=new d.a(this.node,`#${n.idPrefix}`),this.initProvider(e)}zoomOut(){this.zoomFactor=Math.max(this.zoomFactor-.1,.5),this.updateZoomFactor(),this.update()}zoomIn(){this.zoomFactor=Math.min(this.zoomFactor+.1,2),this.updateZoomFactor(),this.update()}updateZoomFactor(){this.node.querySelector("main").style.fontSize=`${100*this.zoomFactor}%`}pushUpdateAble(e){this.updateAbles.push(e)}createEventList(){return super.createEventList().concat([g.EVENT_HOVER_CHANGED,g.EVENT_RENDER_FINISHED])}changeDataStorage(e){this.takeDownProvider(),this.data=e,this.ctx.provider=e,this.initProvider(e)}takeDownProvider(){this.data.on(`${a.a.EVENT_SELECTION_CHANGED}.body`,null),this.data.on(`${a.a.EVENT_ADD_RANKING}.body`,null),this.data.on(`${a.a.EVENT_REMOVE_RANKING}.body`,null),this.data.on(`${a.a.EVENT_GROUP_AGGREGATION_CHANGED}.body`,null),this.rankings.forEach(e=>this.table.remove(e)),this.rankings.splice(0,this.rankings.length),this.slopeGraphs.forEach(e=>this.table.remove(e)),this.slopeGraphs.splice(0,this.slopeGraphs.length)}initProvider(e){e.on(`${a.a.EVENT_SELECTION_CHANGED}.body`,()=>this.updateSelection(e.getSelection())),e.on(`${a.a.EVENT_ADD_RANKING}.body`,e=>{this.addRanking(e)}),e.on(`${a.a.EVENT_REMOVE_RANKING}.body`,e=>{this.removeRanking(e)}),e.on(`${a.a.EVENT_GROUP_AGGREGATION_CHANGED}.body`,e=>{this.update(this.rankings.filter(t=>t.ranking===e))}),this.data.getRankings().forEach(e=>this.addRanking(e))}updateSelection(e){const t=new Set(e);this.rankings.forEach(e=>e.updateSelection(t)),this.slopeGraphs.forEach(e=>e.updateSelection(t))}updateHist(e){if(!this.options.header.summary)return;(e?[e]:this.rankings).forEach(e=>{const t=e.ranking,n=t.getOrder(),r=t.flatColumns,i=null==n?null:this.data.stats(n);r.filter(e=>e instanceof u.d&&!e.isHidden()).forEach(e=>{this.histCache.set(e.id,null===i?null:i.stats(e))}),r.filter(e=>Object(l.b)(e)&&!e.isHidden()).forEach(e=>{this.histCache.set(e.id,null===i?null:i.hist(e))}),e.updateHeaders()}),this.updateAbles.forEach(e=>e(this.ctx))}addRanking(e){if(this.rankings.length>0){const t=this.table.pushSeparator((t,n)=>new p.a(t,n,`${e.id}S`,this.ctx));this.slopeGraphs.push(t)}const t=this.table.pushTable((t,n,r,i)=>new f.a(e,t,n,r,i,this.ctx,{animation:this.options.body.animation,customRowUpdate:this.options.body.customRowUpdate||(()=>void 0)}));t.on(f.a.EVENT_WIDTH_CHANGED,()=>this.table.widthChanged()),t.on(f.a.EVENT_UPDATE_DATA,()=>this.update([t])),e.on(`${h.a.EVENT_ORDER_CHANGED}.renderer`,()=>this.updateHist(t)),this.rankings.push(t),this.update([t])}removeRanking(e){const t=this.rankings.findIndex(t=>t.ranking===e);if(t<0)return;const n=this.rankings.splice(t,1)[0],r=this.slopeGraphs.splice(t-1,1)[0];this.table.remove(n),r&&this.table.remove(r)}update(e=this.rankings){if(0===(e=e.filter(e=>!e.hidden)).length)return;const t=e.map(e=>e.ranking.getOrder()),n=this.data.fetch(t);this.ctx.totalNumberOfRows=Math.max(...n.map(e=>e.length));const i=n.map(e=>e.map(e=>e));0===this.histCache.size&&this.updateHist();const a=e=>Object(r.q)(e,2),o=(e,t)=>{if(this.options.body.dynamicHeight){const n=this.options.body.dynamicHeight(t,e);return{defaultHeight:a(this.zoomFactor*n.defaultHeight),height:e=>a(this.zoomFactor*n.height(e))}}const n=a(this.zoomFactor*this.options.body.rowHeight),r=a(this.zoomFactor*this.options.body.groupHeight);return{defaultHeight:n,height:e=>Object(s.a)(e)?r:n}},l=a(this.zoomFactor*this.options.body.groupPadding),u=a(this.zoomFactor*this.options.body.rowPadding);e.forEach((e,t)=>{const n=e.groupData(i[t]),{height:r,defaultHeight:a}=o(e.ranking,n),d=Object(c.b)(n.map(r),a,e=>e>=0&&n[e]&&(Object(s.a)(n[e])||"last"===n[e].meta||"first last"===n[e].meta)?l+u:u);e.render(n,d)}),this.updateSlopeGraphs(e),this.table.widthChanged()}updateSlopeGraphs(e=this.rankings){const t=new Set(e.map(e=>this.rankings.indexOf(e)));this.slopeGraphs.forEach((e,n)=>{if(e.hidden)return;const r=n,i=n+1;if(!t.has(r)&&!t.has(i))return;const a=this.rankings[r],o=this.rankings[i];e.rebuild(a.currentData,a.context,o.currentData,o.context)})}fakeHover(e){this.rankings.forEach(t=>t.fakeHover(e))}destroy(){this.takeDownProvider(),this.table.destroy(),this.node.remove()}scrollIntoView(e){}setBodyOption(e,t){}}t.a=g,g.EVENT_HOVER_CHANGED=i.a.EVENT_HOVER_CHANGED,g.EVENT_RENDER_FINISHED=i.a.EVENT_RENDER_FINISHED},function(e,t,n){"use strict";var r=n(14),i=n(67),a=n(0),o=n(3),s=(n.n(o),n(34)),l=n(44),u=n(68);n.d(t,"b",function(){return a.g});class c extends a.a{constructor(e,t,n={}){super(),this.data=t,this.config=Object(s.a)(),this.pools=[],this.isUpdateInitialized=!1;const l=e instanceof o.selection?e:Object(o.select)(e);this.$container=l.append("div").classed("lu",!0),Object(a.p)(this.config,n),!0===this.config.renderingOptions.histograms&&(this.config.renderingOptions.summary=!0),this.data.on(`${r.a.EVENT_SELECTION_CHANGED}.main`,this.triggerSelection.bind(this)),this.data.on(`${r.a.EVENT_JUMP_TO_NEAREST}.main`,this.jumpToNearest.bind(this)),this.renderer=Object(u.a)(this.config.body.renderer,this.data,this.node,this.config),this.forward(this.renderer,c.EVENT_HOVER_CHANGED),this.config.pool&&this.config.manipulative&&this.addPool(new i.a(t,this.node,this.config.pool))}createEventList(){return super.createEventList().concat([c.EVENT_HOVER_CHANGED,c.EVENT_SELECTION_CHANGED,c.EVENT_MULTISELECTION_CHANGED,c.EVENT_UPDATE_START,c.EVENT_UPDATE_FINISHED])}addPool(e,t=("boolean"==typeof this.config.pool?{}:this.config.pool)){return e instanceof i.a?this.pools.push(e):this.pools.push(new i.a(this.data,e,t)),this.pools[this.pools.length-1]}get node(){return this.$container.node()}destroy(){this.pools.forEach(e=>e.remove()),this.$container.remove(),this.renderer.destroy()}sortBy(e,t=!1){const n=this.data.find(e);return n&&n.sortByMe(t),null!==n}dump(){return this.data.dump()}changeDataStorage(e,t){this.data&&this.data.on([`${r.a.EVENT_SELECTION_CHANGED}.main`,`${r.a.EVENT_JUMP_TO_NEAREST}.main`],null),this.data=e,t&&this.data.restore(t),this.data.on(`${r.a.EVENT_SELECTION_CHANGED}.main`,this.triggerSelection.bind(this)),this.data.on(`${r.a.EVENT_JUMP_TO_NEAREST}.main`,this.jumpToNearest.bind(this)),this.renderer.changeDataStorage(e),this.pools.forEach(t=>t.changeDataStorage(e)),this.update()}triggerSelection(e){this.fire(c.EVENT_SELECTION_CHANGED,e.length>0?e[0]:-1),this.fire(c.EVENT_MULTISELECTION_CHANGED,e)}jumpToNearest(e){const t=this.data.getRankings()[0];if(0===e.length||void 0===t)return;const n=t.getOrder(),r=e.map(e=>n.indexOf(e)).sort((e,t)=>e-t);this.renderer.scrollIntoView(n.length,r[0]),setTimeout(()=>{this.renderer.fakeHover(n[r[0]])},100)}restore(e){this.changeDataStorage(this.data,e)}update(){let e=this.isUpdateInitialized?1:3;this.isUpdateInitialized=!0,this.fire(c.EVENT_UPDATE_START),this.renderer.update(),this.pools.forEach(e=>e.update()),this.renderer.on(`${l.b}.main`,()=>{0===(e-=1)&&this.fire(c.EVENT_UPDATE_FINISHED)})}changeRenderingOption(e,t){this.config.renderingOptions[e]=t,"animation"!==e&&"stacked"!==e||this.renderer.setBodyOption(e,t)}}t.a=c,c.EVENT_HOVER_CHANGED=l.a,c.EVENT_SELECTION_CHANGED=r.a.EVENT_SELECTION_CHANGED,c.EVENT_MULTISELECTION_CHANGED="multiSelectionChanged",c.EVENT_UPDATE_START="updateStart",c.EVENT_UPDATE_FINISHED="updateFinished"},function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([i]).join("\n")}return[n].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciICB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEyNHB4IiBoZWlnaHQ9IjMwcHgiIHZpZXdCb3g9IjAgMCAxMjQgMzAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUwIDUwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgPHJlY3QgeD0iNTAiIHk9IjEzIiB3aWR0aD0iNCIgaGVpZ2h0PSI1IiBmaWxsPSIjMzMzIiAvPgogIDxyZWN0IHg9IjYwIiB5PSI1IiB3aWR0aD0iNCIgaGVpZ2h0PSIyMSIgZmlsbD0iIzMzMyIgLz4KICA8cmVjdCB4PSI3MCIgeT0iOSIgd2lkdGg9IjQiIGhlaWdodD0iMTMiIGZpbGw9IiMzMzMiIC8+Cjwvc3ZnPgo="},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=d[r.id];if(i){i.refs++;for(o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(u(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(u(r.parts[o],t));d[r.id]={id:r.id,refs:1,parts:a}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function a(e,t){var n=p(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=m[m.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),a(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function u(e,t){var n,r,i,u;if(t.transform&&e.css){if(!(u=t.transform(e.css)))return function(){};e.css=u}if(t.singleton){var d=g++;n=f||(f=s(t)),r=c.bind(null,n,d,!1),i=c.bind(null,n,d,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),a(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(r=v(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function c(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}var d={},h=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),p=function(e){var t={};return function(e){return void 0===t[e]&&(t[e]=function(e){return document.querySelector(e)}.call(this,e)),t[e]}}(),f=null,g=0,m=[],v=n(74);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=h()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o];(l=d[s.id]).refs--,a.push(l)}if(e){r(i(e,t),t)}for(o=0;o<a.length;o++){var l=a[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete d[l.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return e;var a;return a=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},function(e,t,n){"use strict";var r=n(11),i=n(1),a=n(19),o=n(2),s=n(0);class l extends r.a{constructor(e,t){super(e,t),this.collapsed=!1;const n=this;this.adaptChange=function(e,t){n.adaptWidthChange(e,t)}}createEventList(){return super.createEventList().concat([l.EVENT_COLLAPSE_CHANGED,l.EVENT_MULTI_LEVEL_CHANGED])}setCollapsed(e){this.collapsed!==e&&this.fire([a.b.EVENT_COLLAPSE_CHANGED,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY_VALUES,i.a.EVENT_DIRTY],this.collapsed,this.collapsed=e)}getCollapsed(){return this.collapsed}dump(e){const t=super.dump(e);return t.collapsed=this.collapsed,t}restore(e,t){this.collapsed=!0===e.collapsed,super.restore(e,t)}flatten(e,t,n=0,r=0){return a.b.prototype.flatten.call(this,e,t,n,r)}insert(e,t){return e.on(`${i.a.EVENT_WIDTH_CHANGED}.stack`,this.adaptChange),super.setWidth(0===this.length?e.getWidth():this.getWidth()+e.getWidth()),super.insert(e,t)}adaptWidthChange(e,t){if(Object(s.t)(e,t,.5))return;const n=this.getWidth(),r=n+(t-e);this.fire([l.EVENT_MULTI_LEVEL_CHANGED,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY],n,r),super.setWidth(r)}removeImpl(e){return e.on(`${i.a.EVENT_WIDTH_CHANGED}.stack`,null),super.setWidth(0===this.length?100:this.getWidth()-e.getWidth()),super.removeImpl(e)}setWidth(e){const t=this.getWidth(),n=e/t;this._children.forEach(e=>{e.setWidthImpl(e.getWidth()*n)}),Object(s.t)(t,e,.5)||this.fire([l.EVENT_MULTI_LEVEL_CHANGED,i.a.EVENT_DIRTY_HEADER,i.a.EVENT_DIRTY],t,e),super.setWidth(e)}getRendererType(){return this.getCollapsed()?l.EVENT_COLLAPSE_CHANGED:super.getRendererType()}isMissing(e,t){return!!this.getCollapsed()&&this._children.some(n=>(Object(o.h)(n)||Object(r.b)(n))&&n.isMissing(e,t))}}t.a=l,l.EVENT_COLLAPSE_CHANGED=a.b.EVENT_COLLAPSE_CHANGED,l.EVENT_MULTI_LEVEL_CHANGED=a.b.EVENT_MULTI_LEVEL_CHANGED},function(e,t,n){"use strict";var r=n(7),i=n(5);class a extends r.a{constructor(e,t){super(e,t),this.dataLength=t.dataLength,this.categories=[];for(let e=0;e<this.dataLength;++e)this.categories.push(`Category #${e+1}`);this.setDefaultRenderer("upset")}get categoryLabels(){return this.categories}get categoryColors(){return["green","red"]}getCategories(e,t){const n=this.getValue(e,t);return this.categories.filter((e,t)=>null!=n&&n[t])}getColor(e,t){return this.getValue(e,t)?"green":"red"}compare(e,t,n,r){const a=this.getValue(e,n),o=this.getValue(t,r);if(null===a)return null===o?0:i.a;if(null===o)return-1*i.a;return a.filter(e=>e).length-o.filter(e=>e).length}getDataLength(){return this.dataLength}}t.a=a},function(e,t,n){"use strict";var r=n(7),i=n(5),a=n(3);n.n(a);class o extends r.a{constructor(e,t){super(e,t),this.format=a.time.format(t.dateFormat||"%x"),this.parse=t.dateParse?a.time.format(t.dateParse).parse:this.format.parse,this.setDefaultRenderer("default")}getValue(e,t){const n=super.getValue(e,t);return Object(i.b)(n)?null:n instanceof Date?n:this.parse(String(n))}getLabel(e,t){const n=this.getValue(e,t);return n instanceof Date?this.format(n):""}compare(e,t,n,r){const a=this.getValue(e,n),o=this.getValue(t,r);return a===o?0:a instanceof Date?o instanceof Date?a.getTime()-o.getTime():-1*i.a:o instanceof Date?i.a:0}}t.a=o},function(e,t,n){"use strict";var r=n(1),i=n(56),a=n(38),o=n(24);class s extends i.a{constructor(e,t=[],n={}){super(t,n),this._data=e,this.options={filterGlobally:!1,jumpToSearchResult:!1,maxNestedSortingCriteria:1,maxGroupColumns:1},Object.assign(this.options,n);const r=this;this.reorderAll=function(){const e=this.source;r.getRankings().forEach(t=>{t!==e&&t.dirtyOrder()})}}getMaxGroupColumns(){return this.options.maxGroupColumns}getMaxNestedSortingCriteria(){return this.options.maxNestedSortingCriteria}get data(){return this._data}setData(e){this._data=e,this.reorderAll()}clearData(){this.setData([])}appendData(e){this._data.push(...e),this.reorderAll()}cloneRanking(e){const t=super.cloneRanking(e);return this.options.filterGlobally&&t.on(`${r.a.EVENT_FILTER_CHANGED}.reorderAll`,this.reorderAll),t}cleanUpRanking(e){this.options.filterGlobally&&e.on(`${r.a.EVENT_FILTER_CHANGED}.reorderAll`,null),super.cleanUpRanking(e)}sortImpl(e){if(0===this._data.length)return[];let t=this._data.map((e,t)=>({v:e,dataIndex:t,group:null}));if(this.options.filterGlobally){const e=this.getRankings().filter(e=>e.isFiltered());e.length>0&&(t=t.filter(t=>e.every(e=>e.filter(t.v,t.dataIndex))))}else e.isFiltered()&&(t=t.filter(t=>e.filter(t.v,t.dataIndex)));if(0===t.length)return[];if(t.forEach(t=>t.group=e.grouper(t.v,t.dataIndex)||o.a),1===new Set(t.map(e=>e.group.name)).size){const n=t[0].group;t.sort((t,n)=>e.comparator(t.v,n.v,t.dataIndex,n.dataIndex));const r=t.map(e=>e.dataIndex);return[Object.assign({order:r},n)]}t.sort((t,n)=>{const r=t.group,i=n.group;return r.name!==i.name?r.name.toLowerCase().localeCompare(i.name.toLowerCase()):e.comparator(t.v,n.v,t.dataIndex,n.dataIndex)});const n=[Object.assign({order:[],rows:[]},t[0].group)];let r=n[0];return t.forEach(e=>{const t=e.group;t.name===r.name?(r.order.push(e.dataIndex),r.rows.push(e)):(r=Object.assign({order:[e.dataIndex],rows:[e]},t),n.push(r))}),n.sort((t,n)=>e.groupComparator(t,n)),n}viewRaw(e){return e.map(e=>this._data[e])}view(e){return this.viewRaw(e)}fetch(e){return e.map(e=>e.map(e=>({v:this._data[e],dataIndex:e})))}stats(e){let t=null;const n=()=>(null===t&&(t=this.viewRaw(e)),t);return{stats:t=>Object(a.b)(n(),e,t.getNumber.bind(t),t.isMissing.bind(t),[0,1]),hist:t=>Object(a.a)(n(),e,t.getCategories.bind(t),t.categories)}}mappingSample(e){const t=this._data.length;if(t<=500)return this._data.map(e.getRawNumber.bind(e));const n=[];for(let e=0;e<500;++e){let e=Math.floor(Math.random()*(t-1));for(;n.indexOf(e)>=0;)e=Math.floor(Math.random()*(t-1));n.push(e)}return n.map(t=>e.getRawNumber(this.data[t],t))}searchAndJump(e,t){const n="string"==typeof(e="string"==typeof e?e.toLowerCase():e)?t=>t.toLowerCase().indexOf(e)>=0:e.test.bind(e),r=[];for(let e=0;e<this._data.length;++e)n(t.getLabel(this._data[e],e))&&r.push(e);this.jumpToNearest(r)}}t.a=s},function(e,t,n){"use strict";var r=n(56),i=n(24);class a extends r.a{constructor(e,t=[],n={}){super(t,n),this.server=e,this.options={maxCacheSize:1e3},this.cache=new Map,Object.assign(this.options,n)}sortImpl(e){const t=e.toSortingDesc(e=>e.column);return this.server.sort(t).then(e=>[Object.assign({order:e},i.a)])}loadFromServer(e){return this.server.view(e).then(t=>t.map((t,n)=>{return{v:t,dataIndex:e[n]}}))}view(e){if(0===e.length)return Promise.resolve([]);const t=this.fetch([e])[0];return Promise.all(t).then(e=>e.map(e=>e.v))}computeMissing(e){const t=new Set,n=t.add.bind(t);return e.forEach(e=>e.forEach(n)),this.cache.forEach((e,n)=>t.delete(n)),this.cache.size,t.size,this.options.maxCacheSize,Array.from(t)}loadInCache(e){if(0===e.length)return;const t=this.loadFromServer(e);e.forEach((n,r)=>{const i=e[r];this.cache.set(i,t.then(e=>({v:e[r],dataIndex:i})))})}fetch(e){const t=this.computeMissing(e);return this.loadInCache(t),e.map(e=>e.map(e=>this.cache.get(e)))}mappingSample(e){return this.server.mappingSample(e.desc.column)}searchAndJump(e,t){this.server.search(e,t.desc.column).then(e=>{this.jumpToNearest(e)})}stats(e){return this.server.stats(e)}}t.a=a},function(e,t,n){"use strict";var r=n(1),i=n(2),a=n(0),o=n(4),s=n(21);class l{constructor(e=!1){this.renderValue=e,this.title="Bar"}canRender(e,t){return Object(i.h)(e)&&!t&&!Object(i.i)(e)}createDOM(e,t,n){return{template:`<div title="">\n          <div style='background-color: ${e.color}'>\n            <span ${this.renderValue?"":'class="lu-hover-only"'}></span>\n          </div>\n        </div>`,update:(t,r)=>{const i=e.getNumber(r.v,r.dataIndex),l=Object(o.b)(t,e,r),u=isNaN(i)?0:Math.round(100*i*100)/100,c=e.getLabel(r.v,r.dataIndex);t.title=c;const d=t.firstElementChild;Object(a.c)(d,{title:c},{width:l?"100%":`${u}%`,"background-color":l?null:Object(s.a)(e,r,n)}),Object(a.r)(d.firstElementChild,c)}}}createCanvas(e,t,n){const i=t.option("rowBarTopPadding",t.option("rowBarPadding",1)),l=t.option("rowBarBottomPadding",t.option("rowBarPadding",1));return(u,c,d)=>{if(Object(o.a)(u,e,c,t.rowHeight(d)))return;u.fillStyle=Object(s.a)(e,c,n)||r.a.DEFAULT_COLOR;const h=t.colWidth(e)*e.getNumber(c.v,c.dataIndex);u.fillRect(0,i,isNaN(h)?0:h,t.rowHeight(d)-(i+l)),(this.renderValue||t.hovered(c.dataIndex)||t.selected(c.dataIndex))&&(u.fillStyle=t.option("style.text","black"),Object(a.d)(u,e.getLabel(c.v,c.dataIndex),1,0,t.colWidth(e)-1,t.textHints))}}}t.a=l},function(e,t,n){"use strict";var r=n(31),i=n(9);class a{constructor(){this.alignments={left:new r.a,right:new r.a("text_right","right"),center:new r.a("text_center","center")},this.title="Default"}canRender(e){return e instanceof i.a}createDOM(e){return this.alignments[e.alignment||"left"].createDOM(e)}createCanvas(e,t){return this.alignments[e.alignment||"left"].createCanvas(e,t)}createGroupDOM(e){return this.alignments[e.alignment||"left"].createGroupDOM(e)}createGroupCanvas(e,t){return this.alignments[e.alignment||"left"].createGroupCanvas(e,t)}}t.a=a},function(e,t,n){"use strict";var r=n(20),i=n(0);class a{constructor(){this.title="Default"}canRender(e){return e instanceof r.b}createDOM(e){return{template:"<div></div>",update:(t,n)=>{t.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.toggleValue(n.v,n.dataIndex)}}}}createCanvas(e,t){return(n,r)=>{const a=n.font;n.font="10pt FontAwesome",Object(i.d)(n,e.getValue(r.v,r.dataIndex)?"":"",0,0,t.colWidth(e),t.textHints),n.font=a}}createGroupCanvas(e,t){return(n,r,a)=>{const o=a.reduce((t,n)=>e.getValue(n.v,n.dataIndex)?t+1:t,0);Object(i.d)(n,String(o),0,t.groupHeight(r),e.getWidth(),t.textHints)}}createGroupDOM(e){return{template:"<div></div>",update:(t,n,r)=>{r.reduce((t,n)=>e.getValue(n.v,n.dataIndex)?t+1:t,0)>=r.length/2?t.classList.add("lu-group-selected"):t.classList.remove("lu-group-selected"),t.onclick=function(n){n.preventDefault(),n.stopPropagation();const i=t.classList.toggle("lu-group-selected");r.forEach(t=>{e.setValue(t.v,t.dataIndex,i)})}}}}}t.a=a},function(e,t,n){"use strict";var r=n(28),i=n(0),a=n(39),o=n(4);class s extends a.a{constructor(){super(...arguments),this.title="Default"}canRender(e){return e instanceof r.a}createDOM(e){return{template:"<div class='link text'></div>",update:(t,n)=>{Object(o.b)(t,e,n),t.innerHTML=e.isLink(n.v,n.dataIndex)?`<a class="link" href="${e.getValue(n.v,n.dataIndex)}" target="_blank">${e.getLabel(n.v,n.dataIndex)}</a>`:e.getLabel(n.v,n.dataIndex)}}}createCanvas(e,t){return(n,r,a,s,l)=>{if(Object(o.a)(n,e,r,t.rowHeight(a)))return;if(!e.isLink(r.v,r.dataIndex))return void Object(i.d)(n,e.getLabel(r.v,r.dataIndex),0,0,t.colWidth(e),t.textHints);if(t.hovered(r.dataIndex)){const n=Object(i.s)(t.bodyDOMElement,t.idPrefix+e.id,s,l);n.style.width=`${t.colWidth(e)}px`,n.innerHTML=`<a class='link' href='${e.getValue(r.v,r.dataIndex)}' target='_blank'>${e.getLabel(r.v,r.dataIndex)}</a>`}else{const a=n.fillStyle;n.fillStyle=t.option("style.link",t.option("style.text","black")),Object(i.d)(n,e.getLabel(r.v,r.dataIndex),0,0,t.colWidth(e),t.textHints),n.fillStyle=a}}}}t.a=s},function(e,t,n){"use strict";var r=n(46),i=n(0),a=n(39);class o extends a.a{constructor(){super(...arguments),this.title="Default"}canRender(e){return e instanceof r.a}createDOM(e){return{template:"<div class='annotations text'>\n        <input class='lu-hover-only'>\n        <span class='text lu-not-hover'></span>\n       </div>",update:(t,n)=>{const r=t.firstElementChild;r.onchange=(()=>{e.setValue(n.v,n.dataIndex,r.value)}),r.onclick=(e=>{e.stopPropagation()}),t.lastElementChild.textContent=r.value=e.getLabel(n.v,n.dataIndex)}}}createCanvas(e,t){return(n,r,a,o,s)=>{if(!t.hovered(r.dataIndex))return void Object(i.d)(n,e.getLabel(r.v,r.dataIndex),0,0,t.colWidth(e),t.textHints);const l=Object(i.s)(t.bodyDOMElement,t.idPrefix+e.id,o,s);l.style.width=`${t.colWidth(e)}px`,l.innerHTML=`<input type='text' value='${e.getValue(r.v,r.dataIndex)}' style='width:${t.colWidth(e)}px'>`;const u=l.childNodes[0];u.onchange=function(){e.setValue(r.v,r.dataIndex,u.value)},u.onclick=function(e){e.stopPropagation()}}}}t.a=o},function(e,t,n){"use strict";var r=n(0),i=n(36);class a{constructor(){this.title="Default"}canRender(e){return e instanceof i.b}createDOM(e,t){const n=t.option("actions",[]).concat(e.actions);return{template:`<div class='actions lu-hover-only'>${n.map(e=>`<span title='${e.name}' class='fa'>${e.icon}</span>`).join("")}</div>`,update:(e,t)=>{Object(r.m)(e,(e,r)=>{e.onclick=function(e){e.preventDefault(),e.stopPropagation(),n[r].action(t.v,t.dataIndex)}})}}}createGroupDOM(e,t){const n=t.option("groupActions",[]).concat(e.groupActions);return{template:`<div class='actions lu-hover-only'>${n.map(e=>`<span title='${e.name}' class='fa'>${e.icon}</span>`).join("")}</div>`,update:(e,t,i)=>{Object(r.m)(e,(e,r)=>{e.onclick=function(e){e.preventDefault(),e.stopPropagation(),n[r].action(t,i)}})}}}createCanvas(e,t){const n=t.option("actions",[]).concat(e.actions);return(i,a,o,s,l)=>{if(!t.hovered(a.dataIndex))return;const u=Object(r.s)(t.bodyDOMElement,t.idPrefix+e.id,s,l);u.style.width=`${t.colWidth(e)}px`,u.classList.add("actions"),u.innerHTML=n.map(e=>`<span title='${e.name}' class='fa'>${e.icon}</span>`).join(""),Object(r.m)(u,(e,t)=>{e.onclick=function(e){e.preventDefault(),e.stopPropagation(),n[t].action(a.v,a.dataIndex)}})}}createGroupCanvas(e,t){const n=t.option("groupActions",[]).concat(e.groupActions);return(i,a,o,s,l)=>{if(!t.groupHovered(a))return;const u=Object(r.s)(t.bodyDOMElement,t.idPrefix+e.id,s,l);u.style.width=`${t.colWidth(e)}px`,u.classList.add("actions"),u.innerHTML=n.map(e=>`<span title='${e.name}' class='fa'>${e.icon}</span>`).join(""),Object(r.m)(u,(e,t)=>{e.onclick=function(e){e.preventDefault(),e.stopPropagation(),n[t].action(a,o)}})}}}t.a=a},function(e,t,n){"use strict";class r{createGroupDOM(e,t,n){const r=this.createDOM(e,t,n);return{template:`<div>${r.template}</div>`,update:(t,n,i,a)=>{const o=this.aggregatedIndex(i,e);r.update(t.firstElementChild,i[o],o,n,a)}}}createGroupCanvas(e,t,n){const r=this.createCanvas(e,t,n);return(n,i,a,o,s,l)=>{const u=this.aggregatedIndex(a,e),c=(t.groupHeight(i)-t.rowHeight(u))/2;n.translate(0,c),r(n,a[u],u,o,s+c,i,l),n.translate(0,-c)}}}t.a=r},function(e,t){},function(e,t,n){"use strict";var r=n(10),i=n(0),a=n(38),o=n(4);class s{constructor(){this.title="Color",this.groupTitle="Histogram"}canRender(e){return Object(r.b)(e)}createDOM(e){return{template:"<div>\n        <div></div><div></div>\n      </div>",update:(t,n)=>{Object(o.b)(t,e,n),t.firstElementChild.style.backgroundColor=e.getColor(n.v,n.dataIndex),Object(i.r)(t.lastElementChild,e.getLabel(n.v,n.dataIndex))}}}createCanvas(e,t){const n=t.option("rowBarPadding",1);return(r,a,s)=>{if(Object(o.a)(r,e,a,t.rowHeight(s)))return;r.fillStyle=e.getColor(a.v,a.dataIndex)||"";const l=Math.min(.3*t.colWidth(e),Math.max(t.rowHeight(s)-2*n,0));r.fillRect(0,0,l,l),r.fillStyle=t.option("style.text","black"),Object(i.d)(r,e.getLabel(a.v,a.dataIndex),l+2,0,t.colWidth(e)-l-2,t.textHints)}}createGroupDOM(e){const t=e.categoryColors,n=e.categoryLabels;return{template:`<div>${e.categories.map((e,r)=>`<div style="height: 0; background-color: ${t[r]}" title="${n[r]}: 0" data-cat="${e}"></div>`).join("")}</div>`,update:(t,r,o,s)=>{const{maxBin:l,hist:u}=Object(a.a)(o,o.map(e=>e.dataIndex),t=>e.getCategories(t.v,t.dataIndex),e.categories),c=Math.max(l,s?s.maxBin:0);Object(i.m)(t,(e,t)=>{const{y:r}=u[t];e.style.height=`${Math.round(100*r/c)}%`,e.title=`${n[t]}: ${r}`})}}}createGroupCanvas(e,t){const n=t.option("rowBarPadding",1),r=e.categories,i=e.categoryColors,o=t.colWidth(e)/r.length;return(r,s,l,u,c,d)=>{const{maxBin:h,hist:p}=Object(a.a)(l,l.map(e=>e.dataIndex),t=>e.getCategories(t.v,t.dataIndex),e.categories),f=Math.max(h,d?d.maxBin:0),g=t.groupHeight(s)-n;p.forEach(({y:e},t)=>{const a=e/f*g;r.fillStyle=i[t],r.fillRect(t*o+n,g-a+n,o-2*n,a)})}}}t.a=s},function(e,t,n){"use strict";var r=n(0),i=n(43),a=n(4),o=n(5),s=n(2);class l extends i.a{constructor(){super(...arguments),this.title="Heatmap"}createDOMContext(e){const t=e.getRawColorScale();let n="";for(let t=0;t<e.getDataLength();++t)n+='<div style="background-color: white" title=""></div>';return{templateRow:n,render:(e,n)=>{Object(r.m)(e,(e,i)=>{const a=n[i];Object(r.c)(e,{title:Object(s.b)(a),class:Object(o.b)(a)?"lu-missing":""},{"background-color":Object(o.b)(a)?null:t(a)})})}}}createCanvasContext(e,t){const n=t.colWidth(e)/e.getDataLength(),r=t.option("rowBarPadding",1),i=e.getRawColorScale();return(e,t,s,l)=>{t.forEach((t,u)=>{const c=u*n;Object(o.b)(t)?Object(a.c)(e,n,l,c,r+s):(e.beginPath(),e.fillStyle=i(t),e.fillRect(c,r+s,n,l))})}}}t.a=l},function(e,t,n){"use strict";function r(e){if(0===e.length)return"";let t="",n=!0;return e.forEach((e,r)=>{Object(s.b)(e)?n=!0:n?(t+=`M${r},${1-e} `,n=!1):t+=`L${r},${1-e} `}),t}var i=n(43),a=n(0),o=n(4),s=n(5),l=n(2);class u{constructor(){this.title="Sparkline"}canRender(e){return Object(l.i)(e)}createDOM(e){const t=1-e.getMapping().apply(e.getThreshold());return{template:`<svg viewBox="0 0 ${e.getDataLength()-1} 1" preserveAspectRatio="none meet"><line x1="0" x2="${e.getDataLength()-1}" y1="${t}" y2="${t}"></line><path></path></svg>`,update:(t,n)=>{if(Object(o.b)(t,e,n))return;const i=e.getNumbers(n.v,n.dataIndex);t.querySelector("path").setAttribute("d",r(i))}}}createCanvas(e,t){return(n,r,i)=>{const a=t.rowHeight(i);if(Object(o.a)(n,e,r,a))return;const s=e.getNumbers(r.v,r.dataIndex);if(0===s.length)return;n.save();const l=t.colWidth(e)/(e.getDataLength()-1);n.strokeStyle="#c1c1c1",n.beginPath(),n.moveTo(0,1-e.getMapping().apply(e.getThreshold())),n.lineTo(l*(s.length-1),a),n.stroke(),n.strokeStyle="black",this.renderLine(n,s,a,l),n.restore()}}renderLine(e,t,n,r){e.beginPath();let i=!1;Object(s.b)(t[0])?i=!0:e.moveTo(0,(1-t[0])*r);for(let a=1;a<t.length;++a){const o=t[a];Object(s.b)(o)?i=!0:i?(e.moveTo(a*n,(1-t[a])*r),i=!1):e.lineTo(a*n,(1-t[a])*r)}e.stroke()}createGroupDOM(e){const t=1-e.getMapping().apply(e.getThreshold());return{template:`<svg viewBox="0 0 ${e.getDataLength()} 1" preserveAspectRatio="none meet"><line x1="0" x2="${e.getDataLength()-1}" y1="${t}" y2="${t}"></line><path></path></svg>`,update:(t,n,o)=>{Object(i.b)(t,o,"<path></path>"),Object(a.m)(t,(t,n)=>{const i=o[n];t.setAttribute("d",r(e.getNumbers(i.v,i.dataIndex)))})}}}createGroupCanvas(e,t){return(n,r,i)=>{const a=t.groupHeight(r),o=t.colWidth(e);n.save(),n.strokeStyle="#c1c1c1",n.beginPath();const s=(1-e.getMapping().apply(e.getThreshold()))*a;n.moveTo(0,s),n.lineTo(o,s),n.stroke(),n.strokeStyle="rgba(0, 0, 0, 0.2)",i.forEach(t=>{const r=e.getNumbers(t.v,t.dataIndex);0!==r.length&&this.renderLine(n,r,o,a)}),n.restore()}}}t.a=u},function(e,t,n){"use strict";var r=n(0),i=n(43),a=n(2);class o extends i.a{constructor(){super(...arguments),this.title="Bar Chart"}canRender(e,t){return super.canRender(e,t)&&!t}static compute(e,t,n){return e<t?{height:t-e,bottom:e-n[0]}:{height:e-t,bottom:t-n[0]}}createDOMContext(e){const t=e.getRawColorScale(),n=e.getMapping().domain,i=e.getThreshold(),s=n[1]-n[0];let l="";for(let t=0;t<e.getDataLength();++t)l+='<div style="background-color: white" title=""></div>';return{templateRow:l,render:(e,l)=>{Object(r.m)(e,(e,u)=>{const c=l[u],{bottom:d,height:h}=o.compute(c,i,n);Object(r.c)(e,{title:Object(a.b)(c)},{"background-color":t(c),bottom:`${Math.round(100*d/s)}%`,height:`${Math.round(100*h/s)}%`})})}}}createCanvasContext(e,t){const n=e.getRawColorScale(),r=t.colWidth(e)/e.getDataLength(),i=e.getMapping().domain,a=e.getThreshold(),s=i[1]-i[0];return(e,t,l,u)=>{const c=u/s;t.forEach((t,u)=>{e.fillStyle=n(t);const d=u*r,{bottom:h,height:p}=o.compute(t,a,i);e.fillRect(d,(s-p-h)*c+l,r,p*c)})}}}t.a=o},function(e,t,n){"use strict";var r=n(0),i=n(10),a=n(4);class o{constructor(){this.title="Matrix"}static calculateSetPath(e,t){const n=[];e.forEach((e,t)=>e?n.push(t):-1);return{left:n[0]*t+t/2,right:n[n.length-1]*t+t/2}}static createDOMContext(e){const t=e.categories.length;let n="";for(let e=0;e<t;++e)n+="<div></div>";return{templateRow:n,render:(e,t)=>{Array.from(e.children).slice(1).forEach((e,n)=>{const i=t[n];Object(r.c)(e,{class:i?"enabled":""})});const n=e.firstElementChild,i=t.findIndex(e=>e),a=t.length-1-t.reverse().findIndex(e=>e);i<0||i===a?n.style.display="none":(n.style.display=null,n.style.left=`${Math.round(100*(i+.5)/t.length)}%`,n.style.width=`${Math.round(100*(a-i)/t.length)}%`)}}}static union(e,t){const n=new Set;return t.forEach(t=>{e.getCategories(t.v,t.dataIndex).forEach(e=>n.add(e))}),e.categories.map(e=>n.has(e))}canRender(e){return Object(i.b)(e)}createDOM(e){const{templateRow:t,render:n}=o.createDOMContext(e);return{template:`<div><div></div>${t}</div>`,update:(t,r)=>{if(Object(a.b)(t,e,r))return;const i=new Set(e.getCategories(r.v,r.dataIndex)),o=e.categories.map(e=>i.has(e));n(t,o)}}}createGroupDOM(e){const{templateRow:t,render:n}=o.createDOMContext(e);return{template:`<div><div></div>${t}</div>`,update:(t,r,i)=>{const a=o.union(e,i);n(t,a)}}}static createCanvasContext(e,t){const n=e.categories.length,r=t.colWidth(e)/n,i=t.option("style.upset.circle","black"),a=t.option("style.upset.inactiveOpacity",.1),s=t.option("style.upset.stroke","black");return(e,t,n)=>{const l=t.some(e=>e),u=n/3;if(e.save(),e.fillStyle=i,e.strokeStyle=s,l){const{left:i,right:a}=o.calculateSetPath(t,r);e.beginPath(),e.moveTo(i,n/2),e.lineTo(a,n/2),e.stroke()}t.forEach((t,i)=>{const o=n/2,s=i*r+r/2;e.beginPath(),e.globalAlpha=t?1:a,e.arc(s,o,u,0,2*Math.PI),e.fill()}),e.restore()}}createCanvas(e,t){const n=o.createCanvasContext(e,t);return(r,i,o)=>{if(Object(a.a)(r,e,i,t.rowHeight(o)))return;const s=new Set(e.getCategories(i.v,i.dataIndex)),l=e.categories.map(e=>s.has(e)),u=t.rowHeight(o);n(r,l,u)}}createGroupCanvas(e,t){const n=o.createCanvasContext(e,t);return(r,i,a)=>{const s=o.union(e,a),l=t.groupHeight(i);n(r,s,l)}}}t.a=o},function(e,t,n){"use strict";var r=n(1),i=n(2),a=n(0),o=n(4),s=n(21);class l{constructor(){this.title="Proportional Symbol"}canRender(e,t){return Object(i.h)(e)&&!t&&!Object(i.i)(e)}createDOM(e,t,n){return{template:'<div style="background: radial-gradient(circle closest-side, red 100%, transparent 100%)" title="">\n              <div class="lu-hover-only"></div>\n          </div>',update:(t,r)=>{const i=e.getNumber(r.v,r.dataIndex),l=Math.round(100*i),u=Object(o.b)(t,e,r);Object(a.c)(t,{},{background:u?null:`radial-gradient(circle closest-side, ${Object(s.a)(e,r,n)} ${l}%, transparent ${l}%)`}),Object(a.r)(t.firstElementChild,e.getLabel(r.v,r.dataIndex))}}}createCanvas(e,t,n){return(i,l,u)=>{if(Object(o.a)(i,e,l,t.rowHeight(u)))return;const c=e.getNumber(l.v,l.dataIndex),d=t.rowHeight(u)/2,h=t.colWidth(e)/2;i.strokeStyle=i.fillStyle=Object(s.a)(e,l,n)||r.a.DEFAULT_COLOR,i.beginPath(),i.arc(h,d,t.rowHeight(u)/2*c,0,2*Math.PI),i.fill(),i.stroke(),(t.hovered(l.dataIndex)||t.selected(l.dataIndex))&&(i.fillStyle=t.option("style.text","black"),Object(a.d)(i,e.getLabel(l.v,l.dataIndex),1,0,t.colWidth(e)-1,t.textHints))}}}t.a=l},function(e,t,n){"use strict";function r(e,t,n,r,i){e.title=function(e){if(null===e)return"";const t=a.a.DEFAULT_FORMATTER;return`min = ${t(e.min)}\nq1 = ${t(e.q1)}\nmedian = ${t(e.median)}\nq3 = ${t(e.q3)}\nmax = ${t(e.max)}`}(n);const o=e.firstElementChild,s=o.firstElementChild,l=o.lastElementChild,u=Math.max(t.q1-1.5*(t.q3-t.q1),t.min),c=Math.min(t.q3+1.5*(t.q3-t.q1),t.max);o.style.left=`${Math.round(100*u)}%`;const d=c-u;if(o.style.width=`${Math.round(100*d)}%`,s.style.left=`${Math.round((t.q1-u)/d*100)}%`,s.style.width=`${Math.round((t.q3-t.q1)/d*100)}%`,s.style.backgroundColor=i,l.style.left=`${Math.round((t.median-u)/d*100)}%`,o.dataset.sort=r,!t.outlier||0===t.outlier.length)return void(e.children.length>1&&(e.innerHTML="",e.appendChild(o)));const h=Array.from(e.children).slice(1);h.slice(t.outlier.length).forEach(e=>e.remove());for(let n=h.length;n<t.outlier.length;++n){const t=e.ownerDocument.createElement("div");h.push(t),e.appendChild(t)}t.outlier.forEach((e,t)=>{h[t].style.left=`${Math.round(100*e)}%`})}function i(e,t,n,r,i,a,o){const s=r||o.option("style.boxplot.box","#e0e0e0"),l=o.option("style.boxplot.stroke","black"),u=o.option("style.boxplot.sortIndicator","#ffa500"),c=a+.1*(i-2*a),d=Math.max(t.q1-1.5*(t.q3-t.q1),t.min),h=Math.min(t.q3+1.5*(t.q3-t.q1),t.max);e.fillStyle=s,e.strokeStyle=l,e.beginPath(),e.rect(t.q1,c,t.q3-t.q1,i-2*c),e.fill(),e.stroke();const p=i-a,f=i/2;e.beginPath(),e.moveTo(d,f),e.lineTo(t.q1,f),e.moveTo(d,a),e.lineTo(d,p),e.moveTo(t.median,c),e.lineTo(t.median,i-c),e.moveTo(t.q3,f),e.lineTo(h,f),e.moveTo(h,a),e.lineTo(h,p),e.stroke(),e.fill(),""!==n&&(e.strokeStyle=u,e.beginPath(),e.moveTo(t[n],a),e.lineTo(t[n],i-a),e.stroke(),e.fill()),t.outlier&&t.outlier.forEach(t=>{e.fillRect(t-1,f-1,3,3)})}var a=n(26),o=n(2),s=n(4),l=n(12),u=n(8),c=n(21);class d{constructor(){this.title="Box Plot"}canRender(e,t){return Object(a.b)(e)&&!t||Object(l.isNumberColumn)(e)&&t}createDOM(e,t,n){const i=e.getSortMethod(),a=void 0!==e.isSortedByMe().asc;return{template:'<div title="">\n                    <div><div></div><div></div></div>\n                 </div>',update:(t,o)=>{const l=e.getBoxPlotData(o.v,o.dataIndex);if(!l||Object(s.b)(t,e,o))return;r(t,l,e.getRawBoxPlotData(o.v,o.dataIndex),a?i:"",Object(c.a)(e,o,n))}}}createCanvas(e,t,n){const r=e.getSortMethod(),a=t.option("rowBarPadding",1),o=void 0!==e.isSortedByMe().asc,l=t.colWidth(e);return(u,d,h)=>{const p=t.rowHeight(h);if(Object(s.a)(u,e,d,t.rowHeight(h)))return;const f=e.getBoxPlotData(d.v,d.dataIndex);if(!f)return;i(u,{min:f.min*l,median:f.median*l,q1:f.q1*l,q3:f.q3*l,max:f.max*l,outlier:f.outlier?f.outlier.map(e=>e*l):void 0},o?r:"",Object(c.a)(e,d,n),p,a,t)}}static createAggregatedBoxPlot(e,t){const n=[].concat(...t.map(t=>e.getNumbers(t.v,t.dataIndex)));return new o.c(n)}createGroupDOM(e,t,n){const i=e instanceof u.d&&void 0!==e.isGroupSortedByMe().asc?e.getSortMethod():"";return{template:'<div title="">\n                    <div><div></div><div></div></div>\n                 </div>',update:(t,a,s)=>{const l=Object(o.i)(e)?d.createAggregatedBoxPlot(e,s):new o.c(s.map(t=>e.getNumber(t.v,t.dataIndex)));r(t,l,l,i,Object(c.a)(e,null,n))}}}createGroupCanvas(e,t,n){const r=t.option("rowBarGroupPadding",1),a=t.colWidth(e),s=e instanceof u.d&&void 0!==e.isGroupSortedByMe().asc?e.getSortMethod():"";return(l,u,h)=>{const p=t.groupHeight(u),f=Object(o.i)(e)?d.createAggregatedBoxPlot(e,h):new o.c(h.map(t=>e.getNumber(t.v,t.dataIndex)));i(l,{min:f.min*a,median:f.median*a,q1:f.q1*a,q3:f.q3*a,max:f.max*a,outlier:f.outlier?f.outlier.map(e=>e*a):void 0},s,Object(c.a)(e,null,n),p,r,t)}}}t.a=d},function(e,t,n){"use strict";function r(e,t,n,r,a,o){Object(i.d)(e,"Loading…",10,0,o.colWidth(a)-10,o.textHints);const s=(t+45*n)*(Math.PI/180);e.save(),e.font="10pt FontAwesome",e.textAlign="center";const l=.5*(r-o.textHints.spinnerWidth);e.translate(2,l+.5*o.textHints.spinnerWidth),e.rotate(s),e.translate(0,.5*-o.textHints.spinnerWidth),e.fillText("",0,0),e.restore()}var i=n(0);class a{constructor(){this.title="Loading"}canRender(){return!1}createDOM(){return{template:"<div>Loading…</div>",update:()=>void 0}}createCanvas(e,t){const n=Date.now()%360;return(i,a,o)=>{r(i,n,o,t.rowHeight(o),e,t)}}createGroupDOM(){return this.createDOM()}createGroupCanvas(e,t){const n=Date.now()%360;return(i,a)=>{r(i,n,0,t.groupHeight(a),e,t)}}}t.a=a},function(e,t,n){"use strict";function r(e,t,n){let r=t.getNumber(e.v,e.dataIndex);isNaN(r)&&(r=1);const i=Object(s.hsl)(Object(u.a)(t,e,n)||a.a.DEFAULT_COLOR);return i.l=1-r,i.toString()}var i=n(2),a=n(1),o=n(0),s=n(3),l=(n.n(s),n(4)),u=n(21);class c{constructor(){this.title="Brightness"}canRender(e,t){return Object(i.h)(e)&&!t&&!Object(i.i)(e)}createDOM(e,t,n){return{template:`<div title="">\n        <div style="background-color: ${e.color}"></div><div> </div>\n      </div>`,update:(t,i)=>{const a=Object(l.b)(t,e,i);t.title=e.getLabel(i.v,i.dataIndex),t.firstElementChild.style.backgroundColor=a?null:r(i,e,n),Object(o.r)(t.lastElementChild,t.title)}}}createCanvas(e,t,n){const i=t.option("rowBarPadding",1);return(a,s,u)=>{if(Object(l.a)(a,e,s,t.rowHeight(u)))return;a.fillStyle=r(s,e,n);const c=Math.min(.3*t.colWidth(e),Math.max(t.rowHeight(u)-2*i,0));a.fillRect(0,0,c,c),a.fillStyle=t.option("style.text","black"),Object(o.d)(a,e.getLabel(s.v,s.dataIndex),c+2,0,t.colWidth(e)-c-2,t.textHints)}}}t.a=c},function(e,t,n){"use strict";class r{constructor(){this.title="Nothing"}canRender(){return!1}createDOM(e){return{template:'<div title=""></div>',update:(t,n)=>{t.title=e.getLabel(n.v,n.dataIndex)}}}createCanvas(){return()=>{}}createGroupDOM(){return{template:'<div title=""></div>',update:(e,t)=>{e.title=t.name}}}createGroupCanvas(){return()=>{}}}t.a=r},function(e,t,n){"use strict";var r=n(31),i=n(25),a=n(0);class o extends r.a{constructor(){super("rank","right"),this.title="String"}canRender(e){return e instanceof i.b}createGroupDOM(e){return{template:"<div><div></div><div></div></div>",update:(t,n,r)=>{const i=t.firstElementChild,a=t.lastElementChild;if(0===r.length)return i.textContent="",void(a.textContent="");i.textContent=e.getLabel(r[0].v,r[0].dataIndex),a.textContent=e.getLabel(r[r.length-1].v,r[r.length-1].dataIndex)}}}createGroupCanvas(e,t){return(n,r,i)=>{if(0===i.length)return;const o=e.getLabel(i[0].v,i[0].dataIndex),s=e.getLabel(i[i.length-1].v,i[i.length-1].dataIndex),l=n.textAlign;n.textAlign="right";const u=e.getWidth(),c=u;Object(a.d)(n,o,c,0,u,t.textHints),Object(a.d)(n,s,c,t.groupHeight(r)-t.textHints.spinnerWidth,u,t.textHints),n.textAlign=l}}}t.a=o},function(e,t,n){"use strict";function r(e,t,n,r){const i=r.colWidth(n),o=e.font,s=e.textAlign;e.textAlign="center",e.font="10pt FontAwesome",Object(a.d)(e,t,i/2,0,i,r.textHints),e.font=o,e.textAlign=s}var i=n(29),a=n(0);class o{constructor(){this.title="Default"}canRender(e){return e instanceof i.b}createDOM(e){return{template:'<div title="Collapse Group"></div>',update(t,n,r,i){t.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.setAggregated(i,!0)}}}}createGroupDOM(e){return{template:'<div title="Expand Group"></div>',update(t,n){t.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.setAggregated(n,!1)}}}}createCanvas(e,t){return(n,i,a)=>{0===a&&r(n,"",e,t)}}createGroupCanvas(e,t){return n=>{r(n,"",e,t)}}}t.a=o},function(e,t,n){"use strict";var r=n(2),i=n(38),a=n(0),o=n(5),s=n(4),l=n(21);class u{constructor(){this.title="Histogram"}canRender(e,t){return Object(r.h)(e)&&t||Object(r.i)(e)&&!t}static getHistDOMRenderer(e,t,n){const o=Object(i.c)(e);let s="";for(let e=0;e<o;++e)s+=`<div style="height: 0" title="Bin ${e}: 0"></div>`;return{template:`<div>${s}</div>`,render:(e,i,s)=>{const{bins:c,max:d,hist:h}=u.createHist(s,o,i,t);if(e.children.length!==c){let t="";for(let e=0;e<c;++e)t+=`<div style="height: 0" title="Bin ${e}: 0"></div>`;e.innerHTML=t}Object(a.m)(e,(e,i)=>{const{x:a,dx:o,y:s}=h[i];e.style.height=`${Math.round(100*s/d)}%`,e.title=`${Object(r.b)(a)} - ${Object(r.b)(a+o)} (${s})`,e.style.backgroundColor=Object(l.a)(t,null,n)})}}}createDOM(e,t,n){const{template:r,render:i}=u.getHistDOMRenderer(t.totalNumberOfRows,e,n);return{template:r,update:(t,n,r,a,o)=>{Object(s.b)(t,e,n)||i(t,[n],o)}}}createGroupDOM(e,t,n){const{template:r,render:i}=u.getHistDOMRenderer(t.totalNumberOfRows,e,n);return{template:r,update:(e,t,n,r)=>{i(e,n,r)}}}static getHistCanvasRenderer(e,t,n){const r=Object(i.c)(t.totalNumberOfRows),a=t.option("rowBarPadding",1);return(i,o,s,c)=>{const{max:d,bins:h,hist:p}=u.createHist(c,r,s,e),f=t.colWidth(e)/h,g=o-a;i.fillStyle=Object(l.a)(e,null,n)||t.option("style.histogram","lightgray"),p.forEach(({y:e},t)=>{const n=e/d*g;i.fillRect(t*f+a,g-n+a,f-2*a,n)})}}static createHist(e,t,n,a){const s=e?e.hist.length:t;let l;if(Object(r.i)(a)){const e=[].concat(...n.map(e=>a.getNumbers(e.v,e.dataIndex)));l=Object(i.b)(e,[],e=>e,o.b,[0,1],s)}else l=Object(i.b)(n,n.map(e=>e.dataIndex),e=>a.getNumber(e.v,e.dataIndex),e=>a.isMissing(e.v,e.dataIndex),[0,1],s);return{bins:s,max:Math.max(l.maxBin,e?e.maxBin:0),hist:l.hist}}createCanvas(e,t,n){const r=u.getHistCanvasRenderer(e,t,n);return(n,i,a,o,l,u,c)=>{if(!Object(s.a)(n,e,i,t.rowHeight(a)))return r(n,t.rowHeight(a),[i],c)}}createGroupCanvas(e,t,n){const r=u.getHistCanvasRenderer(e,t,n);return(e,n,i,a,o,s)=>r(e,t.groupHeight(n),i,s)}}t.a=u},function(e,t,n){"use strict";var r=n(10),i=n(0),a=n(58);class o{constructor(){this.title="Shifted Most Frequent Category"}canRender(e,t){return Object(r.b)(e)&&t}static total(e,t){let n=0,r=0,i=!1;return e.getGroups().forEach(e=>{e!==t&&e.name!==t.name||(i=!0),r+=e.order.length,i||(n+=e.order.length)}),{before:n,total:r}}createGroupDOM(e){return{template:"<div></div>",update:(t,n,r)=>{const{count:i,label:s,color:l}=a.a.choose(e,r),{total:u,before:c}=o.total(e.findMyRanker(),n);t.innerHTML=`<div style="background-color: ${l}; width: ${0===u?100:Math.round(100*i/u)}%; left: ${0===u?0:Math.round(100*c/u)}%"></div><span>${s} (${i})</span>`}}}createGroupCanvas(e,t){const n=t.colWidth(e);return(r,s,l)=>{const u=t.groupHeight(s),{count:c,label:d,color:h}=a.a.choose(e,l);r.fillStyle=h;const{total:p,before:f}=o.total(e.findMyRanker(),s);if(0===p)return;r.fillRect(0===p?0:n*f/p,0,0===p?n:n*c/p,u),r.fillStyle=t.option("style.text","black");const g=r.textAlign;r.textAlign="center",Object(i.d)(r,`${d} (${c})`,n/2,u/2,n,t.textHints),r.textAlign=g}}}t.a=o},function(e,t,n){"use strict";var r=n(0),i=n(39),a=n(28),o=n(4);class s extends i.a{constructor(){super(...arguments),this.imageCache=new Map,this.title="Image"}canRender(e){return e instanceof a.a}getImage(e,t,n){if(!e.isLink(t,n))return null;const r=e.getValue(t,n);if(!this.imageCache.has(r)){const e=new Image;e.src=r,this.imageCache.set(r,e)}return this.imageCache.get(r)}createDOM(e){return{template:"<div></div>",update:(t,n)=>{const r=Object(o.b)(t,e,n);t.title=e.getLabel(n.v,n.dataIndex),t.style.backgroundImage=r||!e.isLink(n.v,n.dataIndex)?null:`url('${e.getValue(n.v,n.dataIndex)}')`}}}createCanvas(e,t){return(n,i,a)=>{if(Object(o.a)(n,e,i,t.rowHeight(a)))return;if(!e.isLink(i.v,i.dataIndex))return void Object(r.d)(n,e.getLabel(i.v,i.dataIndex),0,0,t.colWidth(e),t.textHints);const s=this.getImage(e,i.v,i.dataIndex);if(!s)return;const l=s.width,u=s.height;if(0===l||0===u)return;const c=t.colWidth(e),d=t.rowHeight(a),h=Math.min(c/l,d/u),p=l*h,f=u*h;n.drawImage(s,(c-p)/2,(d-f)/2,p,f)}}}t.a=s},function(e,t,n){"use strict";var r=n(31),i=n(47);class a extends r.a{constructor(){super("boolean","center"),this.title="Default"}canRender(e){return e instanceof i.a}}t.a=a},function(e,t,n){"use strict";var r=n(4),i=n(15),a=n(40),o=n(0);class s{constructor(){this.title="Interleaved"}canRender(e){return e instanceof i.a}createDOM(e,t){const{cols:n}=Object(a.a)(e,t,!1);return{template:`<div>${n.map(e=>e.renderer.template).join("")}</div>`,update:(t,i,a,s,l)=>{Object(r.b)(t,e,i)||(Object(o.o)(t,n,"detail","html"),Array.from(t.children).forEach((e,t)=>{n[t].renderer.update(e,i,a,s,l)}))}}}createGroupDOM(e,t){const{cols:n}=Object(a.a)(e,t,!1);return{template:`<div>${n.map(e=>e.renderer.template).join("")}</div>`,update:(e,t,r,i)=>{Object(o.o)(e,n,"group","html"),Array.from(e.children).forEach((e,a)=>{n[a].groupRenderer.update(e,t,r,i)})}}}createCanvas(e,t){const n=e.children,i=n.map(e=>t.renderer(e));return(a,o,s,l,u,c,d)=>{if(Object(r.a)(a,e,o,t.rowHeight(s)))return;const h=t.rowHeight(s),p=h/n.length;a.save(),a.scale(1,1/n.length),i.forEach((e,t)=>{e(a,o,t,l,u+p*t,c,d),a.translate(0,h)}),a.restore()}}createGroupCanvas(e,t){const n=e.children,r=n.map(e=>t.groupRenderer(e));return(e,i,a,o,s,l)=>{const u=t.groupHeight(i),c=u/n.length;e.save(),e.scale(1,1/n.length),r.forEach((t,n)=>{t(e,i,a,o,s+c*n,l),e.translate(0,u)}),e.restore()}}}t.a=s},function(e,t,n){"use strict";var r=n(2),i=n(0),a=n(4),o=n(5),s=n(21);class l{constructor(){this.title="Dot(s)"}canRender(e){return Object(r.h)(e)}static getDOMRenderer(e){const t=Object(r.i)(e)?e.getDataLength():1;let n="";for(let r=0;r<t;++r)n+=`<div style='background-color: ${e.color}' title=''></div>`;return{template:`<div>${n}</div>`,render:(e,t,n,r)=>{if(e.children.length!==t.length){let i="";for(let e=0;e<t.length;++e)i+=`<div style='background-color: ${r[e]}' title='${n[e]}'></div>`;e.innerHTML=i}Object(i.m)(e,(e,a)=>{const s=t[a];Object(i.c)(e,{title:n[a]},{display:Object(o.b)(s)?"none":null,left:`${Math.round(100*s)}%`,top:t.length>1?`${Math.round(80*Math.random()+10)}%`:null,"background-color":r[a]})})}}}createDOM(e,t,n){const{template:i,render:u}=l.getDOMRenderer(e);return{template:i,update:(t,i)=>{if(Object(a.b)(t,e,i))return;const l=Object(s.a)(e,i,n),c=e.getValue(i.v,i.dataIndex);if(!Object(r.i)(e))return u(t,[c],[e.getLabel(i.v,i.dataIndex)],[l]);const d=c.filter(e=>!Object(o.b)(e));return u(t,d,d.map(r.b),d.map(e=>l))}}}createGroupDOM(e,t,n){const{template:i,render:a}=l.getDOMRenderer(e);return{template:i,update:(t,i,l)=>{const u=l.map(t=>e.getValue(t.v,t.dataIndex)),c=l.map(t=>Object(s.a)(e,t,n));if(!Object(r.i)(e))return a(t,u,l.map(t=>e.getLabel(t.v,t.dataIndex)),c);const d=[].concat(...u.filter(e=>!Object(o.b)(e)));return a(t,d,d.map(r.b),u.map((e,t)=>c[t]))}}}}t.a=l},function(e,t,n){"use strict";var r=n(6),i=n(8),a=n(2),o=n(26);class s extends r.a{constructor(e,t,n="Change Sort Criteria"){super(t,n),this.column=e}openDialog(){const e=this.column.getSortMethod(),t=Object.keys(this.column instanceof o.a?a.d:a.a),n=this.column instanceof i.d?this.column.isGroupSortedByMe().asc:this.column.isSortedByMe().asc,r=t.map(t=>`<label><input type="radio" name="multivaluesort" value="${t}"  ${e===t?"checked":""} > ${t.slice(0,1).toUpperCase()+t.slice(1)}</label><br>`).join("\n"),s=`\n        <label><input type="radio" name="sortorder" value="asc"  ${"asc"===n?"checked":""} > Ascending</label><br>\n        <label><input type="radio" name="sortorder" value="desc"  ${"desc"===n?"checked":""} > Decending</label><br>`,l=this.makeChoosePopup(`${r}<strong>Sort Order</strong><br>${s}`);Array.from(l.querySelectorAll("input[name=multivaluesort]")).forEach(e=>{e.addEventListener("change",()=>this.column.setSortMethod(e.value))}),Array.from(l.querySelectorAll("input[name=sortorder]")).forEach(e=>{e.addEventListener("change",()=>{this.column instanceof i.d?this.column.groupSortByMe("asc"===e.value):this.column.sortByMe("asc"===e.value)})})}}t.a=s},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(6);class i extends r.a{constructor(e,t,n="Rename Column"){super(t,n),this.column=e}openDialog(){const e=this.makePopup(`\n      <input type="text" value="${this.column.label}" required autofocus placeholder="name">\n      <input type="color" value="${this.column.color}" required placeholder="color">\n      <textarea rows="5">${this.column.description}</textarea><br>`,!1);e.classList.add("lu-rename-dialog"),this.onButton(e,{cancel:()=>void 0,reset:()=>void 0,submit:()=>{const t=e.querySelector('input[type="text"]').value,n=e.querySelector('input[type="color"]').value,r=e.querySelector("textarea").value;return this.column.setMetaData({label:t,color:n,description:r}),!0}})}}t.a=i},function(e,t,n){"use strict";var r=n(6);class i extends r.a{constructor(e,t,n){super(t,"Visualization"),this.column=e,this.ctx=n}openDialog(){const e=this.column.getRendererType(),t=this.column.getGroupRenderer(),{item:n,group:r}=this.ctx.getPossibleRenderer(this.column);console.assert(n.length>1||r.length>1);let i="";i+=n.map(t=>`<label><input type="radio" name="renderertype" value=${t.type}  ${e===t.type?"checked":""}> ${t.label}</label><br>`).join("\n"),t.length>1&&(i+="<strong>Group Visualization</strong><br>",i+=r.map(e=>`<label><input type="radio" name="grouptype" value=${e.type}  ${t===e.type?"checked":""}> ${e.label}</label><br>`).join("\n"));const a=this.makeChoosePopup(i);Array.from(a.querySelectorAll('input[name="renderertype"]')).forEach(e=>{e.addEventListener("change",()=>this.column.setRendererType(e.value))}),Array.from(a.querySelectorAll('input[name="grouptype"]')).forEach(e=>{e.addEventListener("change",()=>this.column.setGroupRenderer(e.value))})}}t.a=i},function(e,t,n){"use strict";var r=n(6),i=n(27);class a extends r.a{constructor(e,t,n="Edit Script"){super(t,n),this.column=e}openDialog(){const e=this.column.getScript(),t=this.makePopup(`<div class="script-description">\n      <p>You can write any valid JavaScript code. It will be embedded in a function. Therefore the last statement has to return a value.\n      In case of a single line statement the code piece statement <code>return</code> will be automatically prefixed.</p>\n      <p>The function signature is: <br><code>(row: any, index: number, children: Column[], values: any[], raws: (number|null)[]) => number</code>\n      <dl>\n        <dt>param: <code>row</code></dt>\n        <dd>the row in the dataset to compute the value for</dd>\n        <dt>param: <code>index</code></dt>\n        <dd>the index of the row</dd>\n        <dt>param: <code>children</code></dt>\n        <dd>the list of LineUp columns that are part of this ScriptColumn</dd>\n        <dt>param: <code>values</code></dt>\n        <dd>the computed value of each column (see <code>children</code>) for the current row</dd>\n        <dt>param: <code>raws</code></dt>\n        <dd>similar to <code>values</code>. Numeric columns return by default the normalized value, this array gives access to the original "raw" values before mapping is applied</dd>\n        <dt>returns:</dt>\n        <dd>the computed number <strong>in the range [0, 1] or NaN</strong></dd>\n      </dl>\n      <p>In addition to the standard JavaScript functions and objects (Math, ...) a couple of utility functions are available: </p>\n      <dl>\n        <dt><code>max(arr: number[]) => number</code></dt>\n        <dd>computes the maximum of the given array of numbers</dd>\n        <dt><code>min(arr: number[]) => number</code></dt>\n        <dd>computes the minimum of the given array of numbers</dd>\n        <dt><code>extent(arr: number[]) => [number, number]</code></dt>\n        <dd>computes both minimum and maximum and returning an array with the first element the minimum and the second the maximum</dd>\n        <dt><code>clamp(v: number, min: number, max: number) => number</code></dt>\n        <dd>ensures that the given value is within the given min/max value</dd>\n        <dt><code>normalize(v: number, min: number, max: number) => number</code></dt>\n        <dd>normalizes the given value <code>(v - min) / (max - min)</code></dd>\n        <dt><code>denormalize(v: number, min: number, max: number) => number</code></dt>\n        <dd>inverts a normalized value <code>v * (max - min) + min</code></dd>\n        <dt><code>linear(v: number, input: [number, number], output: [number, number]) => number</code></dt>\n        <dd>performs a linear mapping from input domain to output domain both given as an array of [min, max] values. <code>denormalize(normalize(v, input[0], input[1]), output[0], output[1])</code></dd>\n      </dl>\n      </div><br>\n      <textarea autofocus="true" rows="5" autofocus="autofocus" style="width: 95%;">${this.column.getScript()}</textarea>\n      <br>`),n=e=>{this.column.setScript(e)};this.onButton(t,{cancel:()=>{t.querySelector("textarea").value=e,n(e)},reset:()=>{t.querySelector("textarea").value=i.b.DEFAULT_SCRIPT,n(i.b.DEFAULT_SCRIPT)},submit:()=>((()=>{const e=t.querySelector("textarea").value;n(e)})(),!0)})}}t.a=a},function(e,t,n){"use strict";var r=n(6);class i extends r.a{constructor(e,t,n,r=[],i="Edit Link ($ as Placeholder)"){super(t,i),this.column=e,this.idPrefix=n,this.templates=r}openDialog(){let e=`<input\n        type="text"\n        size="15"\n        value="${this.column.getLink()}"\n        required="required"\n        autofocus="autofocus"\n        placeholder="link pattern"\n        ${this.templates.length>0?`list="ui${this.idPrefix}lineupPatternList"`:""}\n      ><br>`;this.templates.length>0&&(e+=`<datalist id="ui${this.idPrefix}lineupPatternList">${this.templates.map(e=>`<option value="${e}">`)}</datalist>`);const t=this.makePopup(e);this.onButton(t,{cancel:()=>void 0,reset:()=>void 0,submit:()=>{const e=t.querySelector("input").value;return this.column.setLink(e),!0}})}}t.a=i},function(e,t,n){"use strict";var r=n(6);class i extends r.a{constructor(e,t,n="Edit Weights"){super(t,n),this.column=e}openDialog(){function e(){Array.from(a.querySelectorAll(".bar")).forEach((e,t)=>e.style.width=`${r(n[t].weight)}px`)}const t=this.column.getWeights(),n=this.column.children.map((e,n)=>({col:e,weight:100*t[n]})),r=e=>Math.round(e/100*120),i=this.makePopup("<table></table>"),a=i.querySelector("table");n.forEach(t=>{a.insertAdjacentHTML("beforeend",`<tr>\n        <td><input type="number" value="${t.weight}" min="0" max="100" size="5"></td>\n        <td><div class="${t.col.cssClass} bar" style="background-color: ${t.col.color}"></div></td>\n        <td>${t.col.label}</td>\n       </tr>`),i.lastElementChild.querySelector("input").addEventListener("input",function(){t.weight=+this.value,e()})}),e(),this.onButton(i,{cancel:()=>{this.column.setWeights(t)},reset:()=>{n.forEach((e,n)=>e.weight=100*t[n]),Array.from(a.querySelectorAll("input")).forEach((e,t)=>e.value=n[t].weight.toString()),e()},submit:()=>(this.column.setWeights(n.map(e=>e.weight)),!0)})}}t.a=i},function(e,t,n){"use strict";var r=n(37),i=n(6);class a extends i.a{constructor(e,t,n){super(t,"Edit Hierarchy Cutoff"),this.column=e,this.idPrefix=n}openDialog(){const e=this.column.getCutOff(),t=Object(r.b)(this.column.hierarchy),n=t.map(e=>e.path),i=`<input type="text" value="${e.node.label}"\n        required="required" autofocus="autofocus" list="ui${this.idPrefix}lineupHierarchyList" placeholder="cut off node"><br>\n        <input type="number" value="${isFinite(e.maxDepth)?e.maxDepth:""}" placeholder="max depth (&infin;)"><br>\n        <datalist id="ui${this.idPrefix}lineupHierarchyList">${t.map(e=>`<option value="${e.path}">${e.label}</option>`)}</datalist>`,a=this.makePopup(i,!1);a.querySelector('input[type="text"]').addEventListener("change",function(){const e=this.value;console.log("validate",e),n.indexOf(e)<0?this.setCustomValidity("invalid node"):this.setCustomValidity("")}),this.onButton(a,{cancel:()=>void 0,reset:()=>void 0,submit:()=>{if(!a.querySelector("form").checkValidity())return!1;const e=a.querySelector('input[type="text"]').value,r=n.indexOf(e),i=t[r],o=a.querySelector('input[type="number"]').value,s=""===o?1/0:parseInt(o,10);return this.column.setCutOff(i,s),!0}})}}t.a=a},function(e,t,n){"use strict";var r=n(6);class i extends r.a{constructor(e,t,n,r="Search"){super(t,r),this.column=e,this.provider=n}openDialog(){const e=this.makePopup('<input type="text" size="15" value="" required autofocus placeholder="search..."><br><label><input type="checkbox">RegExp</label><br>'),t=e.querySelector('input[type="text"]'),n=e.querySelector('input[type="checkbox"]');t.addEventListener("input",()=>{let e=t.value;if(e.length<3)return;n.checked&&(e=new RegExp(e)),this.provider.searchAndJump(e,this.column)});const i=()=>{let i=t.value;const a=n.checked;i.length>0&&(a&&(i=new RegExp(i)),this.provider.searchAndJump(i,this.column)),r.a.removePopup(e)};n.addEventListener("change",i),this.onButton(e,{cancel:()=>void 0,reset:()=>void 0,submit:()=>(i(),!0)})}}t.a=i},function(e,t,n){"use strict";function r(e,...t){const n=e.dataTransfer.types;return"function"==typeof n.indexOf?t.some(e=>n.indexOf(e)>=0):"function"==typeof n.includes?t.some(e=>n.includes(e)):"function"==typeof n.contains&&t.some(e=>n.contains(e))}function i(e){return o.size>0&&r(e,"text/plain")}function a(e){const t=e.dataTransfer;!function(e){const t=e.dataTransfer;return Boolean(e.ctrlKey&&t.effectAllowed.match(/copy/gi)||!t.effectAllowed.match(/move/gi))}(e)?t.dropEffect="move":t.dropEffect="copy"}t.a=function(e,t,n=!1){const r=++s;e.draggable=!0,e.addEventListener("dragstart",i=>{e.classList.add("lu-dragging");const a=t();if(i.dataTransfer.effectAllowed=a.effectAllowed,n&&i.stopPropagation(),Object.keys(a.data).every(e=>{try{return i.dataTransfer.setData(e,a.data[e]),!0}catch(e){return!1}}))return;const s=a.data["text/plain"]||"";i.dataTransfer.setData("text/plain",`${r}${s?`: ${s}`:""}`),o.set(r,a.data)}),e.addEventListener("dragend",t=>{e.classList.remove("lu-dragging"),n&&t.stopPropagation(),o.size>0&&o.delete(r)})},t.b=function(e,t,n,s=null,l=!1){e.addEventListener("dragenter",n=>{if(r(n,...t)||i(n))return e.classList.add("lu-dragover"),l&&n.stopPropagation(),!1;e.classList.remove("lu-dragover")}),e.addEventListener("dragover",n=>{if(r(n,...t)||i(n))return n.preventDefault(),a(n),e.classList.add("lu-dragover"),l&&n.stopPropagation(),s&&s(n),!1}),e.addEventListener("dragleave",e=>{e.target.classList.remove("lu-dragover")}),e.addEventListener("drop",s=>{s.preventDefault(),l&&s.stopPropagation(),a(s);const u=s.dataTransfer.dropEffect;if(e.classList.remove("lu-dragover"),i(s)){const e=s.dataTransfer.getData("text/plain"),t=parseInt(e.indexOf(":")>=0?e.substring(0,e.indexOf(":")):e,10);if(o.has(t)){const e=o.get(t);return o.delete(t),!n({effect:u,data:e},s)}}else if(r(s,...t)){const e={};return t.forEach(t=>{const n=s.dataTransfer.getData(t);""!==n&&(e[t]=n)}),!n({effect:u,data:e},s)}})};const o=new Map;let s=0},function(e,t,n){"use strict";var r=n(6);class i extends r.a{constructor(e,t){super(t,"Stratify by Threshold"),this.column=e}openDialog(){if(this.column.isGroupedBy()>=0)return void this.column.groupByMe();const e=this.column.getOriginalMapping().domain,t=this.column.getStratifyThresholds(),n=`<input\n        type="number"\n        size="15"\n        value="${t.length>0?t[0]:(e[1]-e[0])/2}"\n        required\n        autofocus\n        min="${e[0]}"\n        max="${e[1]}"\n        step="any"\n      ><br>`,r=this.makePopup(n);this.onButton(r,{cancel:()=>void 0,reset:()=>void 0,submit:()=>{const e=+r.querySelector('input[type="number"]').value;return this.column.setStratifyThresholds([e]),this.column.groupByMe(),!0}})}}t.a=i},function(e,t,n){"use strict";var r=n(6),i=n(18);class a extends r.a{constructor(e,t,n="More",r){super(t,n),this.column=e,this.ctx=r}openDialog(){const e=this.makeMenuPopup("");e.classList.add("lu-more-options"),Object(i.f)(Object(i.b)(e,this.column,!0),this.column,this.ctx)}}t.a=a},function(e,t,n){"use strict";t.a=function(e,t){const n=e.desc.type;if(void 0!==t[n])return t[n];const u=function(e){const t=["default"];return Object(r.b)(e)&&t.push("categoricalLike"),Object(i.h)(e)&&t.push("numberLike"),Object(a.b)(e)&&t.push("boxplotLike"),e instanceof o.a&&t.push("stringLike"),Object(s.b)(e)&&t.push("multiLevelLike"),e instanceof s.a&&t.push("compositeLike"),e instanceof l.a&&t.push("compositeNumberLike"),t.reverse()}(e).find(e=>void 0!==t[e]);return u?t[u]:void 0};var r=n(10),i=n(2),a=n(26),o=n(9),s=n(11),l=n(15)},function(e,t,n){"use strict";var r=n(6),i=n(18),a=n(0),o=n(1);class s extends r.a{constructor(e,t,n){super(t,""),this.column=e,this.ctx=n}openDialog(){const e=this.makePopup('<div class="lu-sub-nested"></div>'),t=e.querySelector(".lu-sub-nested");this.column.children.forEach(n=>{const r=Object(i.c)(n,e.ownerDocument,this.ctx,{mergeDropAble:!1,resizeable:!1});r.className=`lu-header ${n.cssClass?` ${n.cssClass}`:""}${n.headerCssClass}${n.isFiltered()?" lu-filtered":""}`,Object(i.j)(r,n,this.ctx),t.appendChild(r)});const n=`.dialog${Math.random().toString(36).slice(-8).substr(0,3)}`,r=()=>{this.column.on(Object(a.u)(n,o.a.EVENT_ADD_COLUMN,o.a.EVENT_REMOVE_COLUMN),null)};this.column.on(Object(a.u)(n,o.a.EVENT_ADD_COLUMN,o.a.EVENT_REMOVE_COLUMN),Object(a.f)(()=>{e.parentElement?(t.innerHTML="",this.column.children.forEach(n=>{const r=Object(i.c)(n,e.ownerDocument,this.ctx,{mergeDropAble:!1,resizeable:!1});r.className=`lu-header ${n.cssClass?` ${n.cssClass}`:""}${n.headerCssClass}${n.isFiltered()?" lu-filtered":""}`,Object(i.j)(r,n,this.ctx),t.appendChild(r)})):r()})),this.onButton(e,{cancel:()=>r(),reset:()=>void 0,submit:()=>(r(),!0)})}}t.a=s},function(e,t,n){"use strict";var r=n(60),i=n(121),a=n(122),o=n(123),s=n(125);const l={stringLike:r.a,boolean:i.a,categorical:a.a,number:o.a,ordinal:s.a,boxplot:o.a,numbers:o.a};t.a=l},function(e,t,n){"use strict";var r=n(16);class i extends r.a{constructor(e,t,n="Filter"){super(e,t,n)}openDialog(){function e(){const e=n.querySelector('input[type="radio"][value="true"]').checked,t=n.querySelector('input[type="radio"][value="false"]').checked;r(!!e||!t&&null)}const t=this.column.getFilter(),n=this.makePopup(`<label><input type="radio" name="boolean_check" value="null" ${null===t?'checked="checked"':""}>No Filter</label><br>\n     <label><input type="radio" name="boolean_check" value="true" ${!0===t?'checked="checked"':""}>True</label><br>\n     <label><input type="radio" name="boolean_check" value="false" ${!1===t?'checked="checked"':""}>False</label>\n    <br>`),r=e=>{this.markFiltered(null!==e),this.column.setFilter(e)},i=Array.from(n.querySelectorAll('input[type="radio"]'));i.forEach(t=>t.addEventListener("change",e)),this.onButton(n,{cancel:()=>r(t),reset:()=>{const e=null===t?"null":String(t);i.forEach(t=>t.checked=t.value===e),r(null)},submit:()=>(e(),!0)})}}t.a=i},function(e,t,n){"use strict";var r=n(16),i=n(6);class a extends r.a{constructor(e,t,n="Filter"){super(e,t,n)}openDialog(){function e(){d.forEach((e,t)=>{const n=u[t];e.querySelector(".checkmark").innerHTML=`<i class="fa fa-${n.isChecked?"check-":""}square-o"></i>`,e.querySelector(".datalabel").style.opacity=n.isChecked?"1.0":".8"})}const t=this.column.getFilter()||{filter:[],filterMissing:!1},n=t.filter||[],a=t.filterMissing,o=this.makePopup(`<div class="selectionTable"><table><thead><th class="selectAll"></th><th>Category</th></thead><tbody></tbody></table></div>\n        ${Object(r.b)(a)}<br>`),s=this.column.categoryColors,l=this.column.categoryLabels,u=this.column.categories.map(function(e,t){return{cat:e,label:l[t],isChecked:0===n.length||n.indexOf(e)>=0,color:s[t]}}).sort(Object(i.b)("label")),c=o.querySelector("table"),d=u.map(t=>{c.insertAdjacentHTML("beforeend",`<tr>\n          <td class="checkmark"></td>\n          <td class="datalabel">${t.label}</td>\n         </tr>`);const n=c.lastElementChild;return n.querySelector("td.checkmark").addEventListener("click",()=>{t.isChecked=!t.isChecked,e()}),n});e();let h=!0;o.querySelector("thead").addEventListener("click",()=>{h=!h,u.forEach(e=>e.isChecked=h),e(),o.querySelector(".selectAll").innerHTML=`<i class="fa fa-${h?"check-":""}square-o"></i>`});const p=(e,t)=>{const n=null===e&&!1===t;this.markFiltered(!n),this.column.setFilter(n?null:{filter:e,filterMissing:t})};this.onButton(o,{cancel:()=>p(n,a),reset:()=>{u.forEach(e=>e.isChecked=!0),e(),p(null,!1)},submit:()=>{let e=u.filter(e=>e.isChecked).map(e=>e.cat);e.length===u.length&&(e=null);const t=o.querySelector('input[type="checkbox"].lu_filter_missing').checked;return p(e,t),!0}})}}t.a=a},function(e,t,n){"use strict";var r=n(16),i=n(124),a=n(59),o=n(6),s=n(2);class l extends r.a{constructor(e,t,n="Change Mapping",r,i){super(e,t,n),this.data=r,this.idPrefix=i}openDialog(){const e=this.column.getOriginalMapping();let t=this.column.getFilter(),n=this.column.getMapping(),r=n.clone(),l=t;const u=this.attachment.ownerDocument.body;u.insertAdjacentHTML("beforeend",`<div class="lu-popup">${this.dialogForm('<div class="mappingArea"></div>')}</div>`);const c=u.lastElementChild,d=(n,i)=>{r=n,l=i,this.markFiltered(!n.eq(e)||t.min!==i.min||t.max!==i.min||t.filterMissing!==i.filterMissing),this.column.setMapping(n),this.column.setFilter(i)},h={idPrefix:this.idPrefix,callback:d,triggerCallback:"dragend",padding_ver:15},p=Promise.resolve(this.data.mappingSample(this.column));let f=new i.a(c.querySelector(".mappingArea"),r,e,l,p,h);this.onButton(c,{cancel:()=>{this.column.setMapping(n),this.markFiltered(!n.eq(e))},reset:()=>{r=(n=e).clone(),t=Object(s.l)(),d(r,l=t),c.querySelector(".mappingArea").innerHTML="",f=new i.a(c.querySelector(".mappingArea"),r,e,l,p,h)},submit:()=>(d(f.scale,f.filter),!0)});const g=new a.a(this.attachment,c,{placement:"bottom-start",removeOnDestroy:!0});o.a.registerPopup(c,g,!1),this.hidePopupOnClickOutside(c)}}t.a=l},function(e,t,n){"use strict";function r(e,t,n){return Math.max(Math.min(e,n),t)}var i=n(3),a=(n.n(i),n(8)),o=n(16);class s{constructor(e,t,n,r,a,o){this.scale=t,this.original=n,this.oldFilter=r,this.dataPromise=a,this.options={idPrefix:"",width:370,height:150,padding_hor:7,padding_ver:7,filter_height:20,radius:5,callback:()=>void 0,callbackThisArg:null,triggerCallback:"change"},Object.assign(this.options,o),this.scale=t.clone(),this._filter={min:this.oldFilter.min,max:this.oldFilter.max},this.build(Object(i.select)(e))}get filter(){return this.computeFilter()}build(e){function t(){y.attr({x1:e=>m(h.scale.apply(e)),x2:g}).style("visibility",e=>{const t=h.scale.domain;return e<t[0]||e>t[t.length-1]?"hidden":null})}function n(e){return i.behavior.drag().on("dragstart",function(){Object(i.select)(this).classed("dragging",!0).attr("r",1.1*d.radius),Object(i.select)(`#me${d.idPrefix}mapping-overlay`).classed("hide",!0)}).on("drag",e).on("dragend",function(){Object(i.select)(this).classed("dragging",!1).attr("r",d.radius),Object(i.select)(`#me${d.idPrefix}mapping-overlay`).classed("hide",!1),u(!0)})}function s(){function o(){E.sort((e,t)=>e.r-t.r);const e=h.scale;e.domain=E.map(e=>e.r),e.range=E.map(e=>e.n),t()}function l(e,t){if(document.querySelector(`#me${d.idPrefix}mapping-overlay`)){document.querySelector(`#me${d.idPrefix}${t}-input`).value=e.toFixed(2)}}if(!(h.scale instanceof a.a))return;{const e=h.scale,t=e.domain,n=e.range;E=t.map((e,t)=>({r:e,n:n[t]}))}e.on("click",function(){e.select(`#me${d.idPrefix}mapping-overlay`).remove()}),e.selectAll("rect.adder").on("click",()=>{!function(e){const t=r(e,0,p);E.push({n:m.invert(t),r:g.invert(t)}),o(),s()}(Object(i.mouse)(e.select("svg > g").node())[0])});const u=e.select("g.mappings").selectAll("g.mapping").data(E);u.on("click",function(t){e.select(`#me${d.idPrefix}mapping-overlay`).remove();const n=[{label:"Normalized Input",value:t.n,domain:b,type:"normalized"},{label:"Raw Input",value:t.r,domain:v,type:"raw"}],r=e.append("div");r.attr("id",`me${d.idPrefix}mapping-overlay`).attr("style",`left: ${i.event.layerX+d.padding_hor+50}px; top: ${i.event.layerY+d.padding_ver}px`).on("click",()=>i.event.stopPropagation());const a=r.selectAll("div").data(n).enter().append("div");a.append("label").attr("for",e=>`me${d.idPrefix}${e.type}-input`).text(e=>`${e.label}: `),a.append("input").attr("id",e=>`me${d.idPrefix}${e.type}-input`).attr("type","number").attr("min",e=>e.domain[0]).attr("max",e=>e.domain[1]).attr("step",.01).attr("data-type",e=>e.type).attr("value",e=>parseFloat(e.value.toFixed(2))).on("change",e=>{const n=i.event.target,r=e.type;let a=0;switch(r){case"normalized":t.n=parseFloat(n.value),a=m(parseFloat(n.value)),Object(i.select)(this).select("line").attr("x1",a);break;case"raw":t.r=parseFloat(n.value),a=g(parseFloat(n.value)),Object(i.select)(this).select("line").attr("x2",a)}Object(i.select)(this).select(`circle.${r}`).attr("cx",a),o(),d.callback.call(d.callbackThisArg,h.scale.clone(),h.filter)}),i.event.stopPropagation()});const c=u.enter().append("g").classed("mapping",!0).on("contextmenu",(e,t)=>{i.event.preventDefault(),i.event.stopPropagation(),function(e){E.length<=2||(E.splice(e,1),o(),s())}(t)});c.append("line").attr({y1:0,y2:f}).call(n(function(e){const t=i.event.dx,n=r(m(e.n)+t,0,p),a=r(g(e.r)+t,0,p);e.n=m.invert(n),e.r=g.invert(a),Object(i.select)(this).attr("x1",n).attr("x2",a),Object(i.select)(this.parentElement).select("circle.normalized").attr("cx",n),Object(i.select)(this.parentElement).select("circle.raw").attr("cx",a),l(e.r,"raw"),l(e.n,"normalized"),o()})),c.append("circle").classed("normalized",!0).attr("r",d.radius).call(n(function(e){const t=r(i.event.x,0,p);e.n=m.invert(t),Object(i.select)(this).attr("cx",t),Object(i.select)(this.parentElement).select("line").attr("x1",t),l(e.n,"normalized"),o()})),c.append("circle").classed("raw",!0).attr("r",d.radius).attr("cy",f).call(n(function(e){const t=r(i.event.x,0,p);e.r=g.invert(t),Object(i.select)(this).attr("cx",t),Object(i.select)(this.parentElement).select("line").attr("x2",t),l(e.r,"raw"),o()})),u.select("line").attr({x1:e=>m(e.n),x2:e=>g(e.r)}),u.select("circle.normalized").attr("cx",e=>m(e.n)),u.select("circle.raw").attr("cx",e=>g(e.r)),u.exit().remove()}function l(){if(!(h.scale instanceof a.b))return void e.select("div.script").style("display","none");e.select("div.script").style("display",null);const n=h.scale,r=e.select("textarea").text(n.code);e.select("div.script").select("button").on("click",()=>{n.code=r.property("value"),t(),u()})}function u(e=!1){e&&"dragend"!==d.triggerCallback||d.callback.call(d.callbackThisArg,h.scale.clone(),h.filter)}function c(){const n=g.domain();e.select("input.raw_min").property("value",n[0]),e.select("input.raw_max").property("value",n[1]),t(),s(),function(){const t=g.domain();e.select("g.left_filter").attr("transform",`translate(${g(isFinite(h._filter.min)?h._filter.min:t[0])}, 0)`),e.select("g.right_filter").attr("transform",`translate(${g(isFinite(h._filter.max)?h._filter.max:t[1])}, 0)`);const n=[(isFinite(h._filter.min)?h._filter.min:t[0]).toFixed(1),(isFinite(h._filter.max)?h._filter.max:t[1]).toFixed(1)];Object(i.selectAll)(`#me${d.idPrefix}filter_inputs div input`).data(n).property("value",String)}()}const d=this.options,h=this;e=e.append("div").classed("lu-mapping-editor",!0);const p=d.width-2*d.padding_hor,f=d.height-2*d.padding_ver-d.filter_height;e.node().innerHTML=`<form onsubmit="return false">\n      <div><label for="me${d.idPrefix}mapping_type"><span class="title">Mapping / Scaling Type: </span><select id="me${d.idPrefix}mapping_type">\n        <option value="linear">Linear</option>\n        <option value="linear_invert">Invert</option>\n        <option value="linear_abs">Absolute</option>\n        <option value="log">Log</option>\n        <option value="pow1.1">Pow 1.1</option>\n        <option value="pow2">Pow 2</option>\n        <option value="pow3">Pow 3</option>\n        <option value="sqrt">Sqrt</option>\n        <option value="script">Custom Script</option>\n      </select>\n      </label></div>\n      <div class="filter_part"><span class="title">Mapping:</span></div>\n      <div class="mapping_area">\n        <div>\n          <span>0</span>\n          <input type="text" class="raw_min" id="me${d.idPrefix}raw_min" value="0"><label for="me${d.idPrefix}raw_min">Min</label>\n        </div>\n        <svg width="${d.width}" height="${d.height+35}">\n          <text x="${p/2}" y="10">Normalized Input</text>\n          <text x="${p/2}" y="${d.height-d.filter_height+5}">Raw Input</text>\n          <line y1="${d.padding_ver}" y2="${d.padding_ver}" x1="${d.padding_hor}" x2="${p+d.padding_hor}" stroke="black"></line>\n          <rect class="adder" x="${d.padding_hor}" width="${p}" height="10"></rect>\n          <line y1="${d.height-d.filter_height-d.padding_ver}" y2="${d.height-d.filter_height-d.padding_ver}" x1="${d.padding_hor}" x2="${p+d.padding_hor}" stroke="black"></line>\n          <rect class="adder" x="${d.padding_hor}" width="${p}" height="10" y="${d.height-d.filter_height-10}"></rect>\n          <g transform="translate(${d.padding_hor},${d.padding_ver})">\n            <g class="samples"></g>\n            <g class="mappings"></g>\n            <g class="filter" transform="translate(0,${d.height-d.filter_height-d.padding_ver-10+35})">\n               <g class="left_filter" transform="translate(0,0)">\n                  <path d="M0,0L4,7L-4,7z"></path>\n                  <rect x="-4" y="7" width="40" height="13" rx="2" ry="2"></rect>\n                  <text y="14" x="15" text-anchor="middle">Min</text>\n                </g>\n              <g class="right_filter" transform="translate(${p},0)">\n                  <path d="M0,0L4,7L-4,7z"></path>\n                  <rect x="-36" y="7" width="40" height="13" rx="2" ry="2"></rect>\n                  <text y="14" x="-15" text-anchor="middle">Max</text>\n              </g>\n            </g>\n          </g>\n        </svg>\n        <div>\n          <span>1</span>\n          <input type="text" class="raw_max" id="me${d.idPrefix}raw_max" value="1"><label for="me${d.idPrefix}raw_max">Max</label>\n        </div>\n      </div>\n      <div class="filter_part2" style=""><span class="title">Filter:</span></div>\n\n      <div id="me${d.idPrefix}filter_inputs">\n        <div>\n          <label for="me${d.idPrefix}min_filter_input">Min Filter:</label>\n          <input id="me${d.idPrefix}min_filter_input" type="number" step="0.1">\n        </div>\n        <div>\n          <label for="me${d.idPrefix}max_filter_input">Max Filter:</label>\n          <input id="me${d.idPrefix}max_filter_input" type="number" step="0.1">\n        </div>\n      </div>\n      <div>\n         Extras: <label><input type="checkbox" id="me${d.idPrefix}filterMissing" ${this.oldFilter.filterMissing?'checked="checked"':""}>${o.d}</label>\n      </div>\n      <div class="script" style="/* display: none; */">\n        <label for="me${d.idPrefix}script_code">Custom Script</label><button>Apply</button>\n        <textarea id="me${d.idPrefix}script_code">\n        </textarea>\n      </div>\n    </form>`;const g=i.scale.linear().domain([Math.min(this.scale.domain[0],this.original.domain[0]),Math.max(this.scale.domain[this.scale.domain.length-1],this.original.domain[this.original.domain.length-1])]).range([0,p]),m=i.scale.linear().domain([0,1]).range([0,p]),v=g.domain(),b=m.domain();e.select("input.raw_min").property("value",g.domain()[0]).on("blur",function(){const e=g.domain();e[0]=parseFloat(this.value),g.domain(e);const t=h.scale.domain;t[0]=e[0],h.scale.domain=t,c(),u()}),e.select("input.raw_max").property("value",g.domain()[1]).on("blur",function(){const e=g.domain();e[1]=parseFloat(this.value),g.domain(e);const t=h.scale.domain;t[t.length-1]=e[1],h.scale.domain=t,c(),u()}),e.select('input[type="checkbox"]').on("change",()=>{u()});let y=e.select("g.samples").selectAll("line").data([]);this.dataPromise.then(e=>{e=function(e){return Array.from(new Set(e))}(e),(y=y.data(e)).enter().append("line").attr({x1:e=>m(h.scale.apply(e)),y1:0,x2:g,y2:f}).style("visibility",e=>{const t=h.scale.domain;return e<t[0]||e>t[t.length-1]?"hidden":null})});let E=[];s(),l();{const t=isFinite(this.oldFilter.min)?g(this.oldFilter.min):0,a=isFinite(this.oldFilter.max)?g(this.oldFilter.max):p,o=[(isFinite(this.oldFilter.min)?this.oldFilter.min:v[0]).toFixed(1),(isFinite(this.oldFilter.max)?this.oldFilter.max:v[1]).toFixed(1)];Object(i.selectAll)(`#me${d.idPrefix}filter_inputs div input`).attr("min",v[0]).attr("max",v[1]).data(o).attr("value",e=>e).on("change",function(t,n){const r=parseFloat(this.value),i=0===n?"min":"max";if(r>=v[0]&&r<=v[1]){const t="min"===i?"left":"right",n=g(r);h._filter[i]=r===v[0]?-1/0:r===v[1]?1/0:r,e.select(`g.${t}_filter`).attr("transform",`translate(${n}, 0)`)}u()}),e.selectAll("g.left_filter, g.right_filter").data([this.oldFilter.min,this.oldFilter.max]).attr("transform",(e,n)=>`translate(${0===n?t:a},0)`).call(n(function(e,t){const n=r(i.event.x,0,p),a=g.invert(n),o=0===t?"min":"max",s=n<=0&&"min"===o?-1/0:n>=p&&"max"===o?1/0:a;h._filter[o]=s,document.querySelector(`#me${d.idPrefix}filter_inputs #me${d.idPrefix}${o}_filter_input`).value=a.toFixed(1),Object(i.select)(this).datum(s).attr("transform",`translate(${n},0)`)}))}this.computeFilter=(()=>({min:this._filter.min,max:this._filter.max,filterMissing:e.select('input[type="checkbox"]').property("checked")})),c(),e.select("select").on("change",function(){const e=this.value;if("linear_invert"===e)h.scale=new a.a(g.domain(),"linear",[1,0]);else if("linear_abs"===e){const e=g.domain();h.scale=new a.a([e[0],(e[1]-e[0])/2,e[1]],"linear",[1,0,1])}else h.scale="script"===e?new a.b(g.domain()):new a.a(g.domain(),e);t(),s(),l(),u()}).property("selectedIndex",function(){let e="script";h.scale instanceof a.a&&(e=h.scale.scaleType);return["linear","linear_invert","linear_abs","log","pow1.1","pow2","pow3","sqrt","script"].indexOf(e)})}}t.a=s},function(e,t,n){"use strict";var r=n(16),i=n(3),a=(n.n(i),n(6));class o extends r.a{constructor(e,t,n="Edit Categorical Mapping"){super(e,t,n)}openDialog(){function e(){g.forEach((e,t)=>{const n=p[t];e.querySelector(".checkmark").innerHTML=`<i class="fa fa-${n.isChecked?"check-":""}square-o"></i>`,e.querySelector(".bar").style.width=`${l(n.range)}px`,e.querySelector(".datalabel").style.opacity=n.isChecked?"1.0":".8"})}function t(){u.querySelector(".selectAll").innerHTML=`<i class="fa fa-${m?"check-":""}square-o"></i>`}const n=this.column.getFilter()||{filter:[],filterMissing:!1},o=n.filter,s=n.filterMissing,l=i.scale.linear().domain([0,100]).range([0,120]),u=this.makePopup(`<div class="selectionTable"><table><thead><th class="selectAll"></th><th colspan="2">Scale</th><th>Category</th></thead><tbody></tbody></table></div>\n        ${Object(r.b)(s)}<br>`),c=this.column.getScale().range,d=this.column.categoryColors,h=this.column.categoryLabels,p=this.column.categories.map((e,t)=>({cat:e,label:h[t],isChecked:0===o.length||o.indexOf(e)>=0,range:100*c[t],color:d[t]})).sort(Object(a.b)("label")),f=u.querySelector("table"),g=p.map(t=>{f.insertAdjacentHTML("beforeend",`<tr>\n          <td class="checkmark"></td>\n          <td><input type="number" value="${t.range}" min="0" max="100" size="5"></td>\n          <td><div class="bar" style="background-color: ${t.color}"></div></td>\n          <td class="datalabel">${t.label}</td>\n         </tr>`);const n=f.lastElementChild;return n.querySelector("td.checkmark").addEventListener("click",()=>{t.isChecked=!t.isChecked,e()}),n.querySelector("input").addEventListener("input",function(){t.range=parseFloat(this.value),e()}),n});e();let m=!0;u.querySelector("thead").addEventListener("click",()=>{m=!m,p.forEach(e=>e.isChecked=m),e(),t()}),t();const v=(e,t)=>{const n=null===e&&!1===t;this.markFiltered(!n),this.column.setFilter(n?null:{filter:e,filterMissing:t})};this.onButton(u,{cancel:()=>{v(o,s),this.column.setMapping(c)},reset:()=>{p.forEach(e=>{e.isChecked=!0,e.range=50}),e(),v(null,!1),this.column.setMapping(p.map(()=>1))},submit:()=>{let e=p.filter(e=>e.isChecked).map(e=>e.cat);e.length===p.length&&(e=null);const t=u.querySelector('input[type="checkbox"].lu_filter_missing').checked;return v(e,t),this.column.setMapping(p.map(e=>e.range/100)),!0}})}}t.a=o},function(e,t,n){"use strict";var r=n(10),i=n(8),a=n(9),o=n(51),s=n(16),l=n(60),u=n(3),c=(n.n(u),n(0));const d={stringLike:function(e,t,n){const r=t.dataset.summary;if(t.dataset.summary="string",!n){const n=e.getFilter()||"";return void(t.textContent=n===a.a.FILTER_MISSING?"":String(n))}const i=Object(l.b)(e);"string"!==r?(t.innerHTML=i.template,i.init(t)):i.update(t)},categoricalLike:function(e,t,n,i){const a=i.statsOf(e),l=t.dataset.summary;if(!a||a.hist.length>50)return void(t.innerHTML="");const u=e.categories,c=e.categoryColors,d=e.categoryLabels;if(l&&l.endsWith("hist")){const e=Array.from(t.querySelectorAll("div[data-cat]"));for(let r=e.length;r<a.hist.length;++r){t.insertAdjacentHTML("beforeend",`<div style="background-color: ${c[r]}" data-cat="${a.hist[r].cat}" ${n?`data-title="${d[r]}"`:""}></div>`);const i=t.lastElementChild;0===e.length?t.insertBefore(t.firstElementChild,i):t.insertBefore(t.children[r],i),e.push(i)}a.hist.forEach(({y:t},n)=>{const r=e[n];r.style.height=`${Math.round(100*t/a.maxBin)}%`,r.title=`${d[n]}: ${t}`})}else a.hist.forEach(({cat:e,y:r})=>{const i=u.indexOf(e);t.insertAdjacentHTML("beforeend",`<div style="height: ${Math.round(100*r/a.maxBin)}%; background-color: ${c[i]}" title="${d[i]}: ${r}" data-cat="${e}" ${n?`data-title="${d[i]}"`:""}></div>`)});if(!(e instanceof r.a||e instanceof o.a))return void(t.dataset.summary="hist");t.dataset.summary=n?"interactive-filter-hist":"interactive-hist";const h=e,p=h.getFilter();let f=null;Array.from(t.children).slice(0,u.length).forEach((e,t)=>{const n=e.dataset.cat;e.dataset.filtered=r.a.filter(p,n)?"":"filtered",e.onclick=(r=>{r.preventDefault(),r.stopPropagation();const i=h.getFilter();if(null===i||!Array.isArray(i.filter)){const n=u.slice();return e.dataset.filtered="filtered",n.splice(t,1),void h.setFilter({filterMissing:!!f&&f.checked,filter:n})}const a=i.filter.slice(),o=a.indexOf(n);o>=0?(e.dataset.filtered="filtered",a.splice(o,1)):(e.dataset.filtered="",a.push(n)),h.setFilter({filterMissing:f?f.checked:i.filterMissing,filter:a})})}),n&&("interactive-filter-hist"!==l?(t.insertAdjacentHTML("beforeend",Object(s.c)(null!==p&&p.filterMissing,a.missing)),f=t.querySelector("input")):(f=t.querySelector("input")).checked=null!==p&&p.filterMissing,f.onchange=(()=>{const e=h.getFilter();null===e?h.setFilter({filterMissing:f.checked,filter:[]}):h.setFilter({filterMissing:f.checked,filter:e.filter})}))},numberLike:function(e,t,n,r){const a=r.statsOf(e),o=t.dataset.summary;if(!a)return void(t.innerHTML="");if(!(n&&e instanceof i.d)){if(t.dataset.summary="hist",t.innerHTML="",a.hist.forEach(({x:n,y:r},i)=>{t.insertAdjacentHTML("beforeend",`<div style="height: ${Math.round(100*r/a.maxBin)}%; background-color: ${e.getMetaData().color};" title="Bin ${i}: ${r}" data-x="${n}"></div>`)}),Object(i.e)(e)){const n=e.getRange();t.insertAdjacentHTML("beforeend",`<span>${n[0]}</span><span>${n[1]}</span>`)}return}const l=e,d=l.getFilter(),h=l.getMapping().domain,p=e=>100*(e-h[0])/(h[1]-h[0]),f=e=>e/100*(h[1]-h[0])+h[0],g=isFinite(d.min)?d.min:h[0],m=isFinite(d.max)?d.max:h[1];if("slider-hist"===o){const n=Array.from(t.querySelectorAll("div[data-x]"));for(let e=n.length;e<a.hist.length;++e)t.insertAdjacentHTML("afterbegin","<div></div>"),n.unshift(t.firstElementChild);a.hist.forEach(({x:t,y:r},i)=>{const o=n[i];o.style.height=`${Math.round(100*r/a.maxBin)}%`,o.style.backgroundColor=e.getMetaData().color,o.title=`Bin ${i}: ${r}`,o.dataset.x=String(t)})}else t.dataset.summary="slider-hist",a.hist.forEach(({x:e,y:n},r)=>{t.insertAdjacentHTML("beforeend",`<div style="height: ${Math.round(100*n/a.maxBin)}%" title="Bin ${r}: ${n}" data-x="${e}"></div>`)}),t.insertAdjacentHTML("beforeend",`\n      <div data-handle="min-hint" style="width: ${Math.round(p(g))}%"></div>\n      <div data-handle="max-hint" style="width: ${Math.round(100-p(m))}%"></div>\n      <div data-handle="min" data-value="${Object(c.q)(g,2)}" style="left: ${Math.round(p(g))}%"></div>\n      <div data-handle='max' data-value="${Object(c.q)(m,2)}" style="right: ${Math.round(100-p(m))}%"></div>\n      ${Object(s.c)(d.filterMissing,a.missing)}\n    `);const v=t.querySelector("[data-handle=min]"),b=t.querySelector("[data-handle=max]"),y=t.querySelector("[data-handle=min-hint]"),E=t.querySelector("[data-handle=max-hint]"),x=t.querySelector("input");if("slider-hist"===o)return y.style.width=`${Math.round(p(g))}%`,E.style.width=`${Math.round(100-p(m))}%`,v.dataset.value=Object(c.q)(g,2).toString(),b.dataset.value=Object(c.q)(m,2).toString(),v.style.left=`${Math.round(p(g))}%`,b.style.right=`${Math.round(100-p(m))}%`,void(x.checked=d.filterMissing);const _=()=>{const e=f(parseFloat(v.style.left)),t=f(100-parseFloat(b.style.right));l.setFilter({filterMissing:x.checked,min:Math.abs(e-h[0])<.001?NaN:e,max:Math.abs(t-h[1])<.001?NaN:t})};x.onchange=(()=>_()),Object(u.selectAll)([v,b]).call(u.behavior.drag().on("dragstart",function(){Object(u.select)(this).classed("lu-dragging",!0)}).on("drag",function(){const e=u.event,n=t.clientWidth,r=Math.max(0,Math.min(e.x,n)),i=Math.round(100*r/n);if(this.dataset.value=Object(c.q)(f(i),2).toString(),"min"===this.dataset.handle)return this.style.left=`${i}%`,void(y.style.width=`${i}%`);this.style.right=`${100-i}%`,E.style.width=`${100-i}%`}).on("dragend",function(){Object(u.select)(this).classed("lu-dragging",!1),_()}))},selection:function(e,t,n,r){const i=r.provider,a=t.dataset.summary;t.dataset.summary="selection","selection"!==a&&(t.innerHTML="<i class='fa fa-square-o' title='(Un)Select All'></i>");const o=t.firstElementChild;o.onclick=(t=>{t.stopPropagation(),o.classList.contains("fa-square-o")?i.selectAllOf(e.findMyRanker()):i.setSelection([]),o.classList.toggle("fa-square-o"),o.classList.toggle("fa-check-square-o")})},aggregate:function(e,t,n,r){const i=t.dataset.summary;if(t.dataset.summary="aggregation","aggregation"!==i){let n="down";const r=e.findMyRanker();r&&r.getGroups().every(t=>e.isAggregated(t))&&(n="right"),t.innerHTML=`<i class='fa fa-caret-${n}' title='(Un)Aggregate All'></i>`}const a=t.firstElementChild;a.onclick=(t=>{t.stopPropagation();const n=e.findMyRanker();if(!n)return;const i=a.classList.contains("fa-caret-down");a.classList.toggle("fa-caret-down"),a.classList.toggle("fa-caret-right"),r.provider.aggregateAllOf(n,i)})}};t.a=d},function(e,t,n){"use strict";var r=n(41),i=n(17),a=n(33);class o{constructor(e,t,n={}){this.node=e,this.tableId=0,this.sections=[],this.visible={first:0,forcedFirst:0,last:0,forcedLast:0},this.options={columnPadding:0},this.context=Object(i.d)(0,500),Object.assign(this.options,n),e.innerHTML="<header></header><main></main>",e.classList.add("lineup-engine","lineup-multi-engine"),this.style=new r.a(this.node,t);const a=this.main;let o=a.scrollLeft;a.addEventListener("scroll",()=>{const e=a.scrollLeft;if(e===o)return;const t=e>o;o=e,this.onScrolledHorizontally(e,a.clientWidth,t)})}update(){this.context=Object(i.b)(this.sections.map(e=>e.width),NaN,this.options.columnPadding),this.updateGrid(),this.onScrolledHorizontally(this.main.scrollLeft,this.main.clientWidth,!1)}updateGrid(){const e=r.a.gridColumn(this.sections,this.context.defaultRowHeight-this.context.padding(-1));this.style.updateRule("multiTableRule",`${this.style.id} > header, ${this.style.id} > main { ${e} }`)}onScrolledHorizontally(e,t,n){const{first:r,last:o}=Object(i.c)(e,t,this.context.defaultRowHeight,this.context.exceptions,this.context.numberOfRows),s=this.visible;s.forcedFirst=r,s.forcedLast=o;let l=0;return this.sections.forEach((i,a)=>{a>=r&&a<=o?i.show(Math.max(0,e-l),Math.min(e+t-l,i.width),n):i.hide(),l+=i.width}),s.first=r,s.last=o,a.a.PARTIAL}destroy(){this.sections.forEach(e=>e.destroy()),this.node.remove()}get doc(){return this.node.ownerDocument}get header(){return this.node.querySelector("header")}get main(){return this.node.querySelector("main")}pushTable(e,...t){const n=this.doc.createElement("article"),r=this.doc.createElement("article"),i=`T${this.tableId++}`,a=this.style.tableIds(i);n.id=a.header,r.id=a.body,this.header.appendChild(n),this.main.appendChild(r);const o=e(n,r,i,this.style,...t);return o.init(),this.sections.push(o),this.update(),o}pushSeparator(e,...t){const n=this.doc.createElement("section"),r=this.doc.createElement("section");this.header.appendChild(n),this.main.appendChild(r);const i=e(n,r,this.style,...t);return i.init(),this.sections.push(i),this.update(),i}remove(e){const t=this.sections.indexOf(e);return!(t<0)&&(this.sections.splice(t,1),e.destroy(),this.update(),!0)}widthChanged(){this.update()}}t.a=o},function(e,t,n){"use strict";var r=n(17),i=n(22);class a{constructor(e,t,n){this.left=e,this.right=t,this.dataIndex=n}get dataIndices(){return[this.dataIndex]}isSelected(e){return e.has(this.dataIndex)}update(e){e.setAttribute("class","lu-slope"),e.setAttribute("d",`M0,${this.left}L200,${this.right}`)}}class o{constructor(e,t,n){this.left=e,this.right=t,this.dataIndices=n}isSelected(e){return this.dataIndices.some(t=>e.has(t))}update(e){e.setAttribute("class","lu-group-slope"),e.setAttribute("d",`M0,${this.left[0]}L200,${this.right[0]}L200,${this.right[1]}L0,${this.left[1]}Z`)}}class s{constructor(e,t,n,r){this.header=e,this.body=t,this.id=n,this.ctx=r,this.leftSlopes=[],this.rightSlopes=[],this.pool=[],this.width=200,this.node=e.ownerDocument.createElementNS("http://www.w3.org/2000/svg","svg"),this.node.innerHTML='<g transform="translate(0,0)"></g>',e.classList.add("lu-slopegraph"),t.classList.add("lu-slopegraph"),this.body.style.height="1px",t.appendChild(this.node)}init(){this.hide();const e=this.body.parentElement;let t=e.scrollTop;this.scrollListener=(()=>{const n=e.scrollTop;t!==n&&(t=n,this.onScrolledVertically(n,e.clientHeight))}),e.addEventListener("scroll",this.scrollListener)}get hidden(){return this.header.classList.contains("loading")}set hidden(e){this.header.classList.toggle("loading",e),this.body.classList.toggle("loading",e)}hide(){this.hidden=!0}show(){const e=this.hidden;this.hidden=!1,e&&this.revalidate()}destroy(){this.node.remove(),this.body.parentElement.removeEventListener("scroll",this.scrollListener)}revalidate(){if(!this.leftContext||this.hidden)return;const e=this.body.parentElement;this.onScrolledVertically(e.scrollTop,e.clientHeight)}rebuild(e,t,n,r){this.leftContext=t,this.rightContext=r;const s=new Map;let l=0;this.rightSlopes=n.map((e,t)=>{const n=r.exceptionsLookup.get(t)||r.defaultRowHeight,a=n-r.padding(t);if(Object(i.a)(e)){const n={rows:e.rows.map(e=>e.dataIndex),start:l,heightPerRow:a/e.rows.length,offset:0,ref:t};e.rows.forEach(e=>s.set(e.dataIndex,n))}else{const n=e.dataIndex;s.set(n,{rows:[n],start:l,heightPerRow:a,offset:0,ref:t})}return l+=n,[]}),l=0,this.leftSlopes=e.map((e,n)=>{const u=t.exceptionsLookup.get(n)||r.defaultRowHeight,c=u-r.padding(n),d=[];if(Object(i.a)(e)){const t=new Set(e.rows.map(e=>e.dataIndex)),n=c/e.rows.length;let r=0;e.rows.forEach(e=>{if(!t.has(e.dataIndex))return;t.delete(e.dataIndex);const i=s.get(e.dataIndex);if(!i)return;const u=i.rows.filter(e=>t.delete(e));u.push(e.dataIndex);const c=u.length,h=1===c?new a(l+r+n/2,i.start+i.offset+i.heightPerRow/2,e.dataIndex):new o([l+r,l+r+n*u.length],[i.start+i.offset,i.start+i.offset+i.heightPerRow*c],u);d.push(h),this.rightSlopes[i.ref].push(h),i.offset+=c*i.heightPerRow,r+=c*n})}else{const t=e.dataIndex,n=s.get(t);if(n){const e=new a(l+c/2,n.start+n.offset+n.heightPerRow/2,t);d.push(e),this.rightSlopes[n.ref].push(e),n.offset+=n.heightPerRow}}return l+=u,d}),this.revalidate()}onScrolledVertically(e,t){if(!this.leftContext||!this.rightContext)return;const n=Object(r.c)(e,t,this.leftContext.defaultRowHeight,this.leftContext.exceptions,this.leftContext.numberOfRows),i=Object(r.c)(e,t,this.rightContext.defaultRowHeight,this.rightContext.exceptions,this.rightContext.numberOfRows),a=Math.min(n.firstRowPos,i.firstRowPos),o=Math.max(n.endPos,i.endPos);this.body.style.transform=`translate(0, ${a.toFixed(0)}px)`,this.body.style.height=`${(o-a).toFixed(0)}px`,this.node.firstElementChild.setAttribute("transform",`translate(0,-${a.toFixed(0)})`),this.choose(n.first,n.last,i.first,i.last)}choose(e,t,n,r){const i=new Set;for(let n=e;n<=t;++n)this.leftSlopes[n].forEach(e=>i.add(e));for(let e=n;e<=r;++e)this.rightSlopes[e].forEach(e=>i.add(e));this.render(i)}render(e){const t=this.node.firstElementChild,n=Array.from(t.children);for(let t=e.size;t<n.length;++t){const e=n[t];this.pool.push(e),e.remove()}for(let r=n.length;r<e.size;++r){const e=this.pool.pop();if(e)t.appendChild(e),n.push(e);else{const e=t.ownerDocument.createElementNS("http://www.w3.org/2000/svg","path");e.onclick=(t=>{const n=e.__data__,r=this.ctx.provider,i=n.dataIndices;if(t.ctrlKey)i.forEach(e=>r.toggleSelection(e,!0));else{const e=r.isSelected(i[0]);r.setSelection(e?[]:i)}}),t.appendChild(e),n.push(e)}}const r=this.ctx.provider,i={has:e=>r.isSelected(e)};let a=0;e.forEach(e=>{const r=n[a++];e.update(r),r.__data__=e;const o=e.isSelected(i);r.classList.toggle("lu-selected",o),o&&t.appendChild(r)})}updateSelection(e){const t=this.node.firstElementChild;Array.from(t.children).forEach(n=>{const r=n.__data__.isSelected(e);n.classList.toggle("lu-selected",r),r&&t.appendChild(n)})}}t.a=s},function(e,t,n){"use strict";var r=n(130),i=n(13),a=n(65),o=n(1),s=n(134),l=n(17),u=n(19),c=n(11),d=n(22),h=n(0),p=n(135),f=n(136),g=n(62),m=n(42);class v extends h.a{fire(e,...t){super.fire(e,...t)}createEventList(){return super.createEventList().concat([v.EVENT_WIDTH_CHANGED,v.EVENT_UPDATE_DATA])}}v.EVENT_WIDTH_CHANGED="widthChanged",v.EVENT_UPDATE_DATA="updateData";class b extends r.a{constructor(e,t,n,r,a,s,u={}){super(t,n,r,a,g.a),this.ranking=e,this.ctx=s,this.data=[],this.events=new v,this.on=this.events.on.bind(this.events),this.options={animation:!0,customRowUpdate:()=>void 0},Object.assign(this.options,u);const c=this;this.delayedUpdate=Object(h.f)(function(){this.type===i.a.EVENT_DIRTY_VALUES?this.primaryType!==o.a.EVENT_RENDERER_TYPE_CHANGED&&this.primaryType!==o.a.EVENT_GROUP_RENDERER_TYPE_CHANGED&&this.primaryType!==o.a.EVENT_LABEL_CHANGED&&c.updateBody():c.events.fire(b.EVENT_UPDATE_DATA)},50,(e,t)=>{return e.self.type===i.a.EVENT_ORDER_CHANGED?e:t}),e.on(`${i.a.EVENT_DIRTY_HEADER}.body`,Object(h.f)(()=>this.updateHeaders(),50)),e.on(`${i.a.EVENT_DIRTY_VALUES}.body`,this.delayedUpdate),e.on([`${i.a.EVENT_ADD_COLUMN}.body`,`${i.a.EVENT_REMOVE_COLUMN}.body`,`${i.a.EVENT_MOVE_COLUMN}.body`],Object(h.f)(()=>this.updateAll(),50)),e.on(`${i.a.EVENT_ORDER_CHANGED}.body`,this.delayedUpdate),this.selection=new p.a(this.ctx,n),this.selection.on(p.a.EVENT_SELECT_RANGE,(e,t,n)=>{this.selection.selectRange(this.data.slice(e,t+1),n)}),this.renderCtx=Object.assign({isGroup:e=>Object(d.a)(this.data[e]),getRow:e=>this.data[e],getGroup:e=>this.data[e]},s);const f=this.createColumns();this._context=Object.assign({columns:f,column:Object(l.b)(f.map(e=>e.width),100,this.ctx.columnPadding)},Object(l.d)(0,20))}get id(){return this.ranking.id}onVisibilityChanged(e){super.onVisibilityChanged(e),e&&this.delayedUpdate.call({type:i.a.EVENT_ORDER_CHANGED})}updateHeaders(){return super.updateHeaders()}get currentData(){return this.data}get context(){return this._context}createHeader(e,t){return t instanceof s.a&&t.updateWidthRule(this.style),t.createHeader(e,this.renderCtx)}updateHeader(e,t){return t instanceof s.a&&t.updateWidthRule(this.style),t.updateHeader(e,this.renderCtx)}createCell(e,t,n){return n.createCell(t,e,this.renderCtx)}updateCell(e,t,n){return n.updateCell(e,t,this.renderCtx)}updateAll(){const e=this.createColumns();this._context=Object.assign({},this._context,{columns:e,column:Object(l.b)(e.map(e=>e.width),100,this.ctx.columnPadding)}),super.recreate(),this.events.fire(b.EVENT_WIDTH_CHANGED)}updateBody(){this.hidden||this.forEachRow((e,t)=>this.updateRow(e,t))}updateHeaderOf(e){const t=this.header.children[e],n=this._context.columns[e];n instanceof s.a&&n.updateWidthRule(this.style),this.updateHeader(t,n)}createRow(e,t){super.createRow(e,t);const n=this.renderCtx.isGroup(t);if(this.options.customRowUpdate(e,t),n)return void(e.dataset.agg="group");const{dataIndex:r,meta:i}=this.renderCtx.getRow(t);e.dataset.dataIndex=r.toString(),e.dataset.agg="detail",e.dataset.meta=i||"",this.selection.updateState(e,r),this.selection.add(e)}updateRow(e,t){const n=this.renderCtx.isGroup(t),r="group"===e.dataset.agg;if(this.options.customRowUpdate(e,t),n!==r&&(e.innerHTML="",e.dataset.agg=n?"group":"detail",n?(e.dataset.dataIndex="",this.selection.remove(e)):this.selection.add(e)),!n){const{dataIndex:n,meta:r}=this.renderCtx.getRow(t);e.dataset.dataIndex=n.toString(),e.dataset.meta=r||"",this.selection.updateState(e,n)}super.updateRow(e,t)}updateSelection(e){this.forEachRow((t,n)=>{this.renderCtx.isGroup(n)?this.updateRow(t,n):this.selection.update(t,e)},!0)}updateColumnWidths(){this._context.column=Object(l.b)(this._context.columns.map(e=>e.width),100,this.ctx.columnPadding),super.updateColumnWidths();const{columns:e}=this.context;e.forEach(e=>{e instanceof s.a&&e.updateWidthRule(this.style)}),this.events.fire(b.EVENT_WIDTH_CHANGED)}updateColumn(e){const t=this.context.columns[e];this.forEachRow((n,r)=>{const i=n.children[e],a=this.updateCell(i,r,t);i!==a&&a&&(Object(m.b)(a,t),n.replaceChild(a,i))})}destroy(){super.destroy(),this.ranking.flatColumns.forEach(e=>this.disableListener(e))}disableListener(e){e.on(`${o.a.EVENT_WIDTH_CHANGED}.body`,null),e.on([`${o.a.EVENT_RENDERER_TYPE_CHANGED}.body`,`${o.a.EVENT_GROUP_RENDERER_TYPE_CHANGED}.body`,`${o.a.EVENT_LABEL_CHANGED}.body`],null),Object(c.b)(e)&&(e.on(`${u.b.EVENT_MULTI_LEVEL_CHANGED}.body`,null),e.on(`${u.b.EVENT_MULTI_LEVEL_CHANGED}.bodyUpdate`,null))}groupData(e){const t=this.ranking.getGroups(),n=this.ctx.provider,r=(e,t)=>1===t?"first last":0===e?"first":e===t-1?"last":void 0;if(1===t.length)return n.isAggregated(this.ranking,t[0])?[Object.assign({rows:e},t[0])]:e.map((n,i)=>Object.assign({group:t[0],relativeIndex:i,meta:r(i,e.length)},n));let i=0;const a=[];return t.forEach(t=>{const o=t.order.length,s=e.slice(i,i+o);i+=o,n.isAggregated(this.ranking,t)?a.push(Object.assign({rows:s},t)):a.push(...s.map((e,n)=>Object.assign({group:t,relativeIndex:n,meta:r(n,s.length)},e)))}),a}render(e,t){const n=this._context;n.columns.forEach(e=>this.disableListener(e.c));const r=this.data;this.data=e,this.renderCtx.totalNumberOfRows=e.length;const i=this.createColumns();return this._context=Object.assign({columns:i,column:Object(l.b)(i.map(e=>e.width),100,this.ctx.columnPadding)},t),super.recreate(this.options.animation?Object(f.a)(n,r,this.data):void 0)}fakeHover(e){const t=this.body.querySelector("[data-data-index].lu-hovered");t&&t.classList.remove("lu-hovered");const n=this.body.querySelector(`[data-data-index="${e}"]`);n&&n.classList.add("lu-hovered")}createColumns(){const e=[];this.ranking.flatten(e,0,1,0);return e.map(e=>e.col).map((e,t)=>this.createColumn(e,t))}createColumn(e,t){const n=this.ctx.createRenderer(e);if(e.on(`${o.a.EVENT_WIDTH_CHANGED}.body`,()=>{this.updateColumnWidths()}),e.on([`${o.a.EVENT_RENDERER_TYPE_CHANGED}.body`,`${o.a.EVENT_GROUP_RENDERER_TYPE_CHANGED}.body`,`${o.a.EVENT_LABEL_CHANGED}.body`],()=>{this._context.columns[t]=this.createColumn(e,t),this.updateColumn(t)}),Object(c.b)(e)&&!e.getCollapsed()){const r=new s.a(e,n,t,this.ctx.columnPadding);return e.on(`${u.b.EVENT_MULTI_LEVEL_CHANGED}.body`,()=>{r.updateWidthRule(this.style)}),e.on(`${u.b.EVENT_MULTI_LEVEL_CHANGED}.bodyUpdate`,Object(h.f)(()=>this.updateColumn(t),25)),r}return new a.a(e,n,t)}}t.a=b,b.EVENT_WIDTH_CHANGED=v.EVENT_WIDTH_CHANGED,b.EVENT_UPDATE_DATA=v.EVENT_UPDATE_DATA},function(e,t,n){"use strict";var r=n(131),i=n(133),a=n(33);class o extends r.a{constructor(e,t,n,r,...a){super(t,...a),this.header=e,this.tableId=n,this.style=r;const o=this;class s extends i.a{get context(){return o.context}createHeader(e,t){return o.createHeader(e,t)}updateHeader(e,t){return o.updateHeader(e,t)}createCell(e,t,n){return o.createCell(e,t,n)}updateCell(e,t,n){return o.updateCell(e,t,n)}forEachRow(e){return o.forEachRow(e)}}this.cell=new s(this.header,this.style,n,...a)}addColumnMixin(e,t){this.cell.addColumnMixin(e,t)}get width(){return this.context.column.totalHeight}get hidden(){return this.header.classList.contains("loading")}set hidden(e){this.hidden!==e&&(this.header.classList.toggle("loading",e),this.body.classList.toggle("loading",e),this.onVisibilityChanged(!e))}onVisibilityChanged(e){}hide(){this.hidden=!0}show(e,t,n){this.hidden=!1,this.cell.onScrolledHorizontally(e,t,n)}init(){this.hide(),this.cell.init(),super.init()}destroy(){super.destroy(),this.header.remove(),this.style.remove(this.tableId)}onScrolledVertically(e,t,n){return this.hidden?a.a.NONE:super.onScrolledVertically(e,t,n)}onScrolledHorizontally(e,t,n){return this.cell.onScrolledHorizontally(e,t,n)}updateHeaders(){this.cell.updateHeaders()}updateColumnWidths(){const e=this.context;this.style.update(e.defaultRowHeight-e.padding(-1),e.columns,e.column.defaultRowHeight-e.column.padding(-1),e.column.padding,this.tableId)}recreate(e){const t=this.bodyScroller,n=t.scrollLeft;this.cell.recreate(n,t.clientWidth),super.recreate(e),t.scrollLeft=n}clearPool(){super.clearPool(),this.cell.clearPool()}createRow(e,t){this.cell.createRow(e,t)}updateRow(e,t){this.cell.updateRow(e,t)}}t.a=o},function(e,t,n){"use strict";var r=n(17),i=n(132),a=n(33),o=n(63),s=n(64);class l{constructor(e,...t){this.body=e,this.pool=[],this.loadingPool=[],this.loading=new Map,this.visible={first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstRowPos=0,this.abortAnimation=(()=>void 0),this.adapter=this.createAdapter(),this.mixins=t.map(e=>new e(this.adapter)),this.fragment=e.ownerDocument.createDocumentFragment()}addMixin(e,t){this.mixins.push(new e(this.adapter,t))}createAdapter(){const e={visible:this.visible,addAtBeginning:this.addAtBeginning.bind(this),addAtBottom:this.addAtBottom.bind(this),removeFromBeginning:this.removeFromBeginning.bind(this),removeFromBottom:this.removeFromBottom.bind(this),updateOffset:this.updateOffset.bind(this),scroller:this.bodyScroller};return Object.defineProperties(e,{visibleFirstRowPos:{get:()=>this.visibleFirstRowPos,enumerable:!0},context:{get:()=>this.context,enumerable:!0}}),e}get bodyScroller(){return this.body.parentElement}init(){const e=this.bodyScroller;let t=e.scrollTop;this.scrollListener=(()=>{const n=e.scrollTop;if(t===n)return;const r=n>t;t=n,this.onScrolledVertically(n,e.clientHeight,r)}),e.addEventListener("scroll",this.scrollListener),this.recreate()}destroy(){this.bodyScroller.removeEventListener("scroll",this.scrollListener),this.body.remove()}static cleanUp(e){e.style.height&&(e.style.height=null)}select(e){let t,n;return this.pool.length>0?(t=this.pool.pop(),n=this.updateRow(t,e)):this.loadingPool.length>0?((t=this.loadingPool.pop()).classList.remove("loading"),n=this.createRow(t,e)):(t=this.body.ownerDocument.createElement("div"),n=this.createRow(t,e)),t.dataset.index=String(e),{item:t,result:n}}selectProxy(){let e;return this.loadingPool.length>0?e=this.loadingPool.pop():(e=this.body.ownerDocument.createElement("div")).classList.add("loading"),e}recycle(e){if(l.cleanUp(e),this.loading.has(e)){this.loading.get(e).abort()}else this.pool.push(e)}proxy(e,t){if(!Object(i.b)(t))return e;const n=t,r=e,a=this.selectProxy();return a.dataset.index=r.dataset.index,a.style.height=r.style.height,this.loading.set(a,n),n.then(e=>{e===i.a?(l.cleanUp(r),this.pool.push(r)):this.body.replaceChild(r,a),this.loading.delete(a),l.cleanUp(a),this.loadingPool.push(a)}),a}create(e){const{item:t,result:n}=this.select(e),{exceptionsLookup:r,padding:i}=this.context;return r.has(e)&&(t.style.height=`${r.get(e)-i(e)}px`),this.proxy(t,n)}removeAll(){const e=Array.from(this.body.children);this.body.innerHTML="",e.forEach(e=>{this.recycle(e)})}update(){const e=this.visible.first,t=this.fragment,n=Array.from(this.body.children);this.body.innerHTML="",n.forEach((n,r)=>{if(this.loading.has(n))return;const i=this.updateRow(n,r+e);t.appendChild(this.proxy(n,i))}),this.body.appendChild(t)}forEachRow(e,t=!1){const n=Array.from(this.body.children),r=this.fragment;t||(this.body.innerHTML=""),n.forEach((n,i)=>{n.classList.contains("loading")||"update_remove"===n.dataset.animation||"hide"===n.dataset.animation||e(n,i+this.visible.first),t||r.appendChild(n)}),t||this.body.appendChild(r)}removeFromBeginning(e,t){return this.remove(e,t,!0)}removeFromBottom(e,t){return this.remove(e,t,!1)}remove(e,t,n){for(let r=e;r<=t;++r){const e=n?this.body.firstChild:this.body.lastChild;e.remove(),this.recycle(e)}}addAtBeginning(e,t){if(e===t)return void this.body.insertBefore(this.create(e),this.body.firstChild);const n=this.fragment;for(let r=e;r<=t;++r)n.appendChild(this.create(r));this.body.insertBefore(n,this.body.firstChild)}addAtBottom(e,t){if(e===t)return void this.body.appendChild(this.create(e));const n=this.fragment;for(let r=e;r<=t;++r)n.appendChild(this.create(r));this.body.appendChild(n)}updateOffset(e){const{totalHeight:t}=this.context;this.visibleFirstRowPos=e,this.body.classList.toggle("odd",this.visible.first%2==1),this.body.style.transform=`translate(0, ${e.toFixed(0)}px)`,this.body.style.height=`${Math.max(1,t-e).toFixed(0)}px`}recreate(e){return this.abortAnimation(),e?this.recreateAnimated(e):this.recreatePure()}recreatePure(){const e=this.context,t=this.bodyScroller;this.updateOffset(0),this.removeAll(),this.clearPool();const{first:n,last:i,firstRowPos:a}=Object(r.c)(t.scrollTop,t.clientHeight,e.defaultRowHeight,e.exceptions,e.numberOfRows);this.visible.first=this.visible.forcedFirst=n,this.visible.last=this.visible.forcedLast=i,n<0?this.updateOffset(0):(this.addAtBottom(n,i),this.updateOffset(a))}recreateAnimated(e){const t=new Map,n=new o.a(e.previous,e.previousKey),i=new o.a(this.context,e.currentKey),a=Object(r.c)(this.bodyScroller.scrollTop,this.bodyScroller.clientHeight,i.context.defaultRowHeight,i.context.exceptions,i.context.numberOfRows);{const e=Array.from(this.body.children),r=Object.assign({},this.visible);n.positions(r.first,Math.min(r.last,r.first+e.length),this.visibleFirstRowPos,(n,r,i)=>{const a=e[n];a&&t.set(r,{n:a,pos:i,i:n})}),this.body.innerHTML=""}this.visible.first=this.visible.forcedFirst=a.first,this.visible.last=this.visible.forcedLast=a.last;const l=this.fragment,u=[];let c=a.firstRowPos;i.positions(a.first,a.last,a.firstRowPos,(e,r,a)=>{let o,d,h=s.a.UPDATE;if(t.has(r)){const i=t.get(r);t.delete(r),o=this.proxy(i.n,this.updateRow(i.n,e)),d={index:i.i,y:i.pos,height:n.exceptionHeightOf(i.i,!0)}}else{const t=n.posByKey(r);o=this.create(e),h=t.index<0?s.a.SHOW:s.a.UPDATE_CREATE,d={index:t.index,y:t.pos>=0?t.pos:a,height:t.index<0?i.exceptionHeightOf(e,!0):n.exceptionHeightOf(t.index,!0)}}u.push({node:o,key:r,mode:h,previous:d,nodeY:c,nodeYCurrentHeight:a,current:{index:e,y:a,height:i.exceptionHeightOf(e)}}),o.style.transform=`translate(0, ${c-a}px)`,c+=d.height+(d.index<0?i.padding(e):n.padding(d.index)),l.appendChild(o)});let d=a.endPos;t.forEach((e,t)=>{const r=i.posByKey(t),a=r.pos>=0?r.pos:e.pos,o=e.n;o.style.transform=`translate(0, ${e.pos-c}px)`,l.appendChild(o);const h=n.exceptionHeightOf(e.i,!0);u.push({node:e.n,key:t,mode:r.index<0?s.a.HIDE:s.a.UPDATE_REMOVE,previous:{index:e.i,y:e.pos,height:h},nodeY:c,nodeYCurrentHeight:d,current:{index:r.index,y:a,height:r.index<0?null:i.exceptionHeightOf(r.index)}}),d+=r.index<0?i.context.defaultRowHeight:i.exceptionHeightOf(r.index,!0)+i.padding(r.index),c+=h+n.padding(e.i)}),this.updateOffset(a.firstRowPos),this.animate(u,e.phases||s.b,n,i,l)}animate(e,t,n,r,i){if(e.length<=0)return void this.body.appendChild(i);let a=-1,o=0;const l=t=>{e.forEach(e=>t.apply(e,n,r))},u=()=>{if(console.assert(e[0].node.offsetTop>=0,"dummy log for forcing dom update"),l(t[o++]),o<t.length){const e=t[o];return void(a=setTimeout(u,e.delay))}const n=this.body.classList;Array.from(n).forEach(e=>{e.startsWith("le-")&&e.endsWith("-animation")&&n.remove(e)}),e.forEach(({node:e,mode:t})=>{t!==s.a.UPDATE_REMOVE&&t!==s.a.HIDE||(e.remove(),e.style.transform=null,this.recycle(e))}),this.abortAnimation=(()=>void 0),a=-1};for(this.abortAnimation=(()=>{a<=0||(clearTimeout(a),a=-1,o=t.length-1,u())});0===t[o].delay;)l(t[o++]);const c=this.body;this.body.appendChild(i),c.classList.add("le-row-animation"),new Set(e.map(e=>e.mode)).forEach(e=>{c.classList.add(`le-${s.a[e].toLowerCase().split("_")[0]}-animation`)}),a=setTimeout(u,t[o].delay)}clearPool(){this.pool.splice(0,this.pool.length)}revalidate(){const e=this.bodyScroller;this.onScrolledVertically(e.scrollTop,e.clientHeight,!0),this.updateOffset(this.visibleFirstRowPos)}onScrolledVertically(e,t,n){const r=this.onScrolledImpl(e,t);return this.mixins.forEach(e=>e.onScrolled(n,r)),r}onScrolledImpl(e,t){const n=this.context,{first:i,last:o,firstRowPos:s}=Object(r.c)(e,t,n.defaultRowHeight,n.exceptions,n.numberOfRows),l=this.visible;if(l.forcedFirst=i,l.forcedLast=o,i-l.first>=0&&o-l.last<=0)return a.a.NONE;let u=a.a.PARTIAL;return i>l.last||o<l.first?(this.removeAll(),this.addAtBottom(i,o),u=a.a.ALL):i<l.first?(this.removeFromBottom(o+1,l.last),this.addAtBeginning(i,l.first-1)):(this.removeFromBeginning(l.first,i-1),this.addAtBottom(l.last+1,o)),l.first=i,l.last=o,this.updateOffset(s),u}}t.a=l},function(e,t,n){"use strict";t.b=function(e){return void 0!==e&&null!==e&&e&&"function"==typeof e.then&&"function"==typeof e.abort};const r=Symbol("aborted");t.a=r},function(e,t,n){"use strict";function r(e,t,n){const r=Array.from(e.children);if(r.length<=1)return;const i=r.map(e=>n.find(t=>t.id===e.dataset.id));console.assert(i.every(e=>Boolean(e)),"all columns must exist",t),console.assert(i.every((e,t)=>0===t||e.index>=i[t-1].index),"all columns in ascending order",t),console.assert(new Set(i).size===i.length,"unique columns",i)}var i=n(17),a=n(33),o=n(42);class s{constructor(e,t,n,...r){this.header=e,this.style=t,this.tableId=n,this.cellPool=[],this.visibleColumns={frozen:[],first:0,forcedFirst:0,last:-1,forcedLast:-1},this.visibleFirstColumnPos=0,this.columnAdapter=this.createColumnAdapter(),this.columnMixins=r.map(e=>new e(this.columnAdapter)),this.columnFragment=e.ownerDocument.createDocumentFragment()}get headerScroller(){return this.header.parentElement}addColumnMixin(e,t){this.columnMixins.push(new e(this.columnAdapter,t))}createColumnAdapter(){const e={visible:this.visibleColumns,addAtBeginning:this.addColumnAtStart.bind(this),addAtBottom:this.addColumnAtEnd.bind(this),removeFromBeginning:this.removeColumnFromStart.bind(this),removeFromBottom:this.removeColumnFromEnd.bind(this),updateOffset:this.updateColumnOffset.bind(this),scroller:this.headerScroller,syncFrozen:this.syncFrozen.bind(this)};return Object.defineProperties(e,{visibleFirstRowPos:{get:()=>this.visibleFirstColumnPos,enumerable:!0},context:{get:()=>this.context.column,enumerable:!0}}),e}init(){const e=this.context;this.style.update(e.defaultRowHeight-e.padding(-1),e.columns,e.column.defaultRowHeight-e.column.padding(-1),e.column.padding,this.tableId),e.columns.forEach(()=>{this.cellPool.push([])})}onScrolledHorizontally(e,t,n){const r=this.onScrolledHorizontallyImpl(e,t);return this.columnMixins.forEach(e=>e.onScrolled(n,r)),r}removeColumnFromStart(e,t,n=this.visibleColumns.frozen.length){this.forEachRow(r=>{this.removeCellFromStart(r,e,t,n)})}removeCellFromStart(e,t,n,r){for(let i=t;i<=n;++i){const t=0===r?e.firstElementChild:e.children[r];t.remove(),this.recycleCell(t,i)}}removeColumnFromEnd(e,t){this.forEachRow(n=>{this.removeCellFromEnd(n,e,t)})}removeCellFromEnd(e,t,n){for(let r=n;r>=t;--r){const t=e.lastElementChild;t.remove(),this.recycleCell(t,r)}}removeFrozenCells(e,t,n){for(const r of t){const t=e.children[n];t.remove(),this.recycleCell(t,r)}}removeFrozenColumns(e,t){this.forEachRow(n=>{this.removeFrozenCells(n,e,t)})}removeAllColumns(e){this.forEachRow(t=>{this.removeAllCells(t,e)})}removeAllCells(e,t,n=this.visibleColumns.first){const r=Array.from(e.children),i=this.visibleColumns.frozen;if(e.innerHTML="",t||0===i.length)for(const e of i)this.recycleCell(r.shift(),e);else for(const t of i)e.appendChild(r.shift());r.forEach((e,t)=>{this.recycleCell(e,t+n)})}selectCell(e,t,n){const r=this.cellPool[t],i=n[t];if(r.length>0){const t=r.pop(),n=this.updateCell(t,e,i);return n&&n!==t&&Object(o.b)(n,i),n||t}const a=this.createCell(this.header.ownerDocument,e,i);return Object(o.b)(a,i),a}recycleCell(e,t){this.cellPool[t].push(e)}addColumnAtStart(e,t,n=this.visibleColumns.frozen.length){const{columns:r}=this.context;this.forEachRow((i,a)=>{this.addCellAtStart(i,a,e,t,n,r)})}addCellAtStart(e,t,n,r,i,a){for(let o=r;o>=n;--o){const n=this.selectCell(t,o,a);e.insertBefore(n,i>0?e.children[i]:e.firstChild)}}insertFrozenCells(e,t,n,r,i){const a=e.children[r];for(const r of n){const n=this.selectCell(t,r,i);a?e.insertBefore(n,a):e.appendChild(n)}}insertFrozenColumns(e,t){const{columns:n}=this.context;this.forEachRow((r,i)=>{this.insertFrozenCells(r,i,e,t,n)})}addColumnAtEnd(e,t){const{columns:n}=this.context;this.forEachRow((r,i)=>{this.addCellAtEnd(r,i,e,t,n)})}verifyRows(){const{columns:e}=this.context;this.forEachRow((t,n)=>r(t,n,e))}addCellAtEnd(e,t,n,r,i){for(let a=n;a<=r;++a){const n=this.selectCell(t,a,i);e.appendChild(n)}}updateHeaders(){const{columns:e}=this.context;Array.from(this.header.children).forEach((t,n)=>{this.updateHeader(t,e[n])})}recreate(e,t){const n=this.context;void 0===n.hasFrozenColumns&&(n.hasFrozenColumns=n.columns.some(e=>e.frozen)),this.style.update(n.defaultRowHeight-n.padding(-1),n.columns,n.column.defaultRowHeight-n.column.padding(-1),n.column.padding,this.tableId),this.clearPool();for(let e=this.cellPool.length;e<n.columns.length;++e)this.cellPool.push([]);{const e=this.columnFragment,t=e.ownerDocument;this.header.innerHTML="",n.columns.forEach(n=>{const r=this.createHeader(t,n);Object(o.b)(r,n),e.appendChild(r)}),this.header.appendChild(e)}const{first:r,last:a,firstRowPos:s}=Object(i.c)(e,t,n.column.defaultRowHeight,n.column.exceptions,n.column.numberOfRows);if(this.visibleColumns.first=this.visibleColumns.forcedFirst=r,this.visibleColumns.last=this.visibleColumns.forcedLast=a,n.hasFrozenColumns){const{target:e}=Object(i.e)([],n.columns,r);this.visibleColumns.frozen=e}this.updateColumnOffset(s)}clearPool(){this.cellPool.forEach(e=>e.splice(0,e.length))}updateColumnOffset(e){this.visibleFirstColumnPos=e}createRow(e,t){const{columns:n,hasFrozenColumns:r}=this.context,i=this.visibleColumns;if(r)for(const r of i.frozen){const i=this.selectCell(t,r,n);e.appendChild(i)}for(let r=i.first;r<=i.last;++r){const i=this.selectCell(t,r,n);e.appendChild(i)}}updateRow(e,t){const{columns:n,hasFrozenColumns:r}=this.context,a=this.visibleColumns,s=Array.from(e.children);switch(s.length){case 0:r&&this.insertFrozenCells(e,t,a.frozen,0,n),this.addCellAtEnd(e,t,a.first,a.last,n);break;case 1:const l=s[0],u=l.dataset.id,c=n.findIndex(e=>e.id===u);e.removeChild(l),this.recycleCell(l,c),r&&this.insertFrozenCells(e,t,a.frozen,0,n),this.addCellAtEnd(e,t,a.first,a.last,n);break;default:if(r){const r=[];for(const e of s){const t=e.dataset.id,i=n.findIndex(e=>e.id===t);if(!n[i].frozen)break;r.push(i)}const{common:l,removed:u,added:c}=Object(i.a)(r,a.frozen);s.slice(0,l).forEach((i,a)=>{const s=n[r[a]],l=this.updateCell(i,t,s);l&&l!==i&&(Object(o.b)(l,s),e.replaceChild(l,i))}),this.removeFrozenCells(e,u,l),this.insertFrozenCells(e,t,c,l,n),s.splice(0,r.length)}const d=s[0].dataset.id,h=s[s.length-1].dataset.id,p=n.findIndex(e=>e.id===d),f=n.findIndex(e=>e.id===h),g=a.frozen.length;p===a.first&&f===a.last?s.forEach((r,i)=>{const s=n[i+a.first],l=this.updateCell(r,t,s);l&&l!==r&&(Object(o.b)(l,s),e.replaceChild(l,r))}):a.last>p||a.first<f?(this.removeAllCells(e,!1,p),this.addCellAtStart(e,t,a.first,a.last,g,n)):a.first<p?(this.removeCellFromEnd(e,a.last+1,p),this.addCellAtStart(e,t,a.first,p-1,g,n)):(this.removeCellFromStart(e,p,a.first-1,g),this.addCellAtEnd(e,t,f+1,a.last,n))}}syncFrozen(e){const{columns:t,hasFrozenColumns:n}=this.context,r=this.visibleColumns;if(!n)return 0;if(0===e)return r.frozen.length>0&&(this.removeFrozenColumns(r.frozen,0),r.frozen=[]),0;const a=r.frozen.length,{target:o,added:s,removed:l}=Object(i.e)(r.frozen,t,e);return l.length>0&&this.removeFrozenColumns(l,a-l.length),s.length>0&&this.insertFrozenColumns(s,a-l.length),r.frozen=o,o.length}onScrolledHorizontallyImpl(e,t){const{column:n}=this.context,{first:r,last:o,firstRowPos:s}=Object(i.c)(e,t,n.defaultRowHeight,n.exceptions,n.numberOfRows),l=this.visibleColumns;if(l.forcedFirst=r,l.forcedLast=o,r-l.first>=0&&o-l.last<=0)return a.a.NONE;let u=a.a.PARTIAL;const c=this.syncFrozen(r);return r>l.last||o<l.first?(this.removeAllColumns(!1),this.addColumnAtEnd(r,o),u=a.a.ALL):r<l.first?(this.removeColumnFromEnd(o+1,l.last),this.addColumnAtStart(r,l.first-1,c)):(this.removeColumnFromStart(l.first,r-1,c),this.addColumnAtEnd(l.last+1,o)),l.first=r,l.last=o,this.updateColumnOffset(s),u}}t.a=s},function(e,t,n){"use strict";var r=n(18),i=n(65),a=n(0),o=n(41),s=n(40);class l extends i.a{constructor(e,t,n,r){super(e,t,n),this.columnPadding=r}get mc(){return this.c}get width(){return this.c.getWidth()+this.columnPadding*this.mc.length}createHeader(e,t){const n=super.createHeader(e,t),i=e.createElement("div");i.classList.add("lu-nested"),i.classList.add(Object(s.c)(this.c)),n.appendChild(i);const a=this.mc;return a.getCollapsed()?n:(a.children.forEach((n,a)=>{const s=Object(r.c)(n,e,t);s.style.marginLeft=a>0?`${2*this.columnPadding}px`:null,s.classList.add("lu-header"),o.b?s.style.msGridColumn=(a+1).toString():s.style.gridColumnStart=(a+1).toString(),i.appendChild(s)}),this.updateNested(i,t),n)}updateHeader(e,t){super.updateHeader(e,t);const n=e.querySelector(".lu-nested");n&&this.updateNested(n,t)}updateWidthRule(e){const t=this.mc,n=this.width,r=t.children.map(e=>`${Object(a.q)(100*e.getWidth()/n,2)}%`),i=Object(s.c)(this.c);return e.updateRule(`stacked-${this.c.id}`,`.lineup-engine .${i} {\n      display: ${o.b?"-ms-grid":"grid"};\n      ${o.b?"-ms-grid-columns":"grid-template-columns"}: ${r.join(" ")};\n    }`),i}updateNested(e,t){if(this.mc.getCollapsed())return;const n=this.mc.children,i=Array.from(e.children);n.forEach((e,n)=>{const a=i[n];a.className=`lu-header ${e.cssClass?` ${e.cssClass}`:""}${this.c.headerCssClass}${this.c.isFiltered()?" lu-filtered":""}`,Object(r.j)(a,e,t)})}}t.a=l},function(e,t,n){"use strict";var r=n(0),i=n(54),a=n(22);class o extends r.a{constructor(e,t){super(),this.ctx=e,this.body=t,this.start=null,this.startNode=null,this.endNode=null;const n=t.parentElement.parentElement;let r=n.querySelector("hr");r||(r=n.ownerDocument.createElement("hr"),n.appendChild(r)),this.hr=r,t.addEventListener("mousemove",e=>{this.start&&this.showHint(this.start,e)}),t.addEventListener("mousedown",e=>{const t=n.getBoundingClientRect();this.start={x:e.x,y:e.y,xShift:t.left,yShift:t.top}});const i=e=>{this.select(e.ctrlKey),this.start=this.startNode=this.endNode=null,this.body.classList.remove("lu-selection-active"),this.hr.classList.remove("lu-selection-active")};t.addEventListener("mouseup",i),t.addEventListener("mouseleave",i)}createEventList(){return super.createEventList().concat([o.EVENT_SELECT_RANGE])}select(e){if(!this.start||!this.startNode||!this.endNode)return;if(this.startNode===this.endNode)return;const t=parseInt(this.startNode.dataset.index,10),n=parseInt(this.endNode.dataset.index,10),r=Math.min(t,n),i=Math.max(t,n);r!==i&&this.fire(o.EVENT_SELECT_RANGE,r,i,e)}showHint(e,t){this.start=e;const n=e.y,r=t.y,i=Math.abs(n-r)>o.MIN_DISTANCE;this.body.classList.toggle("lu-selection-active",i),this.hr.classList.toggle("lu-selection-active",i),this.hr.style.transform=`translate(${e.x-e.xShift}px,${n-e.yShift}px)scale(1,${Math.abs(r-n)})rotate(${r>n?90:-90}deg)`}remove(e){e.onclick=e.onmousedown=e.onmouseup=void 0}add(e){e.onclick=(t=>{const n=parseInt(e.dataset.dataIndex,10);this.ctx.provider.toggleSelection(n,t.ctrlKey)}),e.onmousedown=(()=>{this.startNode=e}),e.onmouseup=(()=>{this.start&&(this.endNode=e)})}selectRange(e,t=!1){const n=new i.a(t?this.ctx.provider.getSelection():[]),r=e=>{n.has(e)?n.delete(e):n.add(e)};e.forEach(e=>{Object(a.a)(e)?e.rows.forEach(e=>r(e.dataIndex)):r(e.dataIndex)}),this.ctx.provider.setSelection(Array.from(n))}updateState(e,t){this.ctx.provider.isSelected(t)?e.classList.add("lu-selected"):e.classList.remove("lu-selected")}update(e,t){const n=parseInt(e.dataset.dataIndex,10);t.has(n)?e.classList.add("lu-selected"):e.classList.remove("lu-selected")}}t.a=o,o.EVENT_SELECT_RANGE="selectRange",o.MIN_DISTANCE=10},function(e,t,n){"use strict";function r(e){const t=new Map,n=new Map;return e.forEach((e,r)=>{Object(a.a)(e)?e.rows.forEach(e=>t.set(e.dataIndex,r)):e.group&&0===e.relativeIndex&&n.set(e.group.name,r)}),{item2groupIndex:t,group2firstItemIndex:n}}function i(e){return Object(a.a)(e)?e.name:e.dataIndex.toString()}t.a=function(e,t,n){const s=e=>i(t[e]),l=e=>i(n[e]);if(t.reduce((e,t)=>e+(Object(a.a)(t)?1:0),0)===n.reduce((e,t)=>e+(Object(a.a)(t)?1:0),0))return{currentKey:l,previous:e,previousKey:s};let u,c;const d=[Object.assign({},o.b[0],{apply(e,i){o.b[0].apply(e),e.mode===o.a.SHOW&&(e.node.style.transform=`translate(0, ${((e,i,o)=>{u||(u=r(t));const l=n[e],c=Object(a.a)(l)?u.group2firstItemIndex.get(l.name):u.item2groupIndex.get(l.dataIndex);if(void 0===c)return o;const d=i.posByKey(s(c));return d.pos>=0?d.pos:o})(e.current.index,i,e.previous.y)-e.nodeY}px)`)}}),Object.assign({},o.b[1],{apply(e,i,s){o.b[1].apply(e),e.mode===o.a.HIDE&&(e.node.style.transform=`translate(0, ${((e,i,o)=>{c||(c=r(n));const s=t[e],u=Object(a.a)(s)?c.group2firstItemIndex.get(s.name):c.item2groupIndex.get(s.dataIndex);if(void 0===u)return o;const d=i.posByKey(l(u));return d.pos>=0?d.pos:o})(e.previous.index,s,e.current.y)-e.nodeY}px)`)}}),o.b[o.b.length-1]];return{previous:e,previousKey:s,currentKey:l,phases:d}};var a=n(22),o=n(64)},function(e,t,n){"use strict";var r=n(0),i=n(138),a=n(139),o=n(32),s=n(66);class l extends r.a{constructor(e,t,n,l){super(),this.config=n,this.header=new s.a(e,t,Object(r.p)({},this.config.header,{idPrefix:this.config.idPrefix,manipulative:this.config.manipulative,summary:this.config.renderingOptions.summary,freezeCols:this.config.body.freezeCols})),t.insertAdjacentHTML("beforeend",'<div class="lu-body-wrapper"></div>');const u=t.lastElementChild;{const t=Object(r.p)({},this.config.body,{meanLine:this.config.renderingOptions.meanLine,animation:this.config.renderingOptions.animation,stacked:this.config.renderingOptions.stacked,idPrefix:this.config.idPrefix,renderers:this.config.renderers});this.body="canvas"===l?new a.a(e,u,this.slice.bind(this),t):new i.a(e,u,this.slice.bind(this),t)}this.body.histCache=this.header.sharedHistCache,this.forward(this.body,o.a.EVENT_HOVER_CHANGED),this.forward(this.body,o.a.EVENT_RENDER_FINISHED),this.config.body.visibleRowsOnly&&(this.contentScroller=new r.b(u,this.body.node,{pageSize:this.config.body.backupScrollRows*this.config.body.rowHeight,backupRows:this.config.body.backupScrollRows,rowHeight:this.config.body.rowHeight}),this.contentScroller.on(r.b.EVENT_SCROLL,(e,t)=>{this.header.$node.style("margin-left",`${-t}px`),this.config.body.freezeCols>0&&(this.header.updateFreeze(t),this.body.updateFreeze(t))}),this.contentScroller.on(r.b.EVENT_REDRAW,e=>this.body.scrolled(e)))}createEventList(){return[o.a.EVENT_RENDER_FINISHED,o.a.EVENT_HOVER_CHANGED]}slice(e,t,n){return this.contentScroller?this.contentScroller.select(e,t,n):{from:e,to:t}}destroy(){this.contentScroller&&this.contentScroller.destroy()}changeDataStorage(e){this.header.changeDataStorage(e),this.body.changeDataStorage(e)}scrollIntoView(e,t){if(this.contentScroller)this.contentScroller.scrollIntoView(0,e,t,e=>e*this.config.body.rowHeight);else{this.body.node.parentElement.scrollTop=t*this.config.body.rowHeight}}fakeHover(e){this.body.fakeHover(e)}update(){this.header.update(),this.body.update()}setBodyOption(e,t){this.body.setOption(e,t),this.body.update()}}t.a=l},function(e,t,n){"use strict";var r=n(3),i=(n.n(r),n(0)),a=n(23),o=n(32);class s extends o.a{constructor(e,t,n,r={}){super(e,t,n,"div",r),this.currentFreezeLeft=0}animated(e){return this.options.animationDuration>0&&this.options.animation?e.transition().duration(this.options.animationDuration):e}renderRankings(e,t,n){const a=this,o=e.selectAll("div.ranking").data(t,e=>e.id);o.enter().append("div").attr("class","ranking").style("left",e=>`${e.shift}px`),this.animated(o).style("left",e=>`${e.shift}px`);const s=[],l=o.selectAll("div.group").data(e=>e.groups,e=>e.group.name),u=l.enter().append("div").attr("class","group"),c=u.append("div").attr("class","aggregate").attr("data-agg","group");c.append("div").attr("class","cols"),c.append("div").attr("class","frozen").style("transform",`translate${this.currentFreezeLeft}px,0)`),u.append("div").attr("class","rows").attr("data-agg","detail"),u.append("div").attr("class","meanlines"),u.style("top",e=>`${e.y}px`);const d=(e,o,u)=>{e.selectAll("div.aggregate .cols > *, div.aggregate .frozen > *").remove(),e.select("div.aggregate").style("height",null);const c=e.select("div.rows").selectAll("div.row").data(u.order,String),d=c.enter().append("div").attr("class","row");d.style("top",(e,t)=>`${n.cellPrevY(t)}px`),d.on("mouseenter",e=>this.mouseOver(e,!0)).on("mouseleave",e=>this.mouseOver(e,!1)).on("click",e=>this.select(e,r.event.ctrlKey));const h=(e,t)=>{Object(i.o)(e,t,"detail")};d.append("div").attr("class","frozen").style("transform",`translate${this.currentFreezeLeft}px,0)`).each(function(){h(this,o.frozen)}),d.append("div").attr("class","cols").each(function(){h(this,o.columns)}),c.each(function(e,t){const n=a.data.isSelected(e);Object(i.c)(this,{class:`row${t%2==0?" even":""}${n?" selected":""}`,"data-data-index":e})}),this.animated(c).style("top",(e,t)=>`${n.cellY(t)}px`).style("height",`${this.options.rowHeight}px`);const p=(e,t,n,r)=>{const a=t=>{Object(i.o)(e,r,"detail"),r.forEach((i,a)=>{const o=e.childNodes[a];o.style.width=`${a<r.length-2?r[a+1].shift-i.shift:i.column.getWidth()}px`,i.renderer.update(o,t,n,u.group)})},o=t.data[n];return o instanceof Promise?o.then(a):a(o)},f=0===t.length||0===t[0].frozen.length?0:r.max(t[0].frozen,e=>e.shift+e.column.getWidth())+a.options.columnPadding;c.select("div.cols").each(function(e,t){this.style.marginLeft=`${f}px`,s.push(p(this,u,t,o.columns))}),c.select("div.frozen").each(function(e,t){this.style.width=`${f}px`,s.push(p(this,u,t,o.frozen))}),c.exit().remove();{const e=l.select("div.meanlines").selectAll("div.meanline").data(o.columns.filter(e=>this.showMeanLine(e.column)));e.enter().append("div").attr("class","meanline"),e.each(function(e){const t=a.histCache.get(e.column.id),n=r.select(this);if(!t)return;const i=t=>{const r=e.shift+e.column.getWidth()*t.mean;n.style("left",`${isNaN(r)?0:r}px`).style("height",`${u.height}px`)};t instanceof Promise?t.then(i):i(t)}),e.exit().remove()}},h=(e,n,a)=>{e.selectAll("div.rows > *, div.meanlines > *").remove();const o=e.select("div.aggregate").style("height",`${a.height}px`),l=(e,t,n)=>(Object(i.o)(e,n,"group"),Promise.all(t.data).then(r=>Promise.all(n.map((i,a)=>Promise.resolve(this.histCache.get(i.column.id)).then(o=>{const s=e.childNodes[a];s.style.width=`${a<n.length-2?n[a+1].shift-i.shift:i.column.getWidth()}px`,i.groupRenderer.update(s,t.group,r,o)}))))),u=0===t.length||0===t[0].frozen.length?0:r.max(t[0].frozen,e=>e.shift+e.column.getWidth());o.select("div.cols").each(function(){this.style.marginLeft=`${u}px`,s.push(l(this,a,n.columns))}),o.select("div.frozen").each(function(){this.style.width=`${u}px`,s.push(l(this,a,n.frozen))})};return l.each(function(e,n,i){(e.aggregate?h:d)(r.select(this),t[i],e)}),this.animated(l).style("top",e=>`${e.y}px`),l.exit().remove(),o.exit().remove(),Promise.all(s)}select(e,t=!1){const n=super.select(e,t);return this.$node.selectAll(`[data-data-index="${e}"]`).classed("selected",n),n}drawSelection(){const e=this.data.getSelection();if(Object(i.l)(this.node,".selected",e=>e.classList.remove("selected")),0===e.length)return;const t=e.map(e=>`[data-data-index='${e}']`).join(",");Object(i.l)(this.node,t,e=>e.classList.add("selected"))}mouseOver(e,t=!0){function n(e){e.classList.add("hover")}super.mouseOver(e,t),Object(i.l)(this.node,".hover",e=>e.classList.remove("hover")),t&&Object(i.l)(this.node,`[data-data-index='${e}']`,n)}renderSlopeGraphs(e,t,n,r){const i=t.slice(1).map((e,n)=>({left:t[n].groups[0].order,left_i:n,right:e.groups[0].order,right_i:n+1})),a=e.selectAll("svg.slopegraph").data(i);a.enter().append("svg").attr("class","slopegraph"),a.attr("width",this.options.slopeWidth).attr("height",r).style("left",(e,n)=>`${t[n+1].shift-this.options.slopeWidth}px`);const o=a.selectAll("line.slope").data(e=>{const t=new Map;return e.right.forEach((e,n)=>t.set(e,n)),e.left.map((e,n)=>({dataIndex:e,lpos:n,rpos:t.get(e)})).filter(e=>null!=e.rpos)});o.enter().append("line").attr({class:"slope",x2:this.options.slopeWidth}).on("mouseenter",e=>this.mouseOver(e.dataIndex,!0)).on("mouseleave",e=>this.mouseOver(e.dataIndex,!1)),o.attr("data-data-index",e=>e.dataIndex);const s=e=>{const t=n.cellY(e);return t+.5*(n.cellY(e+1)-t)};o.attr({y1:e=>s(e.lpos),y2:e=>s(e.rpos)}),o.exit().remove(),a.exit().remove()}updateFreeze(e){Object(i.l)(this.node,"div.row .frozen",t=>{t.style.transform=`translate(${e}px,0px)`}),this.currentFreezeLeft=e}createContextImpl(e,t){return this.createContext(e,t,a.createDOM,a.createDOMGroup)}updateImpl(e,t,n,r){this.node.style.width=`${Math.max(0,n)}px`,this.node.style.height=`${Math.max(0,r)}px`;let i=this.$node.select("div.body");return i.empty()&&(i=this.$node.append("div").classed("body",!0)),this.renderSlopeGraphs(i,e,t,r),this.renderRankings(i,e,t)}}t.a=s},function(e,t,n){"use strict";var r=n(3),i=(n.n(r),n(0)),a=n(20),o=n(23),s=n(32);class l extends s.a{constructor(e,t,n,r={}){super(e,t,n,"div",Object(i.p)({},l.CUSTOM_OPTIONS,r)),this.currentFreezeLeft=0,this.currentHover=-1,this.lastShifts=[],this.$node.append("canvas"),this.initInteraction()}columnUnderMouse(e){for(const t of this.lastShifts)if(t.shift<=e&&e<t.shift+t.column.getWidth())return t.column;return null}rowUnderMouse(e){const t=this.options.rowHeight;return Math.floor((e+1)/t)}itemUnderMouse(e){const t=this.rowUnderMouse(e[1]);if(t<0)return null;const n=this.columnUnderMouse(e[0]);if(null===n)return null;return{dataIndex:n.findMyRanker().getOrder()[t],column:n}}initInteraction(){this.$node.on("selectstart",()=>r.event.preventDefault()),this.$node.on("mousemove",()=>{const e=Object(r.mouse)(this.node),t=this.itemUnderMouse(e);this.mouseOver(t?t.dataIndex:-1)}),this.$node.on("mouseenter",()=>{this.mouseOver(-1,!1)}),this.$node.on("mouseleave",()=>{this.mouseOver(-1,!1)}),this.$node.on("click",()=>{const e=Object(r.mouse)(this.node),t=this.itemUnderMouse(e);t&&this.select(t.dataIndex,r.event.ctrlKey||t.column instanceof a.b)})}style(e){return(this.options.style||{})[e]}select(e,t=!1){const n=super.select(e,t);return this.update(),n}drawSelection(){this.update()}updateFreeze(e){this.currentFreezeLeft=e,this.update()}mouseOver(e,t=!0){t!==(this.currentHover===e)&&(this.currentHover=e,super.mouseOver(e,e>=0),(!t||e<0)&&Object(i.n)(this.$node.node()),this.update())}isHovered(e){return this.currentHover===e}renderRow(e,t,n,r,i,a){const o=r.dataIndex;let s=n.shift;const l=t.cellY(i)+a.y;e.translate(s,l),i%2==0&&(e.fillStyle=this.style("bg"),e.fillRect(0,0,n.width,t.rowHeight(i)),e.fillStyle=this.style("text"));this.data.isSelected(o)?(e.strokeStyle=this.style("selection"),e.strokeRect(0,0,n.width,t.rowHeight(i))):this.isHovered(o)&&(e.strokeStyle=this.style("hover"),e.strokeRect(0,0,n.width,t.rowHeight(i))),e.save();const u=this.currentFreezeLeft<n.shift?0:Math.min(this.currentFreezeLeft-n.shift,n.width-n.frozenWidth);n.frozenWidth>0&&u>0&&(e.rect(s+u+n.frozenWidth,0,n.width,t.rowHeight(i)),e.clip()),n.columns.forEach(t=>{e.save(),e.translate(t.shift,0),t.renderer(e,r,i,s+t.shift,l,a.group),e.restore()}),e.restore(),e.translate(u,0),s+=u,n.frozen.forEach(t=>{e.save(),e.translate(t.shift,0),t.renderer(e,r,i,s+t.shift,l,a),e.restore()}),e.translate(-s,-l)}renderMeanlines(e,t,n,r){const i=t.columns.filter(e=>this.showMeanLine(e.column));return Promise.all(i.map(i=>{const a=this.histCache.get(i.column.id);if(a)return Promise.resolve(a).then(a=>{const o=t.shift+i.shift+i.column.getWidth()*a.mean;isNaN(o)||(e.strokeStyle=this.style("meanLine"),e.beginPath(),e.moveTo(o,n),e.lineTo(o,n+r),e.stroke())})}))}renderGroup(e,t,n,r,i){let a=t.shift;const o=n.y;e.translate(a,o),e.save();const s=this.currentFreezeLeft<t.shift?0:Math.min(this.currentFreezeLeft-t.shift,t.width-t.frozenWidth);t.frozenWidth>0&&s>0&&(e.rect(a+s+t.frozenWidth,0,t.width,n.height),e.clip()),t.columns.forEach(t=>{e.save(),e.translate(t.shift,0),t.groupRenderer(e,n.group,r,a+t.shift,o,i.get(t.column.id)),e.restore()}),e.restore(),e.translate(s,0),a+=s,t.frozen.forEach(t=>{e.save(),e.translate(t.shift,0),t.groupRenderer(e,n.group,r,a+t.shift,o,i.get(t.column.id)),e.restore()}),e.translate(-a,-o)}renderRankings(e,t,n){const r=this.renderRow.bind(this,e,n),i=this.renderGroup.bind(this,e),a=Promise.all.bind(Promise);return a(t.map(t=>{let n;return a(t.groups.map(o=>{if(o.aggregate)return null==n&&(n=this.resolveHistMap(t)),Promise.all([a(o.data),n]).then(e=>{const n=e[0],r=e[1];return i(t,o,n,r)});const s=o.data;return a(s.map((e,n)=>Promise.resolve(e).then(e=>r(t,e,n,o)))).then(()=>this.renderMeanlines(e,t,o.y,o.height))}))}))}renderSlopeGraphs(e,t,n){const r=t.slice(1).map((e,n)=>({left:t[n].groups[0].order,left_i:n,right:e.groups[0].order,right_i:n+1}));e.save(),e.strokeStyle=this.style("slope"),r.forEach((r,i)=>{e.save(),e.translate(t[i+1].shift-this.options.slopeWidth,0);const a=new Map;r.right.forEach((e,t)=>{a.set(e,t)});r.left.map((e,t)=>({dataIndex:e,lpos:t,rpos:a.get(e)})).filter(e=>null!=e.rpos).forEach(t=>{const r=this.data.isSelected(t.dataIndex),i=this.isHovered(t.dataIndex);r?e.strokeStyle=this.style("selection"):i&&(e.strokeStyle=this.style("hover")),e.beginPath(),e.moveTo(0,.5*n.rowHeight(t.lpos)+n.cellY(t.lpos)),e.lineTo(this.options.slopeWidth,.5*n.rowHeight(t.rpos)+n.cellY(t.rpos)),e.stroke(),(r||i)&&(e.strokeStyle=this.style("slope"))}),e.restore()}),e.restore()}createContextImpl(e,t){const n=this.createContext(e,t,o.createCanvas,o.createCanvasGroup);return n.hovered=this.isHovered.bind(this),n.groupHovered=(()=>!1),n.selected=(e=>this.data.isSelected(e)),n.bodyDOMElement=this.$node.node(),n.rowHeight=(()=>this.options.rowHeight),n.groupHeight=(()=>this.options.groupHeight),n.colWidth=(e=>e.getWidth()),n}computeShifts(e){const t=[];return e.forEach(e=>{const n=e.shift;t.push(...e.frozen.map(e=>({column:e.column,shift:e.shift+n+this.currentFreezeLeft}))),t.push(...e.columns.map(e=>({column:e.column,shift:e.shift+n})))}),t}updateImpl(e,t,n,r){const a=this.$node.select("canvas"),o=Math.max(t.cellY(0)-20,0),s=Math.min(Math.max(...e.map(e=>e.height))+20,r);this.$node.style({width:`${Math.max(0,n)}px`,height:`${r}px`}),a.attr({width:Math.max(0,n),height:s-o}).style("margin-top",`${o}px`),this.lastShifts=this.computeShifts(e);const l=a.node().getContext("2d");return l.save(),l.font=this.style("font"),l.textBaseline="top",l.fillStyle=this.style("text"),l.clearRect(0,0,l.canvas.width,l.canvas.height),t.textHints=Object(i.e)(l,this.style("font")),l.translate(0,-o),this.renderSlopeGraphs(l,e,t),this.renderRankings(l,e,t).then(()=>{l.restore()})}}t.a=l,l.CUSTOM_OPTIONS={style:{text:"black",font:'10pt "Helvetica Neue", Helvetica, Arial, sans-serif',slope:"darkgray",link:"blue",selection:"#ffa500",hover:"#e5e5e5",bg:"#f7f7f7",meanLine:"darkgray",histogram:"lightgray",boxplot:{box:"#e0e0e0",stroke:"black",sortIndicator:"#ffa500"},upset:{circle:"black",inactiveOpacity:.1,stroke:"black"}}}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalStorage=function(e,t,n={}){return new a.LocalDataProvider(e,t,n)},t.create=function(e,t,n={}){return new l.a(t,e,n)};var r=n(143),i=(n.n(r),n(12)),a=n(53),o=n(23),s=n(145),l=n(70);n.d(t,"deriveColors",function(){return l.b}),n.d(t,"deriveColumnDescriptions",function(){return a.deriveColumnDescriptions});const u=i;t.model=u;const c=a;t.provider=c;const d=o;t.renderer=d;const h=s;t.ui=h},function(e,t,n){var r=n(144);"string"==typeof r&&(r=[[e.i,r,""]]);var i={};i.transform=void 0;n(73)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(71)(void 0)).push([e.i,'.lu{position:relative;display:flex;flex-direction:column;align-items:stretch;align-content:stretch}.lu div.lu-header{flex:0 0 auto;position:relative;z-index:1;overflow-x:hidden}.lu div.lu-body-wrapper{flex:1 1 auto;position:relative;overflow:auto}.lu-pool{position:relative}.lineup-engine [aria-hidden=true],.lu-header [aria-hidden=true],.lu-pool [aria-hidden=true],.lu-popup2 [aria-hidden=true],.lu-side-panel [aria-hidden=true],.lu [aria-hidden=true]{display:none}.lineup-engine [draggable],.lu-header [draggable],.lu-pool [draggable],.lu-popup2 [draggable],.lu-side-panel [draggable],.lu [draggable]{cursor:pointer;cursor:-moz-grab;cursor:-webkit-grab}.lineup-engine .lu-dragover,.lu-header .lu-dragover,.lu-pool .lu-dragover,.lu-popup2 .lu-dragover,.lu-side-panel .lu-dragover,.lu .lu-dragover{pointer-events:all!important}.lineup-engine .lu-dragover *,.lineup-engine .lu-dragover:after,.lineup-engine .lu-dragover :after,.lineup-engine .lu-dragover:before,.lineup-engine .lu-dragover :before,.lu-header .lu-dragover *,.lu-header .lu-dragover:after,.lu-header .lu-dragover :after,.lu-header .lu-dragover:before,.lu-header .lu-dragover :before,.lu-pool .lu-dragover *,.lu-pool .lu-dragover:after,.lu-pool .lu-dragover :after,.lu-pool .lu-dragover:before,.lu-pool .lu-dragover :before,.lu-popup2 .lu-dragover *,.lu-popup2 .lu-dragover:after,.lu-popup2 .lu-dragover :after,.lu-popup2 .lu-dragover:before,.lu-popup2 .lu-dragover :before,.lu-side-panel .lu-dragover *,.lu-side-panel .lu-dragover:after,.lu-side-panel .lu-dragover :after,.lu-side-panel .lu-dragover:before,.lu-side-panel .lu-dragover :before,.lu .lu-dragover *,.lu .lu-dragover:after,.lu .lu-dragover :after,.lu .lu-dragover:before,.lu .lu-dragover :before{pointer-events:none!important}.lu-mapping-editor{margin-bottom:5px;clear:both}.lu-mapping-editor div.filter_part{margin-top:15px}.lu-mapping-editor div.filter_part2{position:relative;top:-25px;height:0}.lu-mapping-editor div span.title{font-weight:700}.lu-mapping-editor .raw_max,.lu-mapping-editor .raw_min{width:3em;display:block}.lu-mapping-editor .mapping_area{display:flex;align-items:stretch}.lu-mapping-editor .mapping_area>div{display:flex;flex-direction:column;margin-bottom:40px}.lu-mapping-editor .mapping_area>div:first-child{text-align:right}.lu-mapping-editor .mapping_area>div>span:first-of-type{flex-grow:1}.lu-mapping-editor svg{z-index:1;position:relative}.lu-mapping-editor svg>rect{fill:#fff;opacity:0}.lu-mapping-editor svg g.samples line{stroke:#000;opacity:.5}.lu-mapping-editor svg g.mapping:hover{cursor:ew-resize}.lu-mapping-editor svg g.mapping:hover line{stroke:#0000cf}.lu-mapping-editor svg g.mapping:hover circle{fill:#0000cf}.lu-mapping-editor svg g.mapping line{stroke:blue}.lu-mapping-editor svg g.mapping circle{fill:blue}.lu-mapping-editor svg g.filter text{font-size:8pt}.lu-mapping-editor svg g.filter path{fill:gray}.lu-mapping-editor svg g.filter rect{fill:#fff;stroke:gray;stroke-width:1}.lu-mapping-editor svg g.filter>g{cursor:pointer;cursor:-moz-grab;cursor:-webkit-grab}.lu-mapping-editor svg g.filter>g:hover path{fill:#a9a9a9}.lu-mapping-editor svg g.filter>g:hover rect{stroke:#a9a9a9}.lu-mapping-editor div.script{clear:both}.lu-mapping-editor div.script textarea{height:4em;width:98%;font-size:8pt;display:block}.lu-mapping-editor div[id$=mapping-overlay]{position:absolute;padding:10px;background-color:#fff;border:1px solid #c1c1c1;border-radius:5px;z-index:10}.lu-mapping-editor div[id$=mapping-overlay].hide{opacity:.2}.lu-mapping-editor div[id$=mapping-overlay] div input{display:block}.lu-mapping-editor div[id$=mapping-overlay] input{width:75px}.lu-mapping-editor div[id$=mapping-overlay] div:first-child{margin-bottom:10px}.lu-mapping-editor div[id$=filter_inputs]{display:flex;justify-content:space-around;padding:0 30px 10px}.lu-mapping-editor div input[id$=_filter_input]{width:75px}.lu-popup{position:absolute;dominant-baseline:central;text-anchor:middle}.lu-popup .ok{position:absolute;right:10px}.lu-popup,.lu-popup2{background-color:#fff;border:1px solid #000;position:absolute;padding:5px;z-index:9;font-size:11pt;clear:right}.lu-popup2:before,.lu-popup:before{content:"";top:-10px;left:-10px;right:-10px;bottom:-10px;position:absolute;z-index:-1}.lu-popup2 form,.lu-popup form{display:block}.lu-popup2 label,.lu-popup label{font-weight:400}.lu-popup2 input,.lu-popup input{font-size:8pt}.lu-popup2 .selectionTable,.lu-popup .selectionTable{background:#fff;overflow-x:auto;overflow-y:auto;max-height:50vh}.lu-popup2 .selectionTable td,.lu-popup2 .selectionTable th,.lu-popup .selectionTable td,.lu-popup .selectionTable th{white-space:nowrap;padding:1px 5px 1px 3px;cursor:pointer}.lu-popup2 .selectionTable th,.lu-popup .selectionTable th{border-bottom:1px solid #c1c1c1}.lu-popup2 .selectionTable table,.lu-popup .selectionTable table{width:95%;border:0}.lu-popup2 .selectionTable tr:hover,.lu-popup .selectionTable tr:hover{background-color:#add8e6}.lu-popup2 .lu-popup-title,.lu-popup .lu-popup-title{cursor:pointer;cursor:-webkit-grab}.lu-popup2 .script-description,.lu-popup .script-description{font-size:120%;max-width:50em}.lu-popup2 .script-description dl,.lu-popup .script-description dl{padding:1em .2em}.lu-popup2 .script-description dl dd,.lu-popup .script-description dl dd{padding-left:1em}.lu-popup2 .lu-sub-nested,.lu-popup .lu-sub-nested{width:100px}.lu-popup2.lu-rename-dialog input,.lu-popup.lu-rename-dialog input{width:100%;display:block}.lu-popup2 *{margin:0}.lu-popup2 .ok{float:right}.lu-popup2 div.bar{height:1em;transition:width .5s ease}.lu-pool div.header{border:2px outset #fff;position:absolute}.lu-pool div.header:hover{border-color:#e5e5e5}.lu-pool div.lu-header .drop,.lu-pool div.lu-pool .drop,.lu div.lu-header .drop,.lu div.lu-pool .drop{width:100%;height:100%;background-color:#fff}.lu-pool div.lu-header .drop.drag_over,.lu-pool div.lu-pool .drop.drag_over,.lu div.lu-header .drop.drag_over,.lu div.lu-pool .drop.drag_over{background-color:hsla(0,0%,59%,.8)}.lu-pool div.lu-header div.header.drag_over div.lu-label,.lu div.lu-header div.header.drag_over div.lu-label{color:hsla(0,0%,59%,.8)}.lu-pool div.lu-header div.header div.summary,.lu div.lu-header div.header div.summary{position:absolute;left:0;right:5px;top:40%;height:60%;display:none}.lu-pool div.lu-header div.header div.lu-label,.lu div.lu-header div.header div.lu-label{position:relative;background:inherit;transform-origin:left top;text-overflow:ellipsis;overflow-x:hidden}.lu-pool div.lu-header div.header span.lu-label,.lu div.lu-header div.header span.lu-label{background:inherit}.lu-pool div.lu-header div.header i.sort_indicator,.lu div.lu-header div.header i.sort_indicator{position:absolute;left:1px;top:1px;font-size:11pt}.lu-pool div.lu-header div.header div.lu-handle,.lu div.lu-header div.header div.lu-handle{position:absolute;right:0;height:100%;top:0;background-color:#fff;display:inline-block;cursor:col-resize}.lu-pool div.lu-header div.header div.lu-handle.drag_over,.lu div.lu-header div.header div.lu-handle.drag_over{background-color:hsla(0,0%,59%,.8)}.lu-pool div.lu-header div.rankingbuttons,.lu div.lu-header div.rankingbuttons{position:absolute;display:inline-block;height:100%;font-size:90%}.lu-pool div.lu-header div.header,.lu-pool div.lu-header div.header_i,.lu div.lu-header div.header,.lu div.lu-header div.header_i{position:absolute;top:0;display:inline-block;overflow:hidden;color:#fff;text-align:center;height:100%;font-size:90%}.lu-pool div.lu-header div.header.boolean div.summary,.lu-pool div.lu-header div.header.booleans div.summary,.lu-pool div.lu-header div.header.categorical div.summary,.lu-pool div.lu-header div.header.hierarchy div.summary,.lu-pool div.lu-header div.header.number div.summary,.lu-pool div.lu-header div.header.ordinal div.summary,.lu-pool div.lu-header div.header_i.boolean div.summary,.lu-pool div.lu-header div.header_i.booleans div.summary,.lu-pool div.lu-header div.header_i.categorical div.summary,.lu-pool div.lu-header div.header_i.hierarchy div.summary,.lu-pool div.lu-header div.header_i.number div.summary,.lu-pool div.lu-header div.header_i.ordinal div.summary,.lu div.lu-header div.header.boolean div.summary,.lu div.lu-header div.header.booleans div.summary,.lu div.lu-header div.header.categorical div.summary,.lu div.lu-header div.header.hierarchy div.summary,.lu div.lu-header div.header.number div.summary,.lu div.lu-header div.header.ordinal div.summary,.lu div.lu-header div.header_i.boolean div.summary,.lu div.lu-header div.header_i.booleans div.summary,.lu div.lu-header div.header_i.categorical div.summary,.lu div.lu-header div.header_i.hierarchy div.summary,.lu div.lu-header div.header_i.number div.summary,.lu div.lu-header div.header_i.ordinal div.summary{display:block}.lu-pool div.lu-header div.header.boolean div.summary div.bar,.lu-pool div.lu-header div.header.booleans div.summary div.bar,.lu-pool div.lu-header div.header.categorical div.summary div.bar,.lu-pool div.lu-header div.header.hierarchy div.summary div.bar,.lu-pool div.lu-header div.header.number div.summary div.bar,.lu-pool div.lu-header div.header.ordinal div.summary div.bar,.lu-pool div.lu-header div.header_i.boolean div.summary div.bar,.lu-pool div.lu-header div.header_i.booleans div.summary div.bar,.lu-pool div.lu-header div.header_i.categorical div.summary div.bar,.lu-pool div.lu-header div.header_i.hierarchy div.summary div.bar,.lu-pool div.lu-header div.header_i.number div.summary div.bar,.lu-pool div.lu-header div.header_i.ordinal div.summary div.bar,.lu div.lu-header div.header.boolean div.summary div.bar,.lu div.lu-header div.header.booleans div.summary div.bar,.lu div.lu-header div.header.categorical div.summary div.bar,.lu div.lu-header div.header.hierarchy div.summary div.bar,.lu div.lu-header div.header.number div.summary div.bar,.lu div.lu-header div.header.ordinal div.summary div.bar,.lu div.lu-header div.header_i.boolean div.summary div.bar,.lu div.lu-header div.header_i.booleans div.summary div.bar,.lu div.lu-header div.header_i.categorical div.summary div.bar,.lu div.lu-header div.header_i.hierarchy div.summary div.bar,.lu div.lu-header div.header_i.number div.summary div.bar,.lu div.lu-header div.header_i.ordinal div.summary div.bar{position:absolute;background-color:#fff;opacity:.5}.lu-pool div.lu-header div.header.boolean div.summary div.bar.selected,.lu-pool div.lu-header div.header.booleans div.summary div.bar.selected,.lu-pool div.lu-header div.header.categorical div.summary div.bar.selected,.lu-pool div.lu-header div.header.hierarchy div.summary div.bar.selected,.lu-pool div.lu-header div.header.number div.summary div.bar.selected,.lu-pool div.lu-header div.header.ordinal div.summary div.bar.selected,.lu-pool div.lu-header div.header_i.boolean div.summary div.bar.selected,.lu-pool div.lu-header div.header_i.booleans div.summary div.bar.selected,.lu-pool div.lu-header div.header_i.categorical div.summary div.bar.selected,.lu-pool div.lu-header div.header_i.hierarchy div.summary div.bar.selected,.lu-pool div.lu-header div.header_i.number div.summary div.bar.selected,.lu-pool div.lu-header div.header_i.ordinal div.summary div.bar.selected,.lu div.lu-header div.header.boolean div.summary div.bar.selected,.lu div.lu-header div.header.booleans div.summary div.bar.selected,.lu div.lu-header div.header.categorical div.summary div.bar.selected,.lu div.lu-header div.header.hierarchy div.summary div.bar.selected,.lu div.lu-header div.header.number div.summary div.bar.selected,.lu div.lu-header div.header.ordinal div.summary div.bar.selected,.lu div.lu-header div.header_i.boolean div.summary div.bar.selected,.lu div.lu-header div.header_i.booleans div.summary div.bar.selected,.lu div.lu-header div.header_i.categorical div.summary div.bar.selected,.lu div.lu-header div.header_i.hierarchy div.summary div.bar.selected,.lu div.lu-header div.header_i.number div.summary div.bar.selected,.lu div.lu-header div.header_i.ordinal div.summary div.bar.selected{opacity:1}.lu-pool div.lu-header div.header.boolean div.summary div.bar:hover,.lu-pool div.lu-header div.header.booleans div.summary div.bar:hover,.lu-pool div.lu-header div.header.categorical div.summary div.bar:hover,.lu-pool div.lu-header div.header.hierarchy div.summary div.bar:hover,.lu-pool div.lu-header div.header.number div.summary div.bar:hover,.lu-pool div.lu-header div.header.ordinal div.summary div.bar:hover,.lu-pool div.lu-header div.header_i.boolean div.summary div.bar:hover,.lu-pool div.lu-header div.header_i.booleans div.summary div.bar:hover,.lu-pool div.lu-header div.header_i.categorical div.summary div.bar:hover,.lu-pool div.lu-header div.header_i.hierarchy div.summary div.bar:hover,.lu-pool div.lu-header div.header_i.number div.summary div.bar:hover,.lu-pool div.lu-header div.header_i.ordinal div.summary div.bar:hover,.lu div.lu-header div.header.boolean div.summary div.bar:hover,.lu div.lu-header div.header.booleans div.summary div.bar:hover,.lu div.lu-header div.header.categorical div.summary div.bar:hover,.lu div.lu-header div.header.hierarchy div.summary div.bar:hover,.lu div.lu-header div.header.number div.summary div.bar:hover,.lu div.lu-header div.header.ordinal div.summary div.bar:hover,.lu div.lu-header div.header_i.boolean div.summary div.bar:hover,.lu div.lu-header div.header_i.booleans div.summary div.bar:hover,.lu div.lu-header div.header_i.categorical div.summary div.bar:hover,.lu div.lu-header div.header_i.hierarchy div.summary div.bar:hover,.lu div.lu-header div.header_i.number div.summary div.bar:hover,.lu div.lu-header div.header_i.ordinal div.summary div.bar:hover{opacity:.7}.lu-pool div.lu-header div.header.boolean div.summary div.mean,.lu-pool div.lu-header div.header.booleans div.summary div.mean,.lu-pool div.lu-header div.header.categorical div.summary div.mean,.lu-pool div.lu-header div.header.hierarchy div.summary div.mean,.lu-pool div.lu-header div.header.number div.summary div.mean,.lu-pool div.lu-header div.header.ordinal div.summary div.mean,.lu-pool div.lu-header div.header_i.boolean div.summary div.mean,.lu-pool div.lu-header div.header_i.booleans div.summary div.mean,.lu-pool div.lu-header div.header_i.categorical div.summary div.mean,.lu-pool div.lu-header div.header_i.hierarchy div.summary div.mean,.lu-pool div.lu-header div.header_i.number div.summary div.mean,.lu-pool div.lu-header div.header_i.ordinal div.summary div.mean,.lu div.lu-header div.header.boolean div.summary div.mean,.lu div.lu-header div.header.booleans div.summary div.mean,.lu div.lu-header div.header.categorical div.summary div.mean,.lu div.lu-header div.header.hierarchy div.summary div.mean,.lu div.lu-header div.header.number div.summary div.mean,.lu div.lu-header div.header.ordinal div.summary div.mean,.lu div.lu-header div.header_i.boolean div.summary div.mean,.lu div.lu-header div.header_i.booleans div.summary div.mean,.lu div.lu-header div.header_i.categorical div.summary div.mean,.lu div.lu-header div.header_i.hierarchy div.summary div.mean,.lu div.lu-header div.header_i.number div.summary div.mean,.lu div.lu-header div.header_i.ordinal div.summary div.mean{position:absolute;height:100%;width:1px;border-left:1px solid #000}.lu-pool div.lu-header div.header .lu-toolbar,.lu-pool div.lu-header div.header_i .lu-toolbar,.lu div.lu-header div.header .lu-toolbar,.lu div.lu-header div.header_i .lu-toolbar{position:relative;font-size:11pt;display:flex;justify-content:center;padding:3px}.lu-pool div.lu-header div.header .lu-toolbar>i,.lu-pool div.lu-header div.header_i .lu-toolbar>i,.lu div.lu-header div.header .lu-toolbar>i,.lu div.lu-header div.header_i .lu-toolbar>i{padding:2px 4px;cursor:pointer;position:relative;display:flex}.lu-pool div.lu-header div.header .lu-toolbar>i:hover,.lu-pool div.lu-header div.header_i .lu-toolbar>i:hover,.lu div.lu-header div.header .lu-toolbar>i:hover,.lu div.lu-header div.header_i .lu-toolbar>i:hover{color:#000}.lu-pool div.lu-header div.header .lu-toolbar>i.hidden,.lu-pool div.lu-header div.header_i .lu-toolbar>i.hidden,.lu div.lu-header div.header .lu-toolbar>i.hidden,.lu div.lu-header div.header_i .lu-toolbar>i.hidden{display:none}.lu-pool div.lu-header div.header .lu-toolbar>i[title^=Sort][data-priority],.lu-pool div.lu-header div.header .lu-toolbar>i[title^=Stratify][data-priority],.lu-pool div.lu-header div.header_i .lu-toolbar>i[title^=Sort][data-priority],.lu-pool div.lu-header div.header_i .lu-toolbar>i[title^=Stratify][data-priority],.lu div.lu-header div.header .lu-toolbar>i[title^=Sort][data-priority],.lu div.lu-header div.header .lu-toolbar>i[title^=Stratify][data-priority],.lu div.lu-header div.header_i .lu-toolbar>i[title^=Sort][data-priority],.lu div.lu-header div.header_i .lu-toolbar>i[title^=Stratify][data-priority]{padding-left:10px}.lu-pool div.lu-header div.header .lu-toolbar>i[title^=Sort][data-priority]:after,.lu-pool div.lu-header div.header .lu-toolbar>i[title^=Stratify][data-priority]:after,.lu-pool div.lu-header div.header_i .lu-toolbar>i[title^=Sort][data-priority]:after,.lu-pool div.lu-header div.header_i .lu-toolbar>i[title^=Stratify][data-priority]:after,.lu div.lu-header div.header .lu-toolbar>i[title^=Sort][data-priority]:after,.lu div.lu-header div.header .lu-toolbar>i[title^=Stratify][data-priority]:after,.lu div.lu-header div.header_i .lu-toolbar>i[title^=Sort][data-priority]:after,.lu div.lu-header div.header_i .lu-toolbar>i[title^=Stratify][data-priority]:after{content:attr(data-priority) ".";position:absolute;right:0;z-index:1;margin-top:2px;margin-right:65%;text-align:right;color:orange;font-style:normal;font-size:10px;font-weight:700;line-height:1;pointer-events:none}.lu-pool div.lu-header div.header .lu-toolbar>i[title^=Stratify][data-priority],.lu-pool div.lu-header div.header_i .lu-toolbar>i[title^=Stratify][data-priority],.lu div.lu-header div.header .lu-toolbar>i[title^=Stratify][data-priority],.lu div.lu-header div.header_i .lu-toolbar>i[title^=Stratify][data-priority]{padding-left:15px}.lu-pool div.lu-header div.header .lu-toolbar>i[title^=Stratify][data-priority]:after,.lu-pool div.lu-header div.header_i .lu-toolbar>i[title^=Stratify][data-priority]:after,.lu div.lu-header div.header .lu-toolbar>i[title^=Stratify][data-priority]:after,.lu div.lu-header div.header_i .lu-toolbar>i[title^=Stratify][data-priority]:after{margin-right:60%}.lu-pool div.lu-header div.header.filtered .lu-toolbar i[title=Filter],.lu-pool div.lu-header div.header.grouped .lu-toolbar i[title="Stratify by"],.lu-pool div.lu-header div.header_i.filtered .lu-toolbar i[title=Filter],.lu-pool div.lu-header div.header_i.grouped .lu-toolbar i[title="Stratify by"],.lu div.lu-header div.header.filtered .lu-toolbar i[title=Filter],.lu div.lu-header div.header.grouped .lu-toolbar i[title="Stratify by"],.lu div.lu-header div.header_i.filtered .lu-toolbar i[title=Filter],.lu div.lu-header div.header_i.grouped .lu-toolbar i[title="Stratify by"]{color:#c1c1c1}.lu-pool div.lu-header div.header.string div.summary,.lu-pool div.lu-header div.header_i.string div.summary,.lu div.lu-header div.header.string div.summary,.lu div.lu-header div.header_i.string div.summary{display:block}.lu-pool div.lu-header div.header.aggregation div.summary,.lu-pool div.lu-header div.header.selection div.summary,.lu-pool div.lu-header div.header_i.aggregation div.summary,.lu-pool div.lu-header div.header_i.selection div.summary,.lu div.lu-header div.header.aggregation div.summary,.lu div.lu-header div.header.selection div.summary,.lu div.lu-header div.header_i.aggregation div.summary,.lu div.lu-header div.header_i.selection div.summary{text-align:left;display:block}.lu-pool div.lu-header div.header.rotateable,.lu-pool div.lu-header div.header_i.rotateable,.lu div.lu-header div.header.rotateable,.lu div.lu-header div.header_i.rotateable{overflow:visible;white-space:nowrap}.lu-pool div.lu-header div.header_i,.lu div.lu-header div.header_i{top:50%;height:50%}.lu .lu-body .hover .lu-not-hover,.lu .lu-body .lu-hover-only,.lu .lu-body div.aggregate:hover .lu-not-hover,.lu .lu-body div.row:hover .lu-not-hover{display:none}.lu .lu-body .hover .lu-hover-only,.lu .lu-body div.aggregate:hover .lu-hover-only,.lu .lu-body div.row:hover .lu-hover-only{display:block}.lu .lu-body .lu-selection-only{display:none}.lu .lu-body .lu-group-selected .lu-hover-only,.lu .lu-body .lu-group-selected .lu-selection-only,.lu .lu-body .selected .lu-hover-only,.lu .lu-body .selected .lu-selection-only{display:block}.lu .lu-body .lu-group-selected .lu-not-hover,.lu .lu-body .selected .lu-not-hover{display:none}.lu .lu-body input{padding:0;margin:0;font:10pt Helvetica Neue,Helvetica,Arial,sans-serif;pointer-events:all}.lu .lu-body line.slope{stroke:#a9a9a9;stroke-width:2;shape-rendering:geometricPrecision}.lu .lu-body line.slope.hover{stroke:#e5e5e5}.lu .lu-body line.slope.selected{stroke:orange}.lineup-engine>main>article [data-renderer=image]:not(.lu-missing):before,.lu div.lu-body [data-renderer=image]:not(.lu-missing):before{background:url('+n(45)+')}.lu div.lu-body{font:10pt Helvetica Neue,Helvetica,Arial,sans-serif;position:relative}.lu div.lu-body div,.lu div.lu-body svg{padding:0;margin:0}.lu div.lu-body .rows>*,.lu div.lu-body div.ranking,.lu div.lu-body svg.slopegraph{position:absolute}.lu div.lu-body div.cols,.lu div.lu-body div.component0,.lu div.lu-body div.component1,.lu div.lu-body div.frozen{display:flex;flex-direction:row}.lu div.lu-body div.cols>*,.lu div.lu-body div.component0>*,.lu div.lu-body div.component1>*,.lu div.lu-body div.frozen>*{flex:0 0 auto}.lu div.lu-body div.frozen{position:absolute;z-index:1}.lu div.lu-body div.cat,.lu div.lu-body div.stack.component0>:not(:last-child),.lu div.lu-body div.stack.component1>:not(:last-child),.lu div.lu-body div.text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.lu div.lu-body div.text.text_center{text-align:center}.lu div.lu-body div.loading div{display:inline}.lu div.lu-body div.group{position:absolute}.lu div.lu-body div.meanlines *{position:absolute;display:inline-block;width:1px;border-left:1px solid gray}.lu div.lu-body div.aggregate,.lu div.lu-body div.row{font-size:90%;display:flex}.lu div.lu-body div.aggregate div.cols,.lu div.lu-body div.aggregate div.frozen,.lu div.lu-body div.row div.cols,.lu div.lu-body div.row div.frozen{background-color:#fff;border:1px solid transparent;transition:border-color .2s ease}.lu div.lu-body div.aggregate.selected,.lu div.lu-body div.row.selected{z-index:3}.lu div.lu-body div.aggregate.selected div.cols,.lu div.lu-body div.row.selected div.cols{border-color:orange;border-left-color:transparent}.lu div.lu-body div.aggregate.selected div.frozen,.lu div.lu-body div.row.selected div.frozen{border-color:orange;border-right-color:transparent}.lu div.lu-body div.aggregate.even div.cols,.lu div.lu-body div.aggregate.even div.frozen,.lu div.lu-body div.row.even div.cols,.lu div.lu-body div.row.even div.frozen{background-color:#f7f7f7}.lu div.lu-body div.aggregate.hover div.cols,.lu div.lu-body div.row.hover div.cols{border-color:#e5e5e5;border-left-color:transparent}.lu div.lu-body div.aggregate.hover div.frozen,.lu div.lu-body div.row.hover div.frozen{border-color:#e5e5e5;border-right-color:transparent}.lu div.lu-body div.aggregate div.annotations input,.lu div.lu-body div.row div.annotations input{width:100%}.lu div.lu-body div.aggregate [data-renderer],.lu div.lu-body div.row [data-renderer]{overflow-x:hidden;text-overflow:ellipsis}.lu div.lu-body div.lu-overlay{position:absolute;display:none;padding:0;margin:0;z-index:1}.lu div.lu-body div.lu-overlay.actions span{cursor:pointer}.lu div.lu-body div.lu-overlay.actions span:hover{color:#00008b}.lineup-engine>main>article [data-renderer=aggregate],.lu div.lu-body [data-renderer=aggregate]{text-align:center;background-image:linear-gradient(270deg,transparent 3px,#000 0,#000 4px,transparent 0);background-size:4px 100%;background-repeat:no-repeat;background-position:100%}.lineup-engine>main>article [data-meta~=first] [data-renderer=aggregate],.lu div.lu-body [data-meta~=first] [data-renderer=aggregate]{cursor:pointer;background-image:linear-gradient(270deg,transparent 3px,#000 0,#000 4px,transparent 0),linear-gradient(180deg,#000 1px,transparent 0);background-size:4px 100%;background-repeat:no-repeat;background-position:100%}.lineup-engine>main>article [data-meta~=first] [data-renderer=aggregate]:before,.lu div.lu-body [data-meta~=first] [data-renderer=aggregate]:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\F0D7";padding-right:4px}.lineup-engine>main>article [data-meta=last] [data-renderer=aggregate],.lu div.lu-body [data-meta=last] [data-renderer=aggregate]{background-image:linear-gradient(270deg,transparent 3px,#000 0,#000 4px,transparent 0),linear-gradient(0deg,#000 1px,transparent 0);background-size:4px 100%;background-repeat:no-repeat;background-position:100%}.lineup-engine>main>article [data-agg=group] [data-renderer=aggregate],.lineup-engine>main>article [data-meta="first last"] [data-renderer=aggregate],.lu div.lu-body [data-agg=group] [data-renderer=aggregate],.lu div.lu-body [data-meta="first last"] [data-renderer=aggregate]{padding-right:4px;cursor:pointer;background-image:linear-gradient(270deg,transparent 3px,#000 0,#000 4px,transparent 0),linear-gradient(180deg,#000 1px,transparent 0),linear-gradient(0deg,#000 1px,transparent 0);background-size:4px 100%;background-repeat:no-repeat;background-position:100%}.lineup-engine>main>article [data-agg=group] [data-renderer=aggregate]:before,.lu div.lu-body [data-agg=group] [data-renderer=aggregate]:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\F0DA"}.lineup-engine>main>article [data-renderer=circle],.lineup-engine>main>article [data-renderer=max],.lineup-engine>main>article [data-renderer=mean],.lineup-engine>main>article [data-renderer=min],.lineup-engine>main>article [data-renderer=number],.lineup-engine>main>article [data-renderer=script],.lu div.lu-body [data-renderer=circle],.lu div.lu-body [data-renderer=max],.lu div.lu-body [data-renderer=mean],.lu div.lu-body [data-renderer=min],.lu div.lu-body [data-renderer=number],.lu div.lu-body [data-renderer=script]{position:relative;white-space:nowrap}.lineup-engine>main>article [data-renderer=circle] div,.lineup-engine>main>article [data-renderer=max] div,.lineup-engine>main>article [data-renderer=mean] div,.lineup-engine>main>article [data-renderer=min] div,.lineup-engine>main>article [data-renderer=number] div,.lineup-engine>main>article [data-renderer=script] div,.lu div.lu-body [data-renderer=circle] div,.lu div.lu-body [data-renderer=max] div,.lu div.lu-body [data-renderer=mean] div,.lu div.lu-body [data-renderer=min] div,.lu div.lu-body [data-renderer=number] div,.lu div.lu-body [data-renderer=script] div{position:absolute;width:100%}.lineup-engine>main>article [data-renderer=circle]>div,.lineup-engine>main>article [data-renderer=max]>div,.lineup-engine>main>article [data-renderer=mean]>div,.lineup-engine>main>article [data-renderer=min]>div,.lineup-engine>main>article [data-renderer=number]>div,.lineup-engine>main>article [data-renderer=script]>div,.lu div.lu-body [data-renderer=circle]>div,.lu div.lu-body [data-renderer=max]>div,.lu div.lu-body [data-renderer=mean]>div,.lu div.lu-body [data-renderer=min]>div,.lu div.lu-body [data-renderer=number]>div,.lu div.lu-body [data-renderer=script]>div{top:0;bottom:0}.lineup-engine>main>article [data-renderer=circle]>div>div,.lineup-engine>main>article [data-renderer=max]>div>div,.lineup-engine>main>article [data-renderer=mean]>div>div,.lineup-engine>main>article [data-renderer=min]>div>div,.lineup-engine>main>article [data-renderer=number]>div>div,.lineup-engine>main>article [data-renderer=script]>div>div,.lu div.lu-body [data-renderer=circle]>div>div,.lu div.lu-body [data-renderer=max]>div>div,.lu div.lu-body [data-renderer=mean]>div>div,.lu div.lu-body [data-renderer=min]>div>div,.lu div.lu-body [data-renderer=number]>div>div,.lu div.lu-body [data-renderer=script]>div>div{height:100%}.lineup-engine>main>article [data-agg=group] [data-renderer$=number]>div>div,.lu div.lu-body [data-agg=group] [data-renderer$=number]>div>div{display:flex;align-items:center}.lineup-engine>main>article [data-renderer=stack] [data-renderer$=number]>div,.lu div.lu-body [data-renderer=stack] [data-renderer$=number]>div{overflow-x:hidden;text-overflow:ellipsis}.lineup-engine>main>article [data-renderer=boxplot],.lu div.lu-body [data-renderer=boxplot]{display:flex;flex-direction:row;align-items:center;position:relative}.lineup-engine>main>article [data-renderer=boxplot]>div:first-of-type,.lu div.lu-body [data-renderer=boxplot]>div:first-of-type{position:relative;border-left:1px solid #000;border-right:1px solid #000;height:90%;max-height:30px}.lineup-engine>main>article [data-renderer=boxplot]>div:first-of-type:before,.lu div.lu-body [data-renderer=boxplot]>div:first-of-type:before{content:"";position:absolute;top:0;height:50%;width:100%;border-bottom:1px solid #000}.lineup-engine>main>article [data-renderer=boxplot]>div:first-of-type>div:first-child,.lu div.lu-body [data-renderer=boxplot]>div:first-of-type>div:first-child{position:absolute;top:10%;height:80%;background:#e0e0e0;outline:1px solid #000}.lineup-engine>main>article [data-renderer=boxplot]>div:first-of-type>div:last-child,.lu div.lu-body [data-renderer=boxplot]>div:first-of-type>div:last-child{position:absolute;top:10%;height:80%;width:1px;background:#000}.lineup-engine>main>article [data-renderer=boxplot]>div:first-of-type[data-sort=min],.lu div.lu-body [data-renderer=boxplot]>div:first-of-type[data-sort=min]{border-left-color:orange}.lineup-engine>main>article [data-renderer=boxplot]>div:first-of-type[data-sort=max],.lu div.lu-body [data-renderer=boxplot]>div:first-of-type[data-sort=max]{border-right-color:orange}.lineup-engine>main>article [data-renderer=boxplot]>div:first-of-type[data-sort=q1]>div:first-child:after,.lineup-engine>main>article [data-renderer=boxplot]>div:first-of-type[data-sort=q3]>div:first-child:after,.lu div.lu-body [data-renderer=boxplot]>div:first-of-type[data-sort=q1]>div:first-child:after,.lu div.lu-body [data-renderer=boxplot]>div:first-of-type[data-sort=q3]>div:first-child:after{content:"";position:absolute;width:1px;height:100%}.lineup-engine>main>article [data-renderer=boxplot]>div:first-of-type[data-sort=q1]>div:first-child:after,.lu div.lu-body [data-renderer=boxplot]>div:first-of-type[data-sort=q1]>div:first-child:after{left:-1px;border-left:1px solid orange}.lineup-engine>main>article [data-renderer=boxplot]>div:first-of-type[data-sort=q3]>div:first-child:after,.lu div.lu-body [data-renderer=boxplot]>div:first-of-type[data-sort=q3]>div:first-child:after{right:-1px;border-right:1px solid orange}.lineup-engine>main>article [data-renderer=boxplot]>div:first-of-type[data-sort=median]>div:last-child,.lu div.lu-body [data-renderer=boxplot]>div:first-of-type[data-sort=median]>div:last-child{background-color:orange}.lineup-engine>main>article [data-renderer=boxplot]>div:nth-of-type(n+2),.lu div.lu-body [data-renderer=boxplot]>div:nth-of-type(n+2){position:absolute;top:50%;width:5px;height:5px;margin:-2.5px;background:#e0e0e0;border-radius:50%}.lineup-engine>main>article [data-agg=detail] [data-renderer=categorical],.lineup-engine>main>article [data-agg=detail] [data-renderer=heatmap],.lineup-engine>main>article [data-agg=group] [data-renderer=heatmap]>div,.lu div.lu-body [data-agg=detail] [data-renderer=categorical],.lu div.lu-body [data-agg=detail] [data-renderer=heatmap],.lu div.lu-body [data-agg=group] [data-renderer=heatmap]>div{display:flex;white-space:nowrap}.lineup-engine>main>article [data-agg=detail] [data-renderer=categorical] :first-child,.lineup-engine>main>article [data-agg=detail] [data-renderer=heatmap] :first-child,.lineup-engine>main>article [data-agg=group] [data-renderer=heatmap]>div :first-child,.lu div.lu-body [data-agg=detail] [data-renderer=categorical] :first-child,.lu div.lu-body [data-agg=detail] [data-renderer=heatmap] :first-child,.lu div.lu-body [data-agg=group] [data-renderer=heatmap]>div :first-child{flex:0 0 16px;line-height:100%;margin-right:.5em}.lineup-engine>main>article [data-agg=detail] [data-renderer=categorical] :last-child,.lineup-engine>main>article [data-agg=detail] [data-renderer=heatmap] :last-child,.lineup-engine>main>article [data-agg=group] [data-renderer=heatmap]>div :last-child,.lu div.lu-body [data-agg=detail] [data-renderer=categorical] :last-child,.lu div.lu-body [data-agg=detail] [data-renderer=heatmap] :last-child,.lu div.lu-body [data-agg=group] [data-renderer=heatmap]>div :last-child{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis}.lineup-engine>main>article [data-agg=group] [data-renderer=heatmap],.lu div.lu-body [data-agg=group] [data-renderer=heatmap]{display:flex;align-items:center}.lineup-engine>main>article [data-agg=group] [data-renderer=heatmap]>div,.lu div.lu-body [data-agg=group] [data-renderer=heatmap]>div{width:100%}.lineup-engine>main>article [data-agg=group] [data-renderer=catcolor],.lineup-engine>main>article [data-agg=group] [data-renderer=catcolorshifted],.lu div.lu-body [data-agg=group] [data-renderer=catcolor],.lu div.lu-body [data-agg=group] [data-renderer=catcolorshifted]{display:flex;align-items:flex-start;position:relative}.lineup-engine>main>article [data-agg=group] [data-renderer=catcolor]>div,.lineup-engine>main>article [data-agg=group] [data-renderer=catcolorshifted]>div,.lu div.lu-body [data-agg=group] [data-renderer=catcolor]>div,.lu div.lu-body [data-agg=group] [data-renderer=catcolorshifted]>div{position:absolute;height:100%}.lineup-engine>main>article [data-agg=group] [data-renderer=catcolor]>span,.lineup-engine>main>article [data-agg=group] [data-renderer=catcolorshifted]>span,.lu div.lu-body [data-agg=group] [data-renderer=catcolor]>span,.lu div.lu-body [data-agg=group] [data-renderer=catcolorshifted]>span{z-index:1}.lineup-engine>main>article [data-renderer=dot],.lu div.lu-body [data-renderer=dot]{position:relative}.lineup-engine>main>article [data-renderer=dot]>div,.lu div.lu-body [data-renderer=dot]>div{background:gray;opacity:.7;border-radius:2.5px;width:5px;height:5px;margin-top:-2.5px;margin-left:-2.5px;top:50%;position:absolute}.lineup-engine>main>article [data-renderer=numbers],.lineup-engine>main>article [data-renderer=threshold],.lineup-engine>main>article [data-renderer=verticalbar],.lu div.lu-body [data-renderer=numbers],.lu div.lu-body [data-renderer=threshold],.lu div.lu-body [data-renderer=verticalbar]{display:flex;flex-direction:row;align-content:stretch;align-items:stretch}.lineup-engine>main>article [data-renderer=numbers] div,.lineup-engine>main>article [data-renderer=threshold] div,.lineup-engine>main>article [data-renderer=verticalbar] div,.lu div.lu-body [data-renderer=numbers] div,.lu div.lu-body [data-renderer=threshold] div,.lu div.lu-body [data-renderer=verticalbar] div{flex:1 1 auto}.lineup-engine>main>article [data-renderer=numbers] .lu-missing,.lineup-engine>main>article [data-renderer=threshold] .lu-missing,.lineup-engine>main>article [data-renderer=verticalbar] .lu-missing,.lu div.lu-body [data-renderer=numbers] .lu-missing,.lu div.lu-body [data-renderer=threshold] .lu-missing,.lu div.lu-body [data-renderer=verticalbar] .lu-missing{background-size:3px 3px}.lineup-engine>main>article [data-agg=group] [data-renderer=categorical],.lineup-engine>main>article [data-renderer=histogram],.lu div.lu-body [data-agg=group] [data-renderer=categorical],.lu div.lu-body [data-renderer=histogram]{display:flex;align-items:flex-end;font-size:x-small}.lineup-engine>main>article [data-agg=group] [data-renderer=categorical]>*,.lineup-engine>main>article [data-renderer=histogram]>*,.lu div.lu-body [data-agg=group] [data-renderer=categorical]>*,.lu div.lu-body [data-renderer=histogram]>*{flex:1 1 auto;position:relative;background:rgba(0,0,0,.26);margin:0 1px;display:flex;flex-direction:row;align-items:flex-end}.lineup-engine>main>article [data-agg=group] [data-renderer=categorical]>*>.lu-selected,.lineup-engine>main>article [data-renderer=histogram]>*>.lu-selected,.lu div.lu-body [data-agg=group] [data-renderer=categorical]>*>.lu-selected,.lu div.lu-body [data-renderer=histogram]>*>.lu-selected{flex:1 1 auto;background-color:orange;border-radius:5px 5px 0 0}.lineup-engine>main>article [data-renderer=image],.lu div.lu-body [data-renderer=image]{background-size:contain;background-position:50%;background-repeat:no-repeat;position:relative}.lineup-engine>main>article [data-renderer=image]:not(.lu-missing):before,.lu div.lu-body [data-renderer=image]:not(.lu-missing):before{content:"";position:absolute;width:100%;height:100%;background:url('+n(45)+');background-position:50%;background-repeat:no-repeat;background-blend-mode:overlay;z-index:-1}.lineup-engine>main>article [data-renderer=interleaving],.lu div.lu-body [data-renderer=interleaving]{display:flex;flex-direction:column}.lineup-engine>main>article [data-renderer=interleaving]>div,.lu div.lu-body [data-renderer=interleaving]>div{flex:1 1 0;overflow-y:hidden}.lineup-engine>main>article .lu-missing,.lu div.lu-body .lu-missing{background-image:linear-gradient(180deg,#c1c1c1 3px,transparent 0);background-position:50%;background-size:10px 3px;background-repeat:no-repeat}.lineup-engine>main>article .lu-missing>*,.lu div.lu-body .lu-missing>*{display:none}.lineup-engine>main>article [data-renderer=rank],.lu div.lu-body [data-renderer=rank]{text-align:right}.lineup-engine>main>article [data-agg=group] [data-renderer=rank],.lu div.lu-body [data-agg=group] [data-renderer=rank]{display:flex;flex-direction:column;justify-content:space-between}.lineup-engine>main>article [data-renderer=selection],.lu div.lu-body [data-renderer=selection]{text-align:center}.lineup-engine>main>article [data-renderer=selection]:before,.lu div.lu-body [data-renderer=selection]:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\\F096";padding-top:2px}.lineup-engine>main>article .lu-group-selected[data-renderer=selection]:before,.lineup-engine>main>article .lu-selected [data-renderer=selection]:before,.lineup-engine>main>article .selected [data-renderer=selection]:before,.lu div.lu-body .lu-group-selected[data-renderer=selection]:before,.lu div.lu-body .lu-selected [data-renderer=selection]:before,.lu div.lu-body .selected [data-renderer=selection]:before{content:"\\F046";padding-left:2px}.lineup-engine>main>article [data-renderer=sparkline] path,.lu div.lu-body [data-renderer=sparkline] path{stroke:#000;fill:none;vector-effect:non-scaling-stroke}.lineup-engine>main>article [data-renderer=sparkline] line,.lu div.lu-body [data-renderer=sparkline] line{stroke:#c1c1c1;stroke-width:1;vector-effect:non-scaling-stroke}.lineup-engine>main>article [data-renderer=nested]>*,.lineup-engine>main>article [data-renderer=stack]>*,.lu div.lu-body [data-renderer=nested]>*,.lu div.lu-body [data-renderer=stack]>*{height:100%;overflow:hidden}.lineup-engine>main>article [data-renderer=nested]>*>*,.lineup-engine>main>article [data-renderer=stack]>*>*,.lu div.lu-body [data-renderer=nested]>*>*,.lu div.lu-body [data-renderer=stack]>*>*{overflow:hidden}.lineup-engine>main>article [data-agg=group] [data-renderer=string],.lu div.lu-body [data-agg=group] [data-renderer=string]{display:flex;white-space:normal;flex-direction:column}.lineup-engine>main>article [data-agg=group] [data-renderer=string]>div,.lu div.lu-body [data-agg=group] [data-renderer=string]>div{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#a9a9a9}.lineup-engine>main>article [data-renderer=threshold],.lu div.lu-body [data-renderer=threshold]{align-items:flex-start}.lineup-engine>main>article [data-renderer=threshold]>div,.lu div.lu-body [data-renderer=threshold]>div{height:50%}.lineup-engine>main>article [data-renderer=threshold]>div.down,.lu div.lu-body [data-renderer=threshold]>div.down{align-self:flex-end}.lineup-engine>main>article [data-renderer=upset],.lu div.lu-body [data-renderer=upset]{position:relative;display:flex;align-items:center;justify-content:space-around}.lineup-engine>main>article [data-renderer=upset]>div:first-child,.lu div.lu-body [data-renderer=upset]>div:first-child{position:absolute;top:0;height:50%;border-bottom:1px solid #000}.lineup-engine>main>article [data-renderer=upset]>div:nth-child(n+2),.lu div.lu-body [data-renderer=upset]>div:nth-child(n+2){border-radius:50%;background-color:#676767;opacity:.1;width:15px;height:15px}.lineup-engine>main>article [data-renderer=upset]>div:nth-child(n+2).enabled,.lu div.lu-body [data-renderer=upset]>div:nth-child(n+2).enabled{opacity:1}.lineup-engine>main>article [data-renderer=upset] path,.lu div.lu-body [data-renderer=upset] path{stroke:#000;fill:none}.lineup-engine>main>article [data-renderer=verticalbar],.lu div.lu-body [data-renderer=verticalbar]{align-items:flex-end}.lineup-engine>main>article [data-renderer=verticalbar]>div,.lu div.lu-body [data-renderer=verticalbar]>div{position:relative}.lineup-engine>header>article,.lineup-engine>main>article>*{grid-column-gap:5px}.lineup-engine>main>article>* .lu-hover-only,.lineup-engine>main>article>* .lu-selection-only,.lineup-engine>main>article>.lu-hovered .lu-not-hover,.lineup-engine>main>article>.lu-selected .lu-not-hover,.lineup-engine>main>article>:hover .lu-not-hover{display:none}.lineup-engine>main>article>.lu-hovered .lu-hover-only,.lineup-engine>main>article>.lu-selected .lu-hover-only,.lineup-engine>main>article>:hover .lu-hover-only{display:block;padding-left:4px}.lineup-engine>main>article>[data-agg=group],.lineup-engine>main>article>[data-meta~=last]{margin-bottom:5px}.lineup-engine>main>article>.lu-selected{z-index:10;position:relative;box-shadow:2px 0 0 0 orange,0 2px 0 0 orange,2px 2px 0 0 orange,inset 2px 0 0 0 orange,inset 0 2px 0 0 orange}.lineup-engine>main>article>.lu-selected .lu-selection-only{display:block}.lineup-engine>main>article>* [data-renderer]{overflow-x:hidden;text-overflow:ellipsis}.lineup-engine>main>article>* .lu-grid-space{grid-column-gap:5px}.lu-side-panel>div>main>article,section.lu-header{position:relative;user-select:none;display:flex;flex-direction:column;justify-content:flex-start}.lu-side-panel>div>main>article .lu-toolbar,section.lu-header .lu-toolbar{position:relative;font-size:11pt;display:flex;justify-content:center;padding:3px}.lu-side-panel>div>main>article .lu-toolbar>i,section.lu-header .lu-toolbar>i{padding:2px 4px;cursor:pointer;position:relative;display:flex}.lu-side-panel>div>main>article .lu-toolbar>i:hover,section.lu-header .lu-toolbar>i:hover{color:#000}.lu-side-panel>div>main>article .lu-toolbar>i.hidden,section.lu-header .lu-toolbar>i.hidden{display:none}.lu-side-panel>div>main>article .lu-toolbar>i[title^=Sort][data-priority],.lu-side-panel>div>main>article .lu-toolbar>i[title^=Stratify][data-priority],section.lu-header .lu-toolbar>i[title^=Sort][data-priority],section.lu-header .lu-toolbar>i[title^=Stratify][data-priority]{padding-left:10px}.lu-side-panel>div>main>article .lu-toolbar>i[title^=Sort][data-priority]:after,.lu-side-panel>div>main>article .lu-toolbar>i[title^=Stratify][data-priority]:after,section.lu-header .lu-toolbar>i[title^=Sort][data-priority]:after,section.lu-header .lu-toolbar>i[title^=Stratify][data-priority]:after{content:attr(data-priority) ".";position:absolute;right:0;z-index:1;margin-top:2px;margin-right:65%;text-align:right;color:orange;font-style:normal;font-size:10px;font-weight:700;line-height:1;pointer-events:none}.lu-side-panel>div>main>article .lu-toolbar>i[title^=Stratify][data-priority],section.lu-header .lu-toolbar>i[title^=Stratify][data-priority]{padding-left:15px}.lu-side-panel>div>main>article .lu-toolbar>i[title^=Stratify][data-priority]:after,section.lu-header .lu-toolbar>i[title^=Stratify][data-priority]:after{margin-right:60%}.lu-side-panel>div>main>article.filtered .lu-toolbar i[title=Filter],.lu-side-panel>div>main>article.grouped .lu-toolbar i[title="Stratify by"],section.filtered.lu-header .lu-toolbar i[title=Filter],section.grouped.lu-header .lu-toolbar i[title="Stratify by"]{color:#c1c1c1}.lu-side-panel>div>main>article .lu-label,section.lu-header .lu-label{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.lu-side-panel>div>main>article.lu-dragging,section.lu-dragging.lu-header{opacity:.5}.lu-side-panel>div>main>article.lu-dragover:after,section.lu-dragover.lu-header:after{content:"+";font-size:250%;color:#fff;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;display:flex;align-items:center;justify-content:center;user-select:none;pointer-events:none;background:hsla(0,0%,59%,.8)}.lu-side-panel>div>main>article .lu-spacing,section.lu-header .lu-spacing{flex:1}.lu-side-panel>div>main>article .lu-summary,section.lu-header .lu-summary{position:relative;display:none;font-size:x-small}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist],section.lu-header .lu-summary[data-summary$=hist]{display:flex;align-items:flex-end}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>div,section.lu-header .lu-summary[data-summary$=hist]>div{flex:1 1 auto;position:relative;margin:0 1px;display:flex;flex-direction:row;align-items:flex-end}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>div[data-filtered=filtered],section.lu-header .lu-summary[data-summary$=hist]>div[data-filtered=filtered]{opacity:.2}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>div>.lu-selected,section.lu-header .lu-summary[data-summary$=hist]>div>.lu-selected{flex:1 1 auto;background-color:orange;border-radius:5px 5px 0 0}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>div[data-title]:before,section.lu-header .lu-summary[data-summary$=hist]>div[data-title]:before{content:attr(data-title);position:absolute;top:100%;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:center}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>span,section.lu-header .lu-summary[data-summary$=hist]>span{position:absolute;bottom:-15px;pointer-events:none;user-select:none;line-height:100%;background-image:linear-gradient(180deg,#000 3px,transparent);background-repeat:no-repeat;background-size:1px 3px;padding-top:5px}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>span:first-of-type,section.lu-header .lu-summary[data-summary$=hist]>span:first-of-type{left:0;background-position:0 0}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>span:last-of-type,section.lu-header .lu-summary[data-summary$=hist]>span:last-of-type{right:0;text-align:right;background-position:100% 0}.lu-side-panel>div>main>article .lu-summary[data-summary^=interactive]>div,section.lu-header .lu-summary[data-summary^=interactive]>div{cursor:pointer}.lu-side-panel>div>main>article .lu-summary[data-summary=interactive-filter-hist] label,section.lu-header .lu-summary[data-summary=interactive-filter-hist] label{position:absolute;bottom:-3.5em}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist],section.lu-header .lu-summary[data-summary=slider-hist]{margin-bottom:2.75em;position:relative}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>div,section.lu-header .lu-summary[data-summary=slider-hist]>div{background:#c1c1c1}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=max],.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=min],section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=max],section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=min]{position:absolute;height:100%;border-right:1px solid #000;transition:border-width .2s ease;width:1px;cursor:ew-resize}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=max]:before,.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=min]:before,section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=max]:before,section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=min]:before{content:attr(data-value);position:absolute;top:100%;width:5em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=max],section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=max]{right:0;border-right:none;border-left:1px solid #000}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=max]:before,section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=max]:before{left:-5em;text-align:right}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]:hover>[data-handle=min],section.lu-header .lu-summary[data-summary=slider-hist]:hover>[data-handle=min]{border-right-width:5px}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]:hover>[data-handle=max],section.lu-header .lu-summary[data-summary=slider-hist]:hover>[data-handle=max]{border-left-width:5px}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle$=hint],section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle$=hint]{pointer-events:none;position:absolute;height:100%;background:repeating-linear-gradient(-45deg,hsla(0,0%,100%,.7),hsla(0,0%,100%,.7) 7px,#bababa 0,#bababa 10px)}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle$=hint][data-handle=max-hint],section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle$=hint][data-handle=max-hint]{right:0}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist] label,section.lu-header .lu-summary[data-summary=slider-hist] label{position:absolute;bottom:-3.5em}.lu-side-panel>div>main>article .lu-summary[data-summary=aggregation]>i,.lu-side-panel>div>main>article .lu-summary[data-summary=selection]>i,section.lu-header .lu-summary[data-summary=aggregation]>i,section.lu-header .lu-summary[data-summary=selection]>i{cursor:pointer;font-size:150%}.lu-side-panel>div>main>article .lu-summary[data-summary=aggregation]>i,section.lu-header .lu-summary[data-summary=aggregation]>i{padding-right:4px}.lu-side-panel>div>main>article .lu-summary[data-summary=aggregation],.lu-side-panel>div>main>article .lu-summary[data-summary=selection],.lu-side-panel>div>main>article .lu-summary[data-summary=string],section.lu-header .lu-summary[data-summary=aggregation],section.lu-header .lu-summary[data-summary=selection],section.lu-header .lu-summary[data-summary=string]{display:block}.lu-side-panel>div>main>article .lu-summary label.lu-disabled,section.lu-header .lu-summary label.lu-disabled{color:gray;user-select:none;cursor:not-allowed}.lu-side-panel>div>main>article .lu-summary input[type=text],section.lu-header .lu-summary input[type=text]{width:100%;border:1px solid #999;border-radius:3px;padding:3px 5px}.lu-side-panel>div>main>article .lu-summary select,section.lu-header .lu-summary select{width:100%;border:1px solid #999;border-radius:3px;padding:3px 5px;outline:none;cursor:pointer}.lu-side-panel>div>main>article .lu-summary label,section.lu-header .lu-summary label{font-weight:400;display:flex;align-items:center;margin:5px 0}.lu-side-panel>div>main>article .lu-summary label input[type=checkbox],section.lu-header .lu-summary label input[type=checkbox]{margin:0 5px 0 0}.lu-side-panel>div>main>article .lu-nested,section.lu-header .lu-nested{position:relative}section.lu-header{text-align:center;color:#000;overflow:unset!important;margin-right:-5px;margin-bottom:15px;border-bottom:1px solid #000}section.lu-header.frozen:before{content:"";position:absolute;left:0;width:100%;height:15px;bottom:-15px;background:#fff;pointer-events:none}section.lu-header:hover{background-color:#f7f7f7}section.lu-header:hover>.lu-toolbar{color:#999}section.lu-header[draggable=true]{cursor:pointer;cursor:-moz-grab;cursor:-webkit-grab}section.lu-header>.lu-toolbar{color:#c1c1c1}section.lu-header>.lu-label{padding-left:.8em;margin-right:5px;font-weight:500}section.lu-header>.lu-sort{position:absolute;left:1px;top:1px;font-size:11pt}section.lu-header.lu-dragover:after{background:hsla(0,0%,59%,.8)}section.lu-header>.lu-summary{height:2em;margin-right:5px}section.lu-header>.lu-summary[data-summary=hist]>div,section.lu-header>.lu-summary[data-summary=slider-hist]>div{background:#c1c1c1}section.lu-header>.lu-nested{grid-column-gap:1px}section.lu-header>.lu-nested>section{border-bottom:none}section.lu-header>.lu-handle{position:absolute;right:0;width:5px;height:100%;background-color:#fff;cursor:col-resize;border-bottom:1px solid #fff;bottom:-1px}section.lu-header>.lu-handle.lu-dragover{background-color:hsla(0,0%,59%,.8)}section.lu-header>.lu-handle:hover{background-color:#e5e5e5}.lu-sub-nested>section{margin-bottom:5px}.lu-sub-nested>section>.lu-handle{height:5px;width:100%;bottom:-6px;left:0;right:0;cursor:inherit}section.lu-slopegraph svg{shape-rendering:geometricprecision;height:100%}section.lu-slopegraph svg path.lu-slope{fill:none;stroke:#a9a9a9;stroke-width:1;stroke-linecap:round}section.lu-slopegraph svg path.lu-slope.lu-selected,section.lu-slopegraph svg path.lu-slope:hover{z-index:10;stroke:orange}section.lu-slopegraph svg path.lu-group-slope{fill:hsla(0,0%,66%,.5);stroke:#a9a9a9;stroke-linejoin:round}section.lu-slopegraph svg path.lu-group-slope.lu-selected,section.lu-slopegraph svg path.lu-group-slope:hover{z-index:10;stroke:orange;fill:rgba(255,165,0,.5)}.lineup-engine>hr{position:absolute;left:0;top:0;width:1px;height:2px;margin:0;background-color:orange;border:none;transform-origin:left center;display:none;pointer-events:none;-moz-user-select:none;user-select:none}.lineup-engine>hr.lu-selection-active{display:block;z-index:1000}.lineup-engine article.lu-selection-active *{-moz-user-select:none;user-select:none}.lineup-engine{position:relative;display:flex;flex-direction:column;align-items:stretch;align-content:stretch;overflow-x:auto}.lineup-engine>header{flex:0 0 auto;overflow-x:hidden;margin-bottom:3px}.lineup-engine>header>:last-child{margin-right:5px}.lineup-engine>main{flex:1 1 auto;overflow-y:auto}.lineup-engine>header,.lineup-engine>main{display:flex;flex-direction:row;align-items:stretch;justify-content:stretch}.lineup-engine>header>*,.lineup-engine>main>*{flex:0 0 auto}.lineup-engine>header>article,.lineup-engine>main>article>div{display:-ms-grid;display:grid;grid-auto-flow:column;-ms-grid-column-align:stretch;-ms-grid-row-align:stretch;align-items:stretch;justify-items:stretch}.lineup-engine>header>article>*,.lineup-engine>main>article>div>*{overflow:hidden;text-overflow:ellipsis}.lineup-engine>header>article>.frozen,.lineup-engine>main>article>div>.frozen{background-color:#fff;z-index:1}.lineup-engine>main:not(.scrolling)>article>div{padding-top:2px}.lineup-engine>main:not(.scrolling)>article>div:hover{position:relative;z-index:2;box-shadow:2px 0 0 0 orange,0 2px 0 0 orange,2px 2px 0 0 orange,inset 2px 0 0 0 orange,inset 0 2px 0 0 orange}.lineup-engine:not(.ms-edge)>header>article>.frozen,.lineup-engine:not(.ms-edge)>main>article>div>.frozen{position:sticky;left:0}.lineup-engine .loading{background:url('+n(72)+") 50% contain repeat-x;background-blend-mode:overlay}.lineup-engine .loading>*{opacity:0}.lineup-engine.animated>header>article>*,.lineup-engine.animated>main>article>div>*{transition:opacity .5s;opacity:1}.lineup-engine.animated .loading{background-image:url("+n(45)+')}.lineup-engine article.le-row-animation>*{transition:all .5s linear}.lineup-engine article.le-row-animation>[data-animation=hide],.lineup-engine article.le-row-animation>[data-animation=show]{transition:all .25s linear}.lineup-engine article.le-row-animation.le-hide-animation>*{transition:all .5s linear .3s}.lineup-engine article.le-row-animation.le-hide-animation>[data-animation=hide]{transition:all .25s linear}.lineup-engine article.le-row-animation.le-hide-animation>[data-animation=show]{transition:all .25s linear .3s}.lineup-engine article.le-row-animation.le-update-animation>[data-animation=show]{transition:all .25s linear .55s}.lineup-engine article.le-row-animation.le-update-animation.le-hide-animation>[data-animation=show]{transition:all .25s linear .85s}.lineup-multi-engine>header,.lineup-multi-engine>main{display:grid}.lu-side-panel{display:flex;flex-direction:column;max-width:20em;min-width:15em}.lu-side-panel>header{flex:0 0 auto;text-align:center;padding:1em .5em;border-bottom:2px solid #dedede}.lu-side-panel>header form{position:relative}.lu-side-panel>header form select{width:100%;font-size:120%}.lu-side-panel>div{flex:1 1 auto;position:relative;overflow:auto}.lu-side-panel>div>main{counter-reset:side-panel-counter}.lu-side-panel>div>main>article,.lu-side-panel>div>main section.lu-header{position:relative;user-select:none;display:flex;flex-direction:column;justify-content:flex-start}.lu-side-panel>div>main>article .lu-toolbar,.lu-side-panel>div>main section.lu-header .lu-toolbar{position:relative;font-size:11pt;display:flex;justify-content:center;padding:3px}.lu-side-panel>div>main>article .lu-toolbar>i,.lu-side-panel>div>main section.lu-header .lu-toolbar>i{padding:2px 4px;cursor:pointer;position:relative;display:flex}.lu-side-panel>div>main>article .lu-toolbar>i:hover,.lu-side-panel>div>main section.lu-header .lu-toolbar>i:hover{color:#000}.lu-side-panel>div>main>article .lu-toolbar>i.hidden,.lu-side-panel>div>main section.lu-header .lu-toolbar>i.hidden{display:none}.lu-side-panel>div>main>article .lu-toolbar>i[title^=Sort][data-priority],.lu-side-panel>div>main>article .lu-toolbar>i[title^=Stratify][data-priority],.lu-side-panel>div>main section.lu-header .lu-toolbar>i[title^=Sort][data-priority],.lu-side-panel>div>main section.lu-header .lu-toolbar>i[title^=Stratify][data-priority]{padding-left:10px}.lu-side-panel>div>main>article .lu-toolbar>i[title^=Sort][data-priority]:after,.lu-side-panel>div>main>article .lu-toolbar>i[title^=Stratify][data-priority]:after,.lu-side-panel>div>main section.lu-header .lu-toolbar>i[title^=Sort][data-priority]:after,.lu-side-panel>div>main section.lu-header .lu-toolbar>i[title^=Stratify][data-priority]:after{content:attr(data-priority) ".";position:absolute;right:0;z-index:1;margin-top:2px;margin-right:65%;text-align:right;color:orange;font-style:normal;font-size:10px;font-weight:700;line-height:1;pointer-events:none}.lu-side-panel>div>main>article .lu-toolbar>i[title^=Stratify][data-priority],.lu-side-panel>div>main section.lu-header .lu-toolbar>i[title^=Stratify][data-priority]{padding-left:15px}.lu-side-panel>div>main>article .lu-toolbar>i[title^=Stratify][data-priority]:after,.lu-side-panel>div>main section.lu-header .lu-toolbar>i[title^=Stratify][data-priority]:after{margin-right:60%}.lu-side-panel>div>main>article.filtered .lu-toolbar i[title=Filter],.lu-side-panel>div>main>article.grouped .lu-toolbar i[title="Stratify by"],.lu-side-panel>div>main section.filtered.lu-header .lu-toolbar i[title=Filter],.lu-side-panel>div>main section.grouped.lu-header .lu-toolbar i[title="Stratify by"]{color:#c1c1c1}.lu-more-options i:before,.lu-toolbar i:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.lu-more-options i[title^="Rename + Color"]:before,.lu-toolbar i[title^="Rename + Color"]:before{content:"\\F044"}.lu-more-options i[title="Generate Snapshot"]:before,.lu-toolbar i[title="Generate Snapshot"]:before{content:"\\F126"}.lu-more-options i[title^="Sort by"]:before,.lu-toolbar i[title^="Sort by"]:before{content:"\\F0DC"}.lu-more-options i[title^=Visualization]:before,.lu-toolbar i[title^=Visualization]:before{content:"\\F0EC"}.lu-more-options i[title^="Edit Link Pattern"]:before,.lu-toolbar i[title^="Edit Link Pattern"]:before{content:"\\F08E"}.lu-more-options i[title^="Sort Group by"]:before,.lu-toolbar i[title^="Sort Group by"]:before{content:"\\F0DC"}.lu-more-options i[title^="Edit Combine Script"]:before,.lu-toolbar i[title^="Edit Combine Script"]:before{content:"\\F085"}.lu-more-options i[title="Split Combined Column"]:before,.lu-toolbar i[title="Split Combined Column"]:before{content:"\\F2D2"}.lu-more-options i[title^=Filter]:before,.lu-toolbar i[title^=Filter]:before{content:"\\F0B0"}.lu-more-options i[title^=Stratify]:before,.lu-toolbar i[title^=Stratify]:before{content:"\\F0DB";transform:rotate(-90deg);height:14px}.lu-more-options i[title=Sort]:before,.lu-toolbar i[title=Sort]:before{content:"\\F160"}.lu-more-options i[title=Sort][data-sort=desc]:before,.lu-toolbar i[title=Sort][data-sort=desc]:before{content:"\\F161"}.lu-more-options i[title=Sort][data-sort$=sc]:before,.lu-more-options i[title^=Stratify][data-stratify=true]:before,.lu-toolbar i[title=Sort][data-sort$=sc]:before,.lu-toolbar i[title^=Stratify][data-stratify=true]:before{color:orange}.lu-more-options i[title^="Set Cut Off"]:before,.lu-toolbar i[title^="Set Cut Off"]:before{content:"\\F0C4"}.lu-more-options i[title^=Search]:before,.lu-toolbar i[title^=Search]:before{content:"\\F002"}.lu-more-options i[title="Edit Weights"]:before,.lu-toolbar i[title="Edit Weights"]:before{content:"\\F0AE"}.lu-more-options i[title=UnCollapse]:before,.lu-toolbar i[title=UnCollapse]:before{content:"\\F152"}.lu-more-options i[title=Collapse]:before,.lu-toolbar i[title=Collapse]:before{content:"\\F191"}.lu-more-options i[title=Expand]:before,.lu-toolbar i[title=Expand]:before{content:"\\F065"}.lu-more-options i[title=Compress]:before,.lu-toolbar i[title=Compress]:before{content:"\\F066"}.lu-more-options i[title=Remove]:before,.lu-toolbar i[title=Remove]:before{content:"\\F1F8"}.lu-more-options i[title^=More]:before,.lu-toolbar i[title^=More]:before{content:"\\F141"}.lu-more-options i[title^="Contained Columns"]:before,.lu-toolbar i[title^="Contained Columns"]:before{content:"\\F0E8"}.annotate .lu-more-options i[title=Sort]:before,.annotate .lu-toolbar i[title=Sort]:before,.categorical .lu-more-options i[title=Sort]:before,.categorical .lu-toolbar i[title=Sort]:before,.hierarchy .lu-more-options i[title=Sort]:before,.hierarchy .lu-toolbar i[title=Sort]:before,.link .lu-more-options i[title=Sort]:before,.link .lu-toolbar i[title=Sort]:before,.string .lu-more-options i[title=Sort]:before,.string .lu-toolbar i[title=Sort]:before,[data-type=annotate] .lu-more-options i[title=Sort]:before,[data-type=annotate] .lu-toolbar i[title=Sort]:before,[data-type=categorical] .lu-more-options i[title=Sort]:before,[data-type=categorical] .lu-toolbar i[title=Sort]:before,[data-type=hierarchy] .lu-more-options i[title=Sort]:before,[data-type=hierarchy] .lu-toolbar i[title=Sort]:before,[data-type=link] .lu-more-options i[title=Sort]:before,[data-type=link] .lu-toolbar i[title=Sort]:before,[data-type=string] .lu-more-options i[title=Sort]:before,[data-type=string] .lu-toolbar i[title=Sort]:before{content:"\\F15D"}.annotate .lu-more-options i[title=Sort][data-sort=desc]:before,.annotate .lu-toolbar i[title=Sort][data-sort=desc]:before,.categorical .lu-more-options i[title=Sort][data-sort=desc]:before,.categorical .lu-toolbar i[title=Sort][data-sort=desc]:before,.hierarchy .lu-more-options i[title=Sort][data-sort=desc]:before,.hierarchy .lu-toolbar i[title=Sort][data-sort=desc]:before,.link .lu-more-options i[title=Sort][data-sort=desc]:before,.link .lu-toolbar i[title=Sort][data-sort=desc]:before,.string .lu-more-options i[title=Sort][data-sort=desc]:before,.string .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=annotate] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=annotate] .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=categorical] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=categorical] .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=hierarchy] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=hierarchy] .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=link] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=link] .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=string] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=string] .lu-toolbar i[title=Sort][data-sort=desc]:before{content:"\\F15E"}.number .lu-more-options i[title=Sort]:before,.number .lu-toolbar i[title=Sort]:before,.rank .lu-more-options i[title=Sort]:before,.rank .lu-toolbar i[title=Sort]:before,[data-type=boxplot] .lu-more-options i[title=Sort]:before,[data-type=boxplot] .lu-toolbar i[title=Sort]:before,[data-type=max] .lu-more-options i[title=Sort]:before,[data-type=max] .lu-toolbar i[title=Sort]:before,[data-type=min] .lu-more-options i[title=Sort]:before,[data-type=min] .lu-toolbar i[title=Sort]:before,[data-type=number] .lu-more-options i[title=Sort]:before,[data-type=number] .lu-toolbar i[title=Sort]:before,[data-type=numbers] .lu-more-options i[title=Sort]:before,[data-type=numbers] .lu-toolbar i[title=Sort]:before,[data-type=ordinal] .lu-more-options i[title=Sort]:before,[data-type=ordinal] .lu-toolbar i[title=Sort]:before,[data-type=script] .lu-more-options i[title=Sort]:before,[data-type=script] .lu-toolbar i[title=Sort]:before,[data-type=stack] .lu-more-options i[title=Sort]:before,[data-type=stack] .lu-toolbar i[title=Sort]:before{content:"\\F162"}.number .lu-more-options i[title=Sort][data-sort=desc]:before,.number .lu-toolbar i[title=Sort][data-sort=desc]:before,.rank .lu-more-options i[title=Sort][data-sort=desc]:before,.rank .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=boxplot] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=boxplot] .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=max] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=max] .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=min] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=min] .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=number] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=number] .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=numbers] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=numbers] .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=ordinal] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=ordinal] .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=script] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=script] .lu-toolbar i[title=Sort][data-sort=desc]:before,[data-type=stack] .lu-more-options i[title=Sort][data-sort=desc]:before,[data-type=stack] .lu-toolbar i[title=Sort][data-sort=desc]:before{content:"\\F163"}.lu-more-options{font-size:11pt;padding:0}.lu-more-options>i{display:flex;padding:5px 10px 5px 5px;align-items:center;cursor:pointer}.lu-more-options>i:hover{background:#e5e5e5}.lu-more-options>i:before{width:19px;text-align:center}.lu-more-options>i>span{font-style:normal;margin-left:3px}.lu-side-panel>div>main>article .lu-label,.lu-side-panel>div>main section.lu-header .lu-label{white-space:nowrap;overflow-x:hidden;text-overflow:ellipsis}.lu-side-panel>div>main>article.lu-dragging,.lu-side-panel>div>main section.lu-dragging.lu-header{opacity:.5}.lu-side-panel>div>main>article.lu-dragover:after,.lu-side-panel>div>main section.lu-dragover.lu-header:after{content:"+";font-size:250%;color:#fff;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;display:flex;align-items:center;justify-content:center;user-select:none;pointer-events:none;background:hsla(0,0%,59%,.8)}.lu-side-panel>div>main>article .lu-spacing,.lu-side-panel>div>main section.lu-header .lu-spacing{flex:1}.lu-side-panel>div>main>article .lu-summary,.lu-side-panel>div>main section.lu-header .lu-summary{position:relative;display:none;font-size:x-small}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary$=hist]{display:flex;align-items:flex-end}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>div,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary$=hist]>div{flex:1 1 auto;position:relative;margin:0 1px;display:flex;flex-direction:row;align-items:flex-end}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>div[data-filtered=filtered],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary$=hist]>div[data-filtered=filtered]{opacity:.2}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>div>.lu-selected,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary$=hist]>div>.lu-selected{flex:1 1 auto;background-color:orange;border-radius:5px 5px 0 0}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>div[data-title]:before,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary$=hist]>div[data-title]:before{content:attr(data-title);position:absolute;top:100%;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:center}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>span,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary$=hist]>span{position:absolute;bottom:-15px;pointer-events:none;user-select:none;line-height:100%;background-image:linear-gradient(180deg,#000 3px,transparent);background-repeat:no-repeat;background-size:1px 3px;padding-top:5px}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>span:first-of-type,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary$=hist]>span:first-of-type{left:0;background-position:0 0}.lu-side-panel>div>main>article .lu-summary[data-summary$=hist]>span:last-of-type,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary$=hist]>span:last-of-type{right:0;text-align:right;background-position:100% 0}.lu-side-panel>div>main>article .lu-summary[data-summary^=interactive]>div,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary^=interactive]>div{cursor:pointer}.lu-side-panel>div>main>article .lu-summary[data-summary=interactive-filter-hist] label,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=interactive-filter-hist] label{position:absolute;bottom:-3.5em}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]{margin-bottom:2.75em;position:relative}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>div,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]>div{background:#c1c1c1}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=max],.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=min],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=max],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=min]{position:absolute;height:100%;border-right:1px solid #000;transition:border-width .2s ease;width:1px;cursor:ew-resize}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=max]:before,.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=min]:before,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=max]:before,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=min]:before{content:attr(data-value);position:absolute;top:100%;width:5em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=max],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=max]{right:0;border-right:none;border-left:1px solid #000}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle=max]:before,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle=max]:before{left:-5em;text-align:right}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]:hover>[data-handle=min],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]:hover>[data-handle=min]{border-right-width:5px}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]:hover>[data-handle=max],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]:hover>[data-handle=max]{border-left-width:5px}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle$=hint],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle$=hint]{pointer-events:none;position:absolute;height:100%;background:repeating-linear-gradient(-45deg,hsla(0,0%,100%,.7),hsla(0,0%,100%,.7) 7px,#bababa 0,#bababa 10px)}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist]>[data-handle$=hint][data-handle=max-hint],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist]>[data-handle$=hint][data-handle=max-hint]{right:0}.lu-side-panel>div>main>article .lu-summary[data-summary=slider-hist] label,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=slider-hist] label{position:absolute;bottom:-3.5em}.lu-side-panel>div>main>article .lu-summary[data-summary=aggregation]>i,.lu-side-panel>div>main>article .lu-summary[data-summary=selection]>i,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=aggregation]>i,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=selection]>i{cursor:pointer;font-size:150%}.lu-side-panel>div>main>article .lu-summary[data-summary=aggregation]>i,.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=aggregation]>i{padding-right:4px}.lu-side-panel>div>main>article .lu-summary[data-summary=aggregation],.lu-side-panel>div>main>article .lu-summary[data-summary=selection],.lu-side-panel>div>main>article .lu-summary[data-summary=string],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=aggregation],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=selection],.lu-side-panel>div>main section.lu-header .lu-summary[data-summary=string]{display:block}.lu-side-panel>div>main>article .lu-summary label.lu-disabled,.lu-side-panel>div>main section.lu-header .lu-summary label.lu-disabled{color:gray;user-select:none;cursor:not-allowed}.lu-side-panel>div>main>article .lu-summary input[type=text],.lu-side-panel>div>main section.lu-header .lu-summary input[type=text]{width:100%;border:1px solid #999;border-radius:3px;padding:3px 5px}.lu-side-panel>div>main>article .lu-summary select,.lu-side-panel>div>main section.lu-header .lu-summary select{width:100%;border:1px solid #999;border-radius:3px;padding:3px 5px;outline:none;cursor:pointer}.lu-side-panel>div>main>article .lu-summary label,.lu-side-panel>div>main section.lu-header .lu-summary label{font-weight:400;display:flex;align-items:center;margin:5px 0}.lu-side-panel>div>main>article .lu-summary label input[type=checkbox],.lu-side-panel>div>main section.lu-header .lu-summary label input[type=checkbox]{margin:0 5px 0 0}.lu-side-panel>div>main>article .lu-nested,.lu-side-panel>div>main section.lu-header .lu-nested{position:relative}.lu-side-panel>div>main>article{counter-increment:side-panel-counter;background-color:#fff;margin-bottom:.8em}.lu-side-panel>div>main>article.lu-dragover:after{display:none}.lu-side-panel>div>main>article:before{content:"Drop here to change the sorting";position:absolute;z-index:2;opacity:0;visibility:hidden;margin-bottom:.8em;height:0;width:100%;user-select:none;pointer-events:none;font-size:120%;color:#000;display:flex;align-items:center;justify-content:center;border:2px dashed hsla(0,0%,59%,.8);background-color:hsla(0,0%,94%,.8);transition:height .2s ease,opacity .2s ease}.lu-side-panel>div>main>article.lu-dragover:before{position:static;height:50px;opacity:1;visibility:visible}.lu-side-panel>div>main>article>header{display:flex;align-content:space-between;background:#f0f0f0;padding:.2em .5em;position:relative;font-size:12pt;font-weight:500}.lu-side-panel>div>main>article>header:before{color:#999;padding-right:.2em;content:counter(side-panel-counter)}.lu-side-panel>div>main>article>header .lu-label{margin:0 1em 0 0;padding:0 0 0 .4em;overflow:hidden!important;cursor:pointer;flex:1}.lu-side-panel>div>main>article>header>.lu-toolbar{color:#999}.lu-side-panel>div>main>article .lu-toolbar{padding:0}.lu-side-panel>div>main>article main.lu-summary{margin:.5em;height:50px;font-size:small}.lu-side-panel>div>main>article main.lu-summary[data-summary=hist]>div,.lu-side-panel>div>main>article main.lu-summary[data-summary=slider-hist]>div{background:#c1c1c1}.lu-side-panel>div>main>article main.lu-summary[data-summary=interactive-filter-hist]{margin-bottom:3em}.lu-side-panel>div>main>article main.lu-summary[data-summary=string]{display:block;height:auto}.lu-side-panel .lu-search{position:relative}.lu-side-panel .lu-search>input{width:100%;border:1px solid #999;border-radius:4px;padding:3px 5px;outline:none}.lu-side-panel .lu-search>ul{display:none;position:absolute;overflow:auto;z-index:1000;max-height:0;background:#fff;text-align:left;padding:0;margin-top:-1px;transition:all .5s linear;list-style:none;border:1px solid #999;border-radius:0 0 3px 3px}.lu-side-panel .lu-search>ul.lu-search-empty:before{content:"No results found"}.lu-side-panel .lu-search>ul li,.lu-side-panel .lu-search>ul ul{list-style:none;margin:0;padding:0}.lu-side-panel .lu-search>ul li>span{padding:.2em;display:block}.lu-side-panel .lu-search>ul li.lu-search-group>span{background:#f0f0f0;text-transform:capitalize;padding-left:.4em;font-weight:700}.lu-side-panel .lu-search>ul li.lu-search-item>span{cursor:pointer;padding-left:.4em;pointer-events:auto}.lu-side-panel .lu-search>ul li.lu-search-highlighted>span,.lu-side-panel .lu-search>ul li.lu-search-item>span:hover{background-color:#f8f8f8}.lu-side-panel .lu-search.lu-search-open>input{border-radius:3px 3px 0 0}.lu-side-panel .lu-search.lu-search-open>ul{display:block;max-height:70vh}',""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66);n.d(t,"HeaderRenderer",function(){return r.a});var i=n(67);n.d(t,"PoolRenderer",function(){return i.a});var a=n(68);n.d(t,"createRenderer",function(){return a.a})}])});